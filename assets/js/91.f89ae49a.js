(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{360:function(s,a,t){"use strict";t.r(a);var e=t(13),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"mysqlè¿›é˜¶-ä¸Š"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysqlè¿›é˜¶-ä¸Š"}},[s._v("#")]),s._v(" mysqlè¿›é˜¶-ä¸Š")]),s._v(" "),t("h2",{attrs:{id:"ç¬¬ä¸€ç« -mysqlæ¶æ„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç¬¬ä¸€ç« -mysqlæ¶æ„"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#%E7%AC%AC%E4%B8%80%E7%AB%A0-mysql%E6%9E%B6%E6%9E%84",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ç¬¬ä¸€ç«  mysqlæ¶æ„")]),s._v(" "),t("h3",{attrs:{id:"ä¸€ã€mysqlçš„ç³»ç»Ÿæ¶æ„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€mysqlçš„ç³»ç»Ÿæ¶æ„"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#%E4%B8%80%E3%80%81mysql%E7%9A%84%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ä¸€ã€mysqlçš„ç³»ç»Ÿæ¶æ„")]),s._v(" "),t("h4",{attrs:{id:"_1ã€-æ•°æ®åº“å’Œæ•°æ®åº“å®ä¾‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€-æ•°æ®åº“å’Œæ•°æ®åº“å®ä¾‹"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_1%E3%80%81-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%92%8C%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E4%BE%8B",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("1ã€ æ•°æ®åº“å’Œæ•°æ®åº“å®ä¾‹")]),s._v(" "),t("p",[s._v("åœ¨MySQLçš„å­¦ä¹ ç ”ç©¶ä¸­ï¼Œå­˜åœ¨å‡ ä¸ªéå¸¸å®¹æ˜“æ··æ·†çš„æ¦‚å¿µï¼Œå³ã€æ•°æ®åº“ã€‘ã€ã€æ•°æ®åº“è½¯ä»¶ã€‘å’Œã€æ•°æ®åº“å®ä¾‹ã€‘ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("æ•°æ®åº“ï¼šæŒ‰ç…§æ•°æ®ç»“æ„æ¥ç»„ç»‡ã€å­˜å‚¨å’Œç®¡ç†æ•°æ®çš„ä»“åº“ï¼Œé€šå¸¸ç”±æ•°æ®åº“ç®¡ç†ç³»ç»Ÿè¿›è¡Œç®¡ç†ã€‚")]),s._v(" "),t("li",[s._v("æ•°æ®åº“ç®¡ç†è½¯ä»¶ï¼ˆRDBMSï¼‰ï¼šå°±æ˜¯æˆ‘ä»¬è¯´çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿè½¯ä»¶ï¼Œä»–å¼ºè°ƒè½¯ä»¶ã€‚")]),s._v(" "),t("li",[s._v("æ•°æ®åº“å®ä¾‹ï¼šå¯åŠ¨æ•°æ®åº“è½¯ä»¶ï¼Œåœ¨å†…å­˜ä¸­è¿è¡Œä¸€ä¸ªç‹¬ç«‹è¿›ç¨‹ï¼Œç”¨æ¥æ“ä½œæ•°æ®ï¼Œè¿™ä¸ªæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹å°±æ˜¯ä¸€ä¸ªæ•°æ®åº“å®ä¾‹ï¼Œç†è®ºä¸Šå¯ä»¥åœ¨ä¸€å°ç”µè„‘ä¸Šå¯åŠ¨å¤šä¸ªæ•°æ®åº“å®ä¾‹ï¼Œå½“ç„¶è¦ç›‘å¬åœ¨ä¸åŒçš„ç«¯å£ã€‚")])]),s._v(" "),t("h4",{attrs:{id:"_2ã€mysqlæ¶æ„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€mysqlæ¶æ„"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_2%E3%80%81mysql%E6%9E%B6%E6%9E%84",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("2ã€MySQLæ¶æ„")]),s._v(" "),t("p",[s._v("å¤æ‚çš„æ¶æ„æ˜¯ä¸ºäº†æ›´å¥½çš„å·¥ä½œï¼Œæ¶æ„ä¸­çš„æ¯ä¸€ä¸ªè§’è‰²éƒ½å¯ä»¥é«˜æ•ˆçš„å•ç‹¬å¤„ç†ä¸€ç±»äº‹ä»¶ï¼Œè¾…åŠ©æ•´ä¸ªç³»ç»Ÿçš„æµç•…è¿è¡Œï¼Œä¸¾ä¸ªä¾‹å­ï¼š")]),s._v(" "),t("p",[s._v("æ¯å¤©æœ‰å¾ˆå¤šäººæ‹œè®¿å¸‚é•¿ï¼Œä¸ºäº†èƒ½åˆç†çš„ç»™å¸‚é•¿å®‰æ’æ‹œè®¿å·¥ä½œï¼Œéœ€è¦å¯¹æ‹œè®¿æµç¨‹åšå‡ºå¤æ‚è®¾è®¡ï¼Œæ¯”å¦‚å…ˆè¦åœ¨é—¨å«å¤„åšèº«ä»½è®¤è¯ã€ç”±ä¼ è¾¾å®¤è´Ÿè´£æ¥é€šç”µè¯ç¡®è®¤æ˜¯å¦å¯ä»¥è®¿é—®ã€å¸‚é•¿åŠå…¬å®¤è´Ÿè´£æ¥å¾…ã€ä½ å¯èƒ½éœ€è¦æ’é˜Ÿç­‰å€™ã€ä½ çš„äº‹æƒ…å¦‚æœåŠå…¬å®¤å°±èƒ½è§£å†³å¯èƒ½å°±ä¸ç”¨è§å¸‚é•¿äº†ï¼Œæœ€åè½®åˆ°ä½ äº†ï¼Œä½ æ‰èƒ½è§ä¸Šå¸‚é•¿ï¼Œæ•´ä¸ªæ‹œè®¿æµç¨‹å°±æ˜¯è®¾è®¡çš„æ¶æ„ã€‚")]),s._v(" "),t("p",[s._v("å¯¹äºMySQLæ¥è¯´ï¼Œè™½ç„¶ç»å†äº†å¤šä¸ªç‰ˆæœ¬è¿­ä»£ï¼ˆMySQL5.5,MySQL 5.6,MySQL 5.7,MySQL 8ï¼‰,ä½†æ¯æ¬¡çš„è¿­ä»£ï¼Œéƒ½æ˜¯åŸºäºMySQLåŸºæ¶çš„ï¼ŒMySQLåŸºæ¶å¤§è‡´åŒ…æ‹¬å¦‚ä¸‹å‡ å¤§æ¨¡å—ç»„ä»¶ï¼Œå¦‚ä¸‹å›¾ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220425170356906.b2a52c35.png",alt:"image-20220425170356906"}})]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ1ï¼‰MySQLå‘å¤–æä¾›çš„äº¤äº’æ¥å£ï¼ˆConnectorsï¼‰")])]),s._v(" "),t("p",[s._v("Connectorsç»„ä»¶ï¼Œæ˜¯MySQLå‘å¤–æä¾›çš„äº¤äº’ç»„ä»¶ï¼Œå¦‚java,.net,phpç­‰è¯­è¨€å¯ä»¥é€šè¿‡è¯¥ç»„ä»¶æ¥æ“ä½œSQLè¯­å¥ï¼Œå®ç°ä¸SQLçš„äº¤äº’ã€‚é€šè¿‡å®¢æˆ·ç«¯/æœåŠ¡å™¨é€šä¿¡åè®®ä¸MySQLå»ºç«‹è¿æ¥ã€‚MySQL å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯çš„é€šä¿¡æ–¹å¼æ˜¯ â€œ åŠåŒå·¥ â€ã€‚å¯¹äºæ¯ä¸€ä¸ª MySQL çš„è¿æ¥ï¼Œæ—¶åˆ»éƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹çŠ¶æ€æ¥æ ‡è¯†è¿™ä¸ªè¿æ¥æ­£åœ¨åšä»€ä¹ˆã€‚")]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ2ï¼‰ç®¡ç†æœåŠ¡ç»„ä»¶å’Œå·¥å…·ç»„ä»¶(Management Service & Utilities)")])]),s._v(" "),t("p",[s._v("æä¾›MySQLçš„å„é¡¹æœåŠ¡ç»„ä»¶å’Œç®¡ç†å·¥å…·ï¼Œå¦‚å¤‡ä»½(Backup)ï¼Œæ¢å¤(Recovery)ï¼Œå®‰å…¨ç®¡ç†(Security)ç­‰åŠŸèƒ½ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ3ï¼‰è¿æ¥æ± ç»„ä»¶(Connection Pool)")])]),s._v(" "),t("p",[s._v("è´Ÿè´£ç›‘å¬å®¢æˆ·ç«¯å‘MySQL Serverç«¯çš„å„ç§è¯·æ±‚ï¼Œæ¥æ”¶è¯·æ±‚ï¼Œè½¬å‘è¯·æ±‚åˆ°ç›®æ ‡æ¨¡å—ã€‚æ¯ä¸ªæˆåŠŸè¿æ¥MySQL Serverçš„å®¢æˆ·è¯·æ±‚éƒ½ä¼šè¢«åˆ›å»ºæˆ–åˆ†é…ä¸€ä¸ªçº¿ç¨‹ï¼Œè¯¥çº¿ç¨‹è´Ÿè´£å®¢æˆ·ç«¯ä¸MySQL Serverç«¯çš„é€šä¿¡ï¼Œæ¥æ”¶å®¢æˆ·ç«¯å‘é€çš„å‘½ä»¤ï¼Œä¼ é€’æœåŠ¡ç«¯çš„ç»“æœä¿¡æ¯ç­‰ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ4ï¼‰SQLæ¥å£ç»„ä»¶(SQL Interface)")])]),s._v(" "),t("p",[s._v("æ¥æ”¶ç”¨æˆ·SQLå‘½ä»¤ï¼Œå¦‚DML,DDLå’Œå­˜å‚¨è¿‡ç¨‹ç­‰ï¼Œå¹¶å°†æœ€ç»ˆç»“æœè¿”å›ç»™ç”¨æˆ·ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ5ï¼‰æŸ¥è¯¢åˆ†æå™¨ç»„ä»¶(Parser)")])]),s._v(" "),t("p",[s._v("é¦–å…ˆåˆ†æSQLå‘½ä»¤è¯­æ³•çš„åˆæ³•æ€§ï¼Œå¹¶è¿›è¡ŒæŠ½è±¡è¯­æ³•æ ‘è§£æï¼Œå¦‚æœsqlæœ‰è¯­æ³•é”™è¯¯ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ä¿¡æ¯ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ6ï¼‰ä¼˜åŒ–å™¨ç»„ä»¶ï¼ˆOptimizerï¼‰")])]),s._v(" "),t("p",[s._v("å¯¹SQLå‘½ä»¤æŒ‰ç…§æ ‡å‡†æµç¨‹è¿›è¡Œä¼˜åŒ–åˆ†æï¼Œmysqlä¼šæŒ‰ç…§å®ƒè®¤ä¸ºçš„æœ€ä¼˜æ–¹å¼è¿›è¡Œä¼˜åŒ–ï¼Œé€‰ç”¨æˆæœ¬æœ€å°çš„æ‰§è¡Œè®¡åˆ’ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ7ï¼‰ç¼“å­˜ä¸»ä»¶ï¼ˆCaches & Buffersï¼‰")])]),s._v(" "),t("p",[s._v("ç¼“å­˜å’Œç¼“å†²ç»„ä»¶ï¼Œè¿™é‡Œè¾¹çš„å†…å®¹æˆ‘ä»¬åè¾¹ä¼šè¯¦ç»†çš„è®²è§£ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ8ï¼‰MySQLå­˜å‚¨å¼•æ“")])]),s._v(" "),t("p",[s._v("MySQLå±äºå…³ç³»å‹æ•°æ®åº“ï¼Œè€Œå…³ç³»å‹æ•°æ®åº“çš„å­˜å‚¨æ˜¯ä»¥è¡¨çš„å½¢å¼è¿›è¡Œçš„ï¼Œå¯¹äºè¡¨çš„åˆ›å»ºï¼Œæ•°æ®çš„å­˜å‚¨ï¼Œæ£€ç´¢ï¼Œæ›´æ–°ç­‰éƒ½æ˜¯ç”±MySQLå­˜å‚¨å¼•æ“å®Œæˆçš„ã€‚")]),s._v(" "),t("p",[s._v("MySQLå­˜å‚¨å¼•æ“åœ¨MySQLä¸­æ‰®æ¼”ç€é‡è¦è§’è‰²ã€‚ç ”ç©¶è¿‡SQL Serverå’ŒOracleçš„è¯»è€…å¯èƒ½å¾ˆæ¸…æ¥šï¼Œè¿™ä¸¤ç§æ•°æ®åº“çš„å­˜å‚¨å¼•æ“åªæœ‰ä¸€ä¸ªï¼Œè€ŒMySQLçš„å­˜å‚¨å¼•æ“ç§ç±»æ¯”è¾ƒå¤šï¼Œå¦‚MyIsamå­˜å‚¨å¼•æ“ï¼ŒInnoDBå­˜å‚¨å¼•æ“å’ŒMemoryå­˜å‚¨å¼•æ“ã€‚")]),s._v(" "),t("p",[s._v("å› ä¸ºmysqlæœ¬èº«å°±æ˜¯å¼€æºçš„ï¼Œä»–å…è®¸ç¬¬ä¸‰æ–¹åŸºäºMySQLéª¨æ¶ï¼Œå¼€å‘é€‚åˆè‡ªå·±ä¸šåŠ¡éœ€æ±‚çš„å­˜å‚¨å¼•æ“ã€‚ä»MySQLå­˜å‚¨å¼•æ“ç§ç±»ä¸Šæ¥è¯´ï¼Œå¯ä»¥åˆ†ä¸ºå®˜æ–¹å­˜å‚¨å¼•æ“å’Œç¬¬ä¸‰æ–¹å­˜å‚¨å¼•æ“ï¼Œæ¯”è¾ƒå¸¸ç”¨çš„å­˜å‚¨å¼•æ“åŒ…æ‹¬InnoDBå­˜å‚¨å¼•æ“ï¼ŒMyIsamå­˜å‚¨å¼•æ“å’ŒMomeryå­˜å‚¨å¼•æ“ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("æŸ¥è¯¢æµç¨‹å¤§è‡´å¦‚ä¸‹ï¼š")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220424195802351.3a69069f.png",alt:"image-20220424195802351"}})]),s._v(" "),t("p",[t("strong",[s._v("å°é—®é¢˜ï¼šMySQL8.0ä¸ºä»€ä¹ˆå–æ¶ˆäº†æŸ¥è¯¢ç¼“å­˜ï¼Ÿ")])]),s._v(" "),t("p",[s._v("ã€MySQLç¼“å­˜æœºåˆ¶ã€‘ç®€å•çš„è¯´å°±æ˜¯ç¼“å­˜sqlæ–‡æœ¬åŠæŸ¥è¯¢ç»“æœï¼Œå¦‚æœè¿è¡Œå®Œå…¨ç›¸åŒçš„SQLï¼ŒæœåŠ¡å™¨ç›´æ¥ä»ç¼“å­˜ä¸­å–åˆ°ç»“æœï¼Œè€Œä¸éœ€è¦å†å»è§£æå’Œæ‰§è¡ŒSQLã€‚ä½†å¦‚æœè¡¨ä¸­ä»»ä½•æ•°æ®æˆ–æ˜¯ç»“æ„å‘ç”Ÿæ”¹å˜ï¼ŒåŒ…æ‹¬INSERTã€UPDATEã€DELETEã€TRUNCATEã€ALTER TABLEã€DROP TABLEæˆ–DROP DATABASEç­‰ï¼Œé‚£ä¹ˆä½¿ç”¨è¿™ä¸ªè¡¨çš„æ‰€æœ‰ç¼“å­˜æŸ¥è¯¢å°†ä¸å†æœ‰æ•ˆï¼ŒæŸ¥è¯¢ç¼“å­˜ä¸­ç›¸å…³æ¡ç›®è¢«æ¸…ç©ºã€‚ç¼“å­˜æ˜¯å¯¹ç³»ç»Ÿæ€§èƒ½ä¼˜åŒ–çš„é‡è¦æ‰‹æ®µã€‚ä½†æ˜¯æœ‰ç»éªŒçš„DBAéƒ½å»ºè®®ç”Ÿäº§ç¯å¢ƒä¸­æŠŠMySQL Query Cacheå…³é—­ã€‚MySQL8.0æ›´æ˜¯ç›´æ¥å–æ¶ˆäº†æŸ¥è¯¢ç¼“å­˜ï¼Œå…¶åŸå› æœ‰ä¸‹ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("MySQLä¼šå¯¹æ¯æ¡æ¥æ”¶åˆ°çš„SELECTç±»å‹çš„æŸ¥è¯¢è¿›è¡Œhashè®¡ç®—ï¼Œç„¶åæŸ¥æ‰¾è¿™ä¸ªæŸ¥è¯¢çš„ç¼“å­˜ç»“æœæ˜¯å¦å­˜åœ¨ã€‚è™½ç„¶hashè®¡ç®—å’ŒæŸ¥æ‰¾çš„æ•ˆç‡å·²ç»è¶³å¤Ÿé«˜äº†ï¼Œä¸€æ¡æŸ¥è¯¢è¯­å¥æ‰€å¸¦æ¥çš„å¼€é”€å¯ä»¥å¿½ç•¥ï¼Œä½†ä¸€æ—¦æ¶‰åŠåˆ°é«˜å¹¶å‘ï¼Œæœ‰æˆåƒä¸Šä¸‡æ¡æŸ¥è¯¢è¯­å¥æ—¶ï¼Œhashè®¡ç®—å’ŒæŸ¥æ‰¾æ‰€å¸¦æ¥çš„å¼€é”€å°±å¿…é¡»é‡è§†äº†ã€‚")]),s._v(" "),t("li",[s._v("æŸ¥è¯¢è¯­å¥çš„å­—ç¬¦å¤§å°å†™ã€ç©ºæ ¼æˆ–è€…æ³¨é‡Šçš„ä¸åŒï¼ŒQuery Cacheéƒ½ä¼šè®¤ä¸ºæ˜¯ä¸åŒçš„æŸ¥è¯¢ï¼ˆå› ä¸ºä»–ä»¬çš„hashå€¼ä¼šä¸åŒï¼‰ã€‚")]),s._v(" "),t("li",[s._v("å½“å‘æŸä¸ªè¡¨å†™å…¥æ•°æ®çš„æ—¶å€™ï¼Œå¿…é¡»å°†å’Œè¿™ä¸ªè¡¨ç›¸å…³çš„æ‰€æœ‰ç¼“å­˜è®¾ç½®ä¸ºå¤±æ•ˆï¼Œå¦‚æœç¼“å­˜å†…å®¹å¾ˆå¤šï¼Œåˆ™æ¶ˆè€—ä¹Ÿä¼šå¾ˆå¤§ï¼Œå¯èƒ½ä½¿ç³»ç»Ÿåƒµæ­»ï¼Œå› ä¸ºè¿™ä¸ªæ“ä½œæ˜¯é å…¨å±€é”æ“ä½œæ¥ä¿æŠ¤çš„ã€‚")])]),s._v(" "),t("p",[s._v("å½“ç„¶è¿˜æœ‰ä¸€äº›å…¶ä»–åŸå› ï¼Œæˆ‘ä»¬å­¦ä¹ çš„è¿‡ç¨‹ä¸­æ…¢æ…¢ä½“ä¼šã€‚")]),s._v(" "),t("h3",{attrs:{id:"äºŒã€ç›®å½•ç»“æ„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€ç›®å½•ç»“æ„"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#%E4%BA%8C%E3%80%81%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("äºŒã€ç›®å½•ç»“æ„")]),s._v(" "),t("h4",{attrs:{id:"_1ã€windowsä¸­çš„ç›®å½•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€windowsä¸­çš„ç›®å½•"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_1%E3%80%81windows%E4%B8%AD%E7%9A%84%E7%9B%AE%E5%BD%95",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("1ã€windowsä¸­çš„ç›®å½•")]),s._v(" "),t("p",[s._v("åœ¨mysqlå¯åŠ¨çš„æ—¶å€™ï¼Œä¼šä»ã€å®‰è£…ç›®å½•ã€‘åŠ è½½è½¯ä»¶æ•°æ®ï¼Œåœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œä¼šä»ã€æ•°æ®ç›®å½•ã€‘ä¸­è¯»å–æ•°æ®ã€‚è¿™ä¸¤ä¸ªç›®å½•æˆ‘ä»¬ä¸è¦æ”¾åœ¨ä¸€èµ·ï¼Œé¿å…é‡æ–°å®‰è£…è½¯ä»¶å¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚")]),s._v(" "),t("h5",{attrs:{id:"_1-mysqlå®‰è£…ç›®å½•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-mysqlå®‰è£…ç›®å½•"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_1-mysql%E5%AE%89%E8%A3%85%E7%9B%AE%E5%BD%95",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ï¼ˆ1ï¼‰ mysqlå®‰è£…ç›®å½•")]),s._v(" "),t("p",[s._v("é»˜è®¤å®‰è£…ç›®å½•ï¼šC:\\Program Files\\MySQL")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220424195435853.ffca9813.png",alt:"image-20220424195435853"}})]),s._v(" "),t("ul",[t("li",[t("code",[s._v("bin")]),s._v("ç›®å½•ï¼šç”¨äºæ”¾ç½®ä¸€äº›å¯æ‰§è¡Œçš„å·¥å…·æ–‡ä»¶ï¼Œå¦‚mysql.exeã€mysqld.exeã€mysqlshow.exeç­‰ã€‚")]),s._v(" "),t("li",[t("code",[s._v("include")]),s._v("ç›®å½•ï¼šç”¨äºæ”¾ç½®ä¸€äº›å¤´æ–‡ä»¶ï¼Œå¦‚ï¼šmysql.hã€mysql_ername.hç­‰ã€‚")]),s._v(" "),t("li",[t("code",[s._v("lib")]),s._v("ç›®å½•ï¼šç”¨äºæ”¾ç½®ä¸€ç³»åˆ—åº“æ–‡ä»¶ã€‚")])]),s._v(" "),t("h5",{attrs:{id:"_2-æ•°æ®æ–‡ä»¶ç›®å½•-é‡è¦"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-æ•°æ®æ–‡ä»¶ç›®å½•-é‡è¦"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_2-%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95-%E9%87%8D%E8%A6%81",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ï¼ˆ2ï¼‰æ•°æ®æ–‡ä»¶ç›®å½•ï¼ˆé‡è¦ï¼‰")]),s._v(" "),t("p",[s._v("é»˜è®¤æ•°æ®ç›®å½•ï¼šC:\\ProgramData\\MySQL\\MySQL Server 8.0ï¼Œæ³¨æ„ProgramDataæ˜¯ä¸€ä¸ªéšè—ç›®å½•ï¼Œéœ€è¦è®¾ç½®ä¸ºã€æ˜¾ç¤ºéšè—æ–‡ä»¶ã€‘ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220424195619219.9d7ce386.png",alt:"image-20220424195619219"}})]),s._v(" "),t("p",[t("code",[s._v("data")]),s._v("ç›®å½•ï¼šç”¨äºæ”¾ç½®ä¸€äº›æ—¥å¿—æ–‡ä»¶ä»¥åŠæ•°æ®åº“ã€‚")]),s._v(" "),t("p",[s._v("æˆ‘ä»¬å‘ç°åœ¨dataç›®å½•ä¿å­˜çš„æ˜¯æˆ‘ä»¬çš„çœŸæ˜¯çš„æ•°æ®ï¼Œæ¯ä¸ªæ•°æ®åº“ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220424235111862.444cb544.png",alt:"image-20220424235111862"}})]),s._v(" "),t("p",[s._v("æ¯å¼ è¡¨åˆæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶ï¼Œä¸åŒçš„å­˜å‚¨å¼•æ“çš„æ–‡ä»¶å­˜å‚¨æ–¹å¼ä¸åŒï¼šä¸ä»…èƒ½å¿«æ²¡äº†ï¼Œ")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220424235244545.35dc0cdb.png",alt:"image-20220424235244545"}})]),s._v(" "),t("ul",[t("li",[t("p",[s._v("my.iniçš„éƒ¨åˆ†æˆªå›¾å¦‚ä¸‹ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220424234944753.ede12acc.png",alt:"image-20220424234944753"}})])])]),s._v(" "),t("p",[s._v("é…ç½®æ–‡ä»¶å¾ˆé‡è¦ï¼Œæ‰€è°“é…ç½®æ–‡ä»¶å°±æ˜¯é…ç½®ä¸€ä¸‹ä½ çš„mysqlè®©ä»–æˆä¸ºä½ æƒ³è¦çš„çš„æ ·å­ï¼Œè¿™é‡Œå¯ä»¥é…ç½®å¤§é‡çš„ä¿¡æ¯ï¼Œæˆ‘ä»¬æ”¾åœ¨æ–‡æ¡£æœ€åçš„é™„å½•ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_2ã€linuxä¸­çš„æ–‡ä»¶ç›®å½•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€linuxä¸­çš„æ–‡ä»¶ç›®å½•"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_2%E3%80%81linux%E4%B8%AD%E7%9A%84%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("2ã€linuxä¸­çš„æ–‡ä»¶ç›®å½•")]),s._v(" "),t("p",[s._v("linuxçš„å„é¡¹ç›®å½•å¯ä»¥åœ¨æˆ‘ä»¬å®‰è£…æ—¶è‡ªç”±é€‰å®šï¼Œæˆ‘ä»¬é€‰å–ä¸€ä¸ªäº‘æœåŠ¡å™¨ï¼Œçœ‹çœ‹é‡Œè¾¹çš„mysqlçš„ç›®å½•ç»“æ„ï¼š")]),s._v(" "),t("p",[s._v("ï¼ˆ1ï¼‰æˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶æŸ¥çœ‹å½“å‰mysqlçš„ä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼Œlinuxä¸­çš„é…ç½®æ–‡ä»¶åœ¨etcç›®å½• ï¼Œåç§°ä¸ºmy.cnfï¼Œå¦‚ä¸‹ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220507095721892.f5e6adbd.png",alt:"image-20220507095721892"}})]),s._v(" "),t("p",[s._v("ï¼ˆ2ï¼‰binç›®å½•ï¼Œä¸€äº›å¯æ‰§è¡Œæ–‡ä»¶ï¼ŒåŒ…æ‹¬")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220507102512199.e2f47841.png",alt:"image-20220507102512199"}})]),s._v(" "),t("p",[t("strong",[s._v("binç›®å½•å·¥å…·æ±‡æ€»ï¼š")])]),s._v(" "),t("blockquote",[t("p",[s._v("MySQLæœåŠ¡å™¨ç«¯å·¥å…·")])]),s._v(" "),t("ul",[t("li",[s._v("mysqldï¼šSQLåå°ä¿æŠ¤ç¨‹åº(MySQLæœåŠ¡å™¨è¿›ç¨‹)ã€‚è¯¥ç¨‹åºå¿…é¡»è¿è¡Œä¹‹åã€‚å®¢æˆ·ç«¯æ‰èƒ½é€šè¿‡è¿æ¥æœåŠ¡å™¨ç«¯ç¨‹åºè®¿é—®å’Œæ“ä½œæ•°æ®åº“ã€‚")]),s._v(" "),t("li",[s._v("mysqld_safeï¼šMySQLæœåŠ¡è„šæœ¬ã€‚mysql_safeå¢åŠ äº†ä¸€äº›å®‰å…¨ç‰¹æ€§ï¼Œå¦‚å½“å‡ºç°é”™è¯¯æ—¶é‡å¯æœåŠ¡å™¨ï¼Œå‘é”™è¯¯æ—¥å¿—æ–‡ä»¶å†™å…¥è¿è¡Œæ—¶é—´ä¿¡æ¯ã€‚")]),s._v(" "),t("li",[s._v("mysql.serverï¼šMySQLæœåŠ¡å¯åŠ¨æœæœ¬ã€‚è°ƒç”¨mysqld_safeæ¥å¯åŠ¨MySQLæœåŠ¡ã€‚")]),s._v(" "),t("li",[s._v("mysql_multiï¼šæœåŠ¡å™¨å¯åŠ¨è„šæœ¬ï¼Œå¯ä»¥å¯åŠ¨æˆ–åœæ­¢ç³»ç»Ÿä¸Šå®‰è£…çš„å¤šä¸ªæœåŠ¡ã€‚")]),s._v(" "),t("li",[s._v("myiasmchkï¼šç”¨æ¥æè¿°ã€æ£€æŸ¥ã€ä¼˜åŒ–å’Œç»´æŠ¤MyISAMè¡¨çš„å®ç”¨å·¥å…·ã€‚")]),s._v(" "),t("li",[s._v("mysqlbuï¼šMySQLç¼ºé™·æŠ¥å‘Šè„šæœ¬ã€‚å®ƒå¯ä»¥ç”¨æ¥å‘MySQLé‚®ä»¶ç³»ç»Ÿå‘é€ç¼ºé™·æŠ¥å‘Šã€‚")]),s._v(" "),t("li",[s._v("mysql_install_dbï¼šç”¨äºé»˜è®¤æƒé™åˆ›å»ºMySQæˆæƒè¡¨ã€‚é€šå¸¸åªæ˜¯åœ¨ç³»ç»Ÿä¸Šé¦–æ¬¡å®‰è£…MySQLæ—¶æ‰§è¡Œä¸€æ¬¡ã€‚")])]),s._v(" "),t("blockquote",[t("p",[s._v("MySQLå®¢æˆ·ç«¯å·¥å…·")])]),s._v(" "),t("ul",[t("li",[s._v("mysqlï¼šäº¤äº’å¼è¾“å…¥SQLè¯­å¥æˆ–ä»æ–‡ä»¶ä»¥æ‰¹å¤„ç†æ¨¡å¼æ‰§è¡ŒSQLè¯­å¥æ¥æ“ä½œæ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œå°±æ˜¯æˆ‘ä»¬çš„å®¢æˆ·ç«¯ã€‚")]),s._v(" "),t("li",[s._v("mysqldumpï¼šå°†MySQLæ•°æ®åº“è½¬å‚¨åˆ°ä¸€ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥ç”¨æ¥å¤‡ä»½æ•°æ®åº“ã€‚")]),s._v(" "),t("li",[s._v("mysqladminï¼šç”¨æ¥æ£€ç´¢ç‰ˆæœ¬ã€è¿›ç¨‹ã€ä»¥åŠæœåŠ¡å™¨çš„çŠ¶æ€ä¿¡æ¯ã€‚")]),s._v(" "),t("li",[s._v("mysqlbinlogï¼šç”¨äºä»äºŒè¿›åˆ¶æ—¥å¿—è¯»å–è¯­å¥ã€‚åœ¨äºŒè¿›åˆ¶æ—¥å¿—æ–‡ä»¶ä¸­åŒ…å«æ‰§è¡Œçš„è¯­å¥ï¼Œå¯ç”¨æ¥å¸®åŠ©ç³»ç»Ÿä»å´©æºƒä¸­æ¢å¤ã€‚")]),s._v(" "),t("li",[s._v("mysqlcheckï¼šæ£€æŸ¥ã€ä¿®å¤ã€åˆ†æä»¥åŠä¼˜åŒ–è¡¨çš„è¡¨ç»´æŠ¤ã€‚")]),s._v(" "),t("li",[s._v("mysqlhotcopyï¼šå½“æœåŠ¡å™¨åœ¨è¿è¡Œæ—¶ï¼Œå¿«é€Ÿå¤‡ä»½MyISAMæˆ–ISAMè¡¨çš„å·¥å…·ã€‚")]),s._v(" "),t("li",[s._v("mysql importï¼šä½¿ç”¨load data infileå°†æ–‡æœ¬æ–‡ä»¶å¯¼å…¥ç›¸å…³è¡¨çš„å®¢æˆ·ç¨‹åºã€‚")]),s._v(" "),t("li",[s._v("perrorï¼šæ˜¾ç¤ºç³»ç»Ÿæˆ–MySQLé”™è¯¯ä»£ç å«ä¹‰çš„å·¥å…·ã€‚")]),s._v(" "),t("li",[s._v("myisampackï¼šå‹ç¼©MyISAPè¡¨ï¼Œäº§ç”Ÿæ›´å°çš„åªè¯»è¡¨ã€‚")]),s._v(" "),t("li",[s._v("mysaqlaccessï¼šæ£€æŸ¥è®¿é—®ä¸»æœºåã€ç”¨æˆ·åå’Œæ•°æ®åº“ç»„åˆçš„æƒé™ã€‚")])]),s._v(" "),t("p",[s._v("mysqlæ˜¯ä¸€ä¸ªå¾ˆå¸¸ç”¨çš„ã€mysqlå®¢æˆ·ç«¯å·¥å…·ã€‘ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸‹å‘½ä»¤è¿æ¥æœ¬æœºæˆ–è€…è¿œç¨‹çš„mysqlæœåŠ¡ï¼š")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v(" mysql "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-h")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("124.220")]),s._v(".197.17 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-P")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-uroot")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("strong",[s._v("tips")]),s._v("ï¼šæˆ‘ä»¬çœ‹åˆ°åœ¨é…ç½®æ–‡ä»¶ä¸­æœ‰ä¸€ä¸ªsocketçš„é…ç½®ï¼Œsocket å³ Unix åŸŸå¥—æ¥å­—æ–‡ä»¶ï¼Œåœ¨ç±» unix å¹³å°ï¼Œå®¢æˆ·ç«¯è¿æ¥ MySQL æœåŠ¡ç«¯çš„æ–¹å¼æœ‰ä¸¤ç§ï¼Œåˆ†åˆ«æ˜¯ TCP/IP æ–¹å¼ä¸ socket å¥—æ¥å­—æ–‡ä»¶æ–¹å¼ã€‚Unix å¥—æ¥å­—æ–‡ä»¶è¿æ¥çš„é€Ÿåº¦æ¯” TCP/IP å¿«ï¼Œä½†æ˜¯åªèƒ½è¿æ¥åˆ°åŒä¸€å°è®¡ç®—æœºä¸Šçš„æœåŠ¡å™¨ä½¿ç”¨ã€‚é€šè¿‡è®¾ç½® socket å˜é‡å¯é…ç½®å¥—æ¥å­—æ–‡ä»¶è·¯å¾„åŠåç§°ï¼Œé»˜è®¤å€¼ä¸º /tmp/mysql.sockã€‚æœ¬åœ°å®¢æˆ·ç«¯çš„è¿æ¥é»˜è®¤ä¼šä½¿ç”¨åˆ°è¯¥æ–‡ä»¶ï¼š")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("mysql "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-uroot")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-S")]),s._v(" /tmp/mysql.sock\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("å¦‚æœmysql.sockæ–‡ä»¶è¯¯åˆ çš„è¯ï¼Œå°±éœ€è¦é‡å¯mysqlæœåŠ¡")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220507102421872.f0e9cd30.png",alt:"image-20220507102421872"}})]),s._v(" "),t("p",[s._v("æ¥ç€ç»™å¤§å®¶ä»‹ç»ä¸€ä¸ªã€æ•°æ®å¤‡ä»½å·¥å…·ã€‘ï¼Œmysqldumpå¯ä»¥ç”¨æ¥å®ç°è½»é‡çº§çš„ã€å¿«é€Ÿè¿ç§»æˆ–æ¢å¤æ•°æ®åº“ã€‘ã€‚ mysqldumpæ˜¯å°†æ•°æ®è¡¨å¯¼æˆ SQL è„šæœ¬æ–‡ä»¶ï¼Œåœ¨ä¸åŒçš„ MySQL ç‰ˆæœ¬ä¹‹é—´å‡çº§æ—¶ç›¸å¯¹æ¯”è¾ƒåˆé€‚ï¼Œè¿™ä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„å¤‡ä»½æ–¹æ³•ã€‚mysqldumpä¸€èˆ¬åœ¨æ•°æ®é‡å¾ˆå°çš„æ—¶å€™ï¼ˆå‡ ä¸ªGï¼‰å¯ä»¥ç”¨äº å¤‡ä»½ã€‚å½“æ•°æ®é‡æ¯”è¾ƒå¤§çš„æƒ…å†µä¸‹ï¼Œå°±ä¸å»ºè®®ç”¨mysqldumpå·¥å…·è¿›è¡Œå¤‡ä»½äº†ã€‚ä¸‹è¾¹æˆ‘ä»¬ç®€å•çš„ä½¿ç”¨mysqldumpå·¥å…·è¿›è¡Œå¤‡ä»½æ•°æ®ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- å¤‡ä»½ä¸€ä¸ªè¡¨")]),s._v("\nmysqldump "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("u root "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p ydlclass ydl_user  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("dump")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- å¤‡ä»½ä¸€ä¸ªæ•°æ®åº“")]),s._v("\nmysqldump "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("u root "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p ydlclass  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("dump")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- å¤‡ä»½æ‰€æœ‰æ•°æ®åº“")]),s._v("\nmysqldump "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("u root "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--all-databases > dump.txt")]),s._v("\n\nå¤‡ä»½å®Œæˆä¹‹åä½¿ç”¨\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("æ¢å¤æ•°æ®ï¼Œä½¿ç”¨mysqlæŒ‡ä»¤ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v("mysql "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("u root "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p ydl "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("dump")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("ï¼ˆ3ï¼‰æ•°æ®åº“æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶æˆ‘ä»¬åŒæ ·å¯ä»¥è‡ªç”±æŒ‡å®šï¼Œè¯¥æ–‡ä»¶å¤¹åŒ…å«äº†æ—¥å¿—æ–‡ä»¶ï¼Œä»¥åŠæˆ‘ä»¬çš„æ•°æ®æ–‡ä»¶ï¼Œè¿™äº›åœ¨åè¾¹çš„è¯¾ç¨‹ä¸­ä¼šè¯¦ç»†ä»‹ç»ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220507112543589.288eb8e4.png",alt:"image-20220507112543589"}})]),s._v(" "),t("h3",{attrs:{id:"ä¸‰ã€å­—ç¬¦é›†å’Œæ’åºè§„åˆ™"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰ã€å­—ç¬¦é›†å’Œæ’åºè§„åˆ™"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#%E4%B8%89%E3%80%81%E5%AD%97%E7%AC%A6%E9%9B%86%E5%92%8C%E6%8E%92%E5%BA%8F%E8%A7%84%E5%88%99",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ä¸‰ã€å­—ç¬¦é›†å’Œæ’åºè§„åˆ™")]),s._v(" "),t("p",[s._v("mysqlæ”¯æŒå¤§é‡çš„å­—ç¬¦é›†ï¼Œä½†æ˜¯æˆ‘ä»¬é€šå¸¸ä½¿ç”¨çš„æ˜¯utf8ï¼Œã€show collationã€‘å‘½ä»¤å¯ä»¥æŸ¥çœ‹mysqlæ”¯æŒçš„æ‰€æœ‰çš„æ’åºè§„åˆ™å’Œå­—ç¬¦é›†ï¼Œå¦‚ä¸‹æ‰€ç¤ºéƒ¨åˆ†ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220427114132237.2a65cd95.png",alt:"image-20220427114132237"}})]),s._v(" "),t("p",[s._v("ç”±ä¸Šå›¾å¯çŸ¥ï¼Œä¸€ç§å­—ç¬¦é›†å¯¹åº”çš„å¾ˆå¤šæ¯”è¾ƒè§„åˆ™ã€‚")]),s._v(" "),t("p",[s._v("ä¸¾ä¸ªä¾‹å­ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("utf8-polish-ciï¼Œè¡¨ç¤ºutf-8çš„å­—ç¬¦é›†çš„æ³¢å…°è¯­çš„æ¯”è¾ƒè§„åˆ™ï¼Œciä»£è¡¨å¿½ç•¥å¤§å°å†™ã€‚")]),s._v(" "),t("li",[s._v("utf8-general-ciï¼Œå°±æ˜¯é€šç”¨çš„å¿½ç•¥å¤§å°å†™çš„utf8å­—ç¬¦é›†æ¯”è¾ƒè§„åˆ™ã€‚")]),s._v(" "),t("li",[s._v("utf8mb4_0900_ai_ciä¸­çš„0900æŒ‡çš„æ˜¯Unicode 9.0çš„è§„èŒƒï¼Œåè¾¹çš„åç¼€ä»£è¡¨ä¸åŒºåˆ†é‡éŸ³ä¹Ÿä¸åŒºåˆ†å¤§å°å†™ï¼Œä»–æ˜¯utf8mb4å­—ç¬¦é›†ä¸€ä¸ªæ–°çš„é€šç”¨æ’åºå½’åˆ™ã€‚")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("åç¼€")]),s._v(" "),t("th",[s._v("è‹±æ–‡")]),s._v(" "),t("th",[s._v("æè¿°")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("_ai")]),s._v(" "),t("td",[s._v("accent insensitive")]),s._v(" "),t("td",[s._v("ä¸åŒºåˆ†é‡éŸ³ï¼ˆÃ¨ï¼ŒÃ©ï¼ŒÃªå’ŒÃ«ï¼‰")])]),s._v(" "),t("tr",[t("td",[s._v("_as")]),s._v(" "),t("td",[s._v("accent sensitive")]),s._v(" "),t("td",[s._v("åŒºåˆ†é‡éŸ³")])]),s._v(" "),t("tr",[t("td",[s._v("_ci")]),s._v(" "),t("td",[s._v("case insensitive")]),s._v(" "),t("td",[s._v("ä¸åŒºåˆ†å¤§å°å†™")])]),s._v(" "),t("tr",[t("td",[s._v("_cs")]),s._v(" "),t("td",[s._v("case sensitive")]),s._v(" "),t("td",[s._v("åŒºåˆ†å¤§å°å†™")])]),s._v(" "),t("tr",[t("td",[s._v("_bin")]),s._v(" "),t("td",[s._v("binary")]),s._v(" "),t("td",[s._v("ä»¥äºŒè¿›åˆ¶çš„å½¢å¼è¿›è¡Œæ¯”è¾ƒ")])])])]),s._v(" "),t("p",[s._v("utf8å’Œutf8mb4çš„åŒºåˆ«ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("utf8mb3(utf-8)ï¼šä½¿ç”¨1~3ä¸ªå­—èŠ‚è¡¨ç¤ºå­—ç¬¦ï¼Œutf8é»˜è®¤å°±æ˜¯utf8mb3ã€‚")]),s._v(" "),t("li",[s._v("utf8mb4ï¼šä½¿ç”¨1~4ä¸ªå­—èŠ‚è¡¨ç¤ºå­—ç¬¦ï¼Œä»–æ˜¯utf8çš„è¶…é›†ï¼Œç”šè‡³å¯ä»¥å­˜å‚¨å¾ˆå¤šã€emojiè¡¨æƒ…ğŸ˜€ğŸ˜ƒğŸ˜„ğŸ˜ğŸ˜†ã€‘ï¼Œmysql8.0å·²ç»é»˜è®¤å­—ç¬¦é›†è®¾ç½®ä¸ºutf8mb4ã€‚")])]),s._v(" "),t("p",[s._v("ã€å­—ç¬¦é›†ã€‘å’Œã€æ¯”è¾ƒè§„åˆ™ã€‘å¯ä»¥ä½œç”¨åœ¨å…¨å±€ã€æ•°æ®åº“ã€è¡¨ã€ç”šè‡³æ˜¯åˆ—çº§åˆ«ï¼š")]),s._v(" "),t("p",[s._v("å…¨å±€ï¼š")]),s._v(" "),t("p",[s._v("mysqlæä¾›ä¸¤ä¸ªå˜é‡ï¼Œè¿›è¡Œå…¨å±€è®¾ç½®ã€‚ã€character_set_serverã€‘å’Œã€collate_serverã€‘å¯¹å…¨å±€çš„å­—ç¬¦é›†å’Œæ’åºè§„åˆ™è¿›è¡Œè®¾ç½®ã€‚è¿™ä¸¤ä¸ªè®¾ç½®å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹ã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220427160641490.e72633a5.png",alt:"image-20220427160641490"}})]),s._v(" "),t("p",[s._v("åœ¨åˆ›å»ºè¡¨æ—¶ï¼Œå¯ä»¥å¯¹æ•°æ®åº“ã€è¡¨ã€åˆ—æŒ‡å®šå­—ç¬¦é›†å’Œæ’åºè§„åˆ™ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- æŒ‡å®šæ•°æ®åº“")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("database")]),s._v(" æ•°æ®åº“å "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("character")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" å­—ç¬¦é›†  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("collate")]),s._v(" æ¯”è¾ƒè§„åˆ™\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" è¡¨å"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\tåˆ—å åˆ—ç±»å‹ \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("character")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" å­—ç¬¦é›† "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("collate")]),s._v(" æ¯”è¾ƒè§„åˆ™\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" è¡¨å"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\tåˆ—å åˆ—ç±»å‹ "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("character")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" å­—ç¬¦é›†"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("collate")]),s._v(" æ¯”è¾ƒè§„åˆ™"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h3",{attrs:{id:"å››ã€mysqlä¿®æ”¹é…ç½®çš„æ–¹æ³•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å››ã€mysqlä¿®æ”¹é…ç½®çš„æ–¹æ³•"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#%E5%9B%9B%E3%80%81mysql%E4%BF%AE%E6%94%B9%E9%85%8D%E7%BD%AE%E7%9A%84%E6%96%B9%E6%B3%95",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("å››ã€mysqlä¿®æ”¹é…ç½®çš„æ–¹æ³•")]),s._v(" "),t("p",[s._v("åœ¨mysqlä¸­å˜é‡åˆ†ä¸ºå…¨å±€å˜é‡å’Œä¼šè¯å˜é‡ï¼Œæˆ‘ä»¬ä¸€ä¸€è®²è§£ï¼š")]),s._v(" "),t("h4",{attrs:{id:"_1ã€å…¨å±€å˜é‡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€å…¨å±€å˜é‡"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_1%E3%80%81%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("1ã€å…¨å±€å˜é‡")]),s._v(" "),t("p",[s._v("ï¼ˆ1ï¼‰æŸ¥çœ‹å…¨å±€å˜é‡")]),s._v(" "),t("p",[s._v("æˆ‘ä»¬æŸ¥çœ‹ä¸€ä¸ªå…¨å±€å˜é‡wait_timeoutçš„å€¼ï¼ˆè¿™ä¸ªå€¼ä»£è¡¨ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„è¿æ¥ä¸ç”Ÿäº¤äº’åå¤šä¹…è‡ªåŠ¨æ–­å¼€è¿æ¥ï¼‰ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("global")]),s._v(" variables "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("like")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%wait_timeout%'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" @"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@global.wait_timeout")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("ï¼ˆ2ï¼‰è®¾ç½®å…¨å±€å˜é‡æ–¹æ³•1ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶, ç„¶åé‡å¯mysqldï¼š")]),s._v(" "),t("div",{staticClass:"language-ini line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ini"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vi /etc/my.cnf")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token section"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token section-name selector"}},[s._v("mysqld")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("wait_timeout")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("10000")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# service mysqld restart")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("ï¼ˆ3ï¼‰è®¾ç½®å…¨å±€å˜é‡æ–¹æ³•2ï¼ˆæ¨èï¼‰ï¼Œåœ¨å‘½ä»¤è¡Œé‡Œé€šè¿‡SETæ¥è®¾ç½®ï¼š")]),s._v(" "),t("p",[s._v('å¦‚æœè¦ä¿®æ”¹å…¨å±€å˜é‡, å¿…é¡»è¦æ˜¾ç¤ºæŒ‡å®š"GLOBAL"æˆ–è€…"@@global."ï¼ŒåŒæ—¶å¿…é¡»è¦æœ‰SUPERæƒé™.ï¼š')]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("global")]),s._v(" wait_timeout"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" @"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@global.wait_timeout")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("ç„¶åæŸ¥çœ‹è®¾ç½®æ˜¯å¦æˆåŠŸ:")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("global")]),s._v(" variables "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("like")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'wait_timeout'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" @"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@global.wait_timeout")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h4",{attrs:{id:"_2ã€å½“å‰ä¼šè¯çš„å˜é‡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€å½“å‰ä¼šè¯çš„å˜é‡"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_2%E3%80%81%E5%BD%93%E5%89%8D%E4%BC%9A%E8%AF%9D%E7%9A%84%E5%8F%98%E9%87%8F",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("2ã€å½“å‰ä¼šè¯çš„å˜é‡")]),s._v(" "),t("p",[s._v('å¦‚æœè¦ä¿®æ”¹ä¼šè¯å˜é‡å€¼, å¯ä»¥æŒ‡å®š"SESSION"æˆ–è€…"@@session."æˆ–è€…"@@"æˆ–è€…"LOCAL"æˆ–è€…"@@local.", æˆ–è€…ä»€ä¹ˆéƒ½ä¸ä½¿ç”¨ã€‚è¯­æ³•è¯­æ³•ï¼š')]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" wait_timeout"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("session")]),s._v(" wait_timeout"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("local")]),s._v(" wait_timeout"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" @"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@wait_timeout")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" @"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@session.wait_timeout")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" @"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@local.wait_timeout")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("ç„¶åæŸ¥çœ‹è®¾ç½®æ˜¯å¦æˆåŠŸ:")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" @"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@wait_timeout")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" @"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@session.wait_timeout")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" @"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@local.wait_timeout")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" variables "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("like")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'wait_timeout'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("local")]),s._v(" variables "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("like")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'wait_timeout'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("session")]),s._v(" variables "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("like")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'wait_timeout'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"äº”ã€å†…ç½®æ•°æ®åº“"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#äº”ã€å†…ç½®æ•°æ®åº“"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#%E4%BA%94%E3%80%81%E5%86%85%E7%BD%AE%E6%95%B0%E6%8D%AE%E5%BA%93",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("äº”ã€å†…ç½®æ•°æ®åº“")]),s._v(" "),t("ul",[t("li",[s._v("mysqlï¼šè¿™ä¸ªåº“å¾ˆé‡è¦ï¼Œä»–æ˜¯mysqlçš„æ ¸å¿ƒæ•°æ®åº“ï¼Œè´Ÿè´£å­˜å‚¨æ•°æ®åº“çš„ç”¨æˆ·ã€æƒé™è®¾ç½®ã€å…³é”®å­—ç­‰mysqlè‡ªå·±éœ€è¦ä½¿ç”¨ï¼Œæ§åˆ¶å’Œç®¡ç†çš„ä¿¡æ¯ã€‚")]),s._v(" "),t("li",[s._v("information_schemaï¼šè¿™ä¸ªæ•°æ®åº“ç»´æŠ¤äº†æ•°æ®åº“å…¶ä»–è¡¨çš„ä¸€äº›æè¿°æ€§ä¿¡æ¯ï¼Œä¹Ÿç§°ä¸ºå…ƒæ•°æ®ã€‚æ¯”å¦‚ï¼Œå½“å‰æœ‰å“ªäº›è¡¨ï¼Œå“ªäº›è§†å›¾ï¼Œå“ªäº›è§¦å‘å™¨ï¼Œå“ªäº›åˆ—ç­‰ã€‚")]),s._v(" "),t("li",[s._v("performation_schemaï¼šè¿™ä¸ªæ•°æ®åº“ç”¨æ¥å­˜å‚¨mysqlæœåŠ¡å™¨è¿è¡Œè¿‡ç¨‹ä¸­çš„ä¸€äº›çŠ¶æ€ä¿¡æ¯ï¼Œæ˜¯åšæ€§èƒ½ç›‘æ§çš„ã€‚æ¯”å¦‚æœ€è¿‘æ‰§è¡Œäº†ä»€ä¹ˆsqlè¯­å¥ï¼Œå†…å­˜ä½¿ç”¨æƒ…å†µç­‰")]),s._v(" "),t("li",[s._v("sysï¼šç»“åˆinformation_schemaå’Œperformation_schemaçš„æ•°æ®ï¼Œèƒ½æ›´æ–¹ä¾¿çš„äº†è§£mysqlæœåŠ¡å™¨çš„æ€§èƒ½ä¿¡æ¯ã€‚")])]),s._v(" "),t("h2",{attrs:{id:"ç¬¬äºŒç« -i-oå’Œå­˜å‚¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç¬¬äºŒç« -i-oå’Œå­˜å‚¨"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#%E7%AC%AC%E4%BA%8C%E7%AB%A0-i-o%E5%92%8C%E5%AD%98%E5%82%A8",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ç¬¬äºŒç«  I/Oå’Œå­˜å‚¨")]),s._v(" "),t("p",[s._v("**è°ˆè°ˆæ€§èƒ½ï¼š**mysqlé€šå¸¸å†³å®šäº†ä¸€ä¸ªç³»ç»Ÿçš„æ€§èƒ½ç“¶é¢ˆï¼Œæ‰§è¡Œä¸€æ¡sqlçš„æˆæœ¬ä¸»è¦åœ¨äºä»¥ä¸‹ä¸¤ä¸ªæ–¹é¢ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("I/Oæˆæœ¬ï¼šæˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„MyIsamå’ŒInnoDBå­˜å‚¨å¼•æ“éƒ½æ˜¯å°†æ•°æ®å­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼Œå½“æŸ¥è¯¢è¡¨ä¸­çš„è®°å½•æ—¶ï¼Œéœ€è¦å…ˆå°†æ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œç„¶åè¿›è¡Œæ“ä½œï¼Œè¿™ä¸ªä»ç£ç›˜åˆ°å†…å­˜çš„åŠ è½½è¿‡ç¨‹æŸè€—çš„æ—¶é—´æˆä¸ºI/Oæˆæœ¬ã€‚")]),s._v(" "),t("li",[s._v("CPUæˆæœ¬ï¼šè¯»å–è®°å½•ä»¥åŠæ£€æµ‹è®°å½•æ˜¯å¦æ»¡è¶³å¯¹åº”çš„æœç´¢æ¡ä»¶ã€å¯¹ç»“æœé›†è¿›è¡Œæ’åºç­‰è¿™äº›æ“ä½œæ‰€æ¶ˆè€—çš„æ—¶é—´ç§°ä¹‹ä¸ºCPUæˆæœ¬ã€‚")])]),s._v(" "),t("p",[s._v("æœ¬ç« èŠ‚æˆ‘ä»¬èŠä¸€èŠI/Oæˆæœ¬ã€‚")]),s._v(" "),t("h3",{attrs:{id:"ä¸€ã€ioæˆæœ¬"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€ioæˆæœ¬"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#%E4%B8%80%E3%80%81io%E6%88%90%E6%9C%AC",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ä¸€ã€IOæˆæœ¬")]),s._v(" "),t("p",[s._v("æˆ‘ä»¬æƒ³æƒ³è¦äº†è§£mysqlçš„I/Oæˆæœ¬ï¼Œå°±éœ€è¦çŸ¥é“è®¡ç®—æœºçš„ç£ç›˜æ˜¯æ€ä¹ˆå·¥ä½œçš„ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_1ã€ç£ç›˜çš„ç»“æ„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€ç£ç›˜çš„ç»“æ„"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_1%E3%80%81%E7%A3%81%E7%9B%98%E7%9A%84%E7%BB%93%E6%9E%84",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("1ã€ç£ç›˜çš„ç»“æ„")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20201122150129276.837e618f.png",alt:"image-20201122150129276"}})]),s._v(" "),t("h5",{attrs:{id:"_1-ç›˜ç‰‡ã€ç‰‡é¢å’Œç£å¤´"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-ç›˜ç‰‡ã€ç‰‡é¢å’Œç£å¤´"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_1-%E7%9B%98%E7%89%87%E3%80%81%E7%89%87%E9%9D%A2%E5%92%8C%E7%A3%81%E5%A4%B4",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ï¼ˆ1ï¼‰ç›˜ç‰‡ã€ç‰‡é¢å’Œç£å¤´")]),s._v(" "),t("p",[s._v("ç¡¬ç›˜ä¸­ä¸€èˆ¬ä¼šæœ‰å¤šä¸ªã€ç›˜ç‰‡ã€‘ç»„æˆï¼Œæ¯ä¸ªç›˜ç‰‡åŒ…å«ã€ä¸¤ä¸ªé¢ã€‘ï¼Œæ¯ä¸ªç›˜é¢éƒ½å¯¹åº”çš„æœ‰ä¸€ä¸ªã€è¯»/å†™ç£å¤´ã€‘ã€‚å—åˆ°ç¡¬ç›˜æ•´ä½“ä½“ç§¯å’Œç”Ÿäº§æˆæœ¬çš„é™åˆ¶ï¼Œç›˜ç‰‡æ•°é‡éƒ½å—åˆ°é™åˆ¶ï¼Œä¸€èˆ¬éƒ½åœ¨5ç‰‡ä»¥å†…ã€‚ç›˜ç‰‡çš„ç¼–å·ã€è‡ªä¸‹å‘ä¸Šã€‘ä»0å¼€å§‹ï¼Œå¦‚æœ€ä¸‹è¾¹çš„ç›˜ç‰‡æœ‰0é¢å’Œ1é¢ï¼Œå†ä¸Šä¸€ä¸ªç›˜ç‰‡å°±ç¼–å·ä¸º2é¢å’Œ3é¢ã€‚")]),s._v(" "),t("p",[s._v("ç»“æ„ç¤ºæ„å›¾ï¼Œå¦‚å›¾ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220424195930213.55095177.png",alt:"image-20220424195930213"}})]),s._v(" "),t("h5",{attrs:{id:"_2-æ‰‡åŒºå’Œç£é“"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-æ‰‡åŒºå’Œç£é“"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_2-%E6%89%87%E5%8C%BA%E5%92%8C%E7%A3%81%E9%81%93",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ï¼ˆ2ï¼‰æ‰‡åŒºå’Œç£é“")]),s._v(" "),t("p",[s._v("ä¸‹å›¾æ˜¾ç¤ºçš„æ˜¯ä¸€ä¸ªç›˜é¢ï¼Œç›˜é¢ä¸­ä¸€åœˆåœˆç°è‰²åŒå¿ƒåœ†ä¸ºä¸€æ¡æ¡ç£é“ï¼Œä»åœ†å¿ƒå‘å¤–ç”»ç›´çº¿ï¼Œå¯ä»¥å°†ç£é“åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªå¼§æ®µï¼Œæ¯ä¸ªç£é“ä¸Šä¸€ä¸ªå¼§æ®µè¢«ç§°ä¹‹ä¸ºä¸€ä¸ªæ‰‡åŒºï¼ˆå›¾è·µç»¿è‰²éƒ¨åˆ†ï¼‰ã€‚æ‰‡åŒºæ˜¯ç£ç›˜çš„æœ€å°ç»„æˆå•å…ƒï¼Œé€šå¸¸æ˜¯512å­—èŠ‚ã€‚ï¼ˆç”±äºä¸æ–­æé«˜ç£ç›˜çš„å¤§å°ï¼Œéƒ¨åˆ†å‚å•†è®¾å®šæ¯ä¸ªæ‰‡åŒºçš„å¤§å°æ˜¯4096å­—èŠ‚ï¼‰ï¼›")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220424195949755.9516f689.png",alt:"image-20220424195949755"}})]),s._v(" "),t("h5",{attrs:{id:"_3-ç£å¤´å’ŒæŸ±é¢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-ç£å¤´å’ŒæŸ±é¢"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_3-%E7%A3%81%E5%A4%B4%E5%92%8C%E6%9F%B1%E9%9D%A2",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ï¼ˆ3ï¼‰ç£å¤´å’ŒæŸ±é¢")]),s._v(" "),t("p",[s._v("ç¡¬ç›˜é€šå¸¸ç”±é‡å çš„ä¸€ç»„ç›˜ç‰‡æ„æˆï¼Œæ¯ä¸ªç›˜é¢éƒ½è¢«åˆ’åˆ†ä¸ºæ•°ç›®ç›¸ç­‰çš„ç£é“ï¼Œå¹¶ä»å¤–ç¼˜çš„â€œ0â€å¼€å§‹ç¼–å·ï¼Œå…·æœ‰ç›¸åŒç¼–å·çš„ç£é“å½¢æˆä¸€ä¸ªåœ†æŸ±ï¼Œç§°ä¹‹ä¸ºç£ç›˜çš„æŸ±é¢ã€‚ç£ç›˜çš„æŸ±é¢æ•°ä¸ä¸€ä¸ªç›˜é¢ä¸Šçš„ç£é“æ•°æ˜¯ç›¸ç­‰çš„ã€‚ç”±äºæ¯ä¸ªç›˜é¢éƒ½æœ‰è‡ªå·±çš„ç£å¤´ï¼Œå› æ­¤ï¼Œç›˜é¢æ•°ç­‰äºæ€»çš„ç£å¤´æ•°ã€‚ å¦‚ä¸‹å›¾")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220425153537739.a5e991d6.png",alt:"image-20220425153537739"}})]),s._v(" "),t("h4",{attrs:{id:"_2ã€ç£ç›˜å®¹é‡è®¡ç®—"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€ç£ç›˜å®¹é‡è®¡ç®—"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_2%E3%80%81%E7%A3%81%E7%9B%98%E5%AE%B9%E9%87%8F%E8%AE%A1%E7%AE%97",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("2ã€ç£ç›˜å®¹é‡è®¡ç®—")]),s._v(" "),t("p",[s._v("å­˜å‚¨å®¹é‡ ï¼ ç£å¤´æ•° Ã— ç£é“(æŸ±é¢)æ•° Ã— æ¯é“æ‰‡åŒºæ•° Ã— æ¯æ‰‡åŒºå­—èŠ‚æ•°")]),s._v(" "),t("p",[s._v("å›¾3ä¸­ç£ç›˜æ˜¯ä¸€ä¸ª 3ä¸ªåœ†ç›˜6ä¸ªç£å¤´ï¼Œ7ä¸ªæŸ±é¢ï¼ˆæ¯ä¸ªç›˜ç‰‡7ä¸ªç£é“ï¼‰ çš„ç£ç›˜ï¼Œå›¾3ä¸­æ¯æ¡ç£é“æœ‰12ä¸ªæ‰‡åŒºï¼Œæ‰€ä»¥æ­¤ç£ç›˜çš„å®¹é‡ä¸ºï¼š")]),s._v(" "),t("p",[s._v("å­˜å‚¨å®¹é‡ 6 * 7 * 12 * 512 = 258048")]),s._v(" "),t("p",[s._v("**tipsï¼š**æœ‰äº›ã€å¤è€ç¡¬ç›˜ã€‘æ¯ä¸ªç£é“çš„æ‰‡åŒºæ•°ä¸€æ ·ï¼Œå¤–åœˆçš„å¯†åº¦å°ï¼Œå†…åœˆçš„å¯†åº¦å¤§ï¼Œæ¯åœˆå¯å­˜å‚¨çš„æ•°æ®é‡æ˜¯ä¸€æ ·çš„ã€‚ç°åœ¨çš„ç¡¬ç›˜æ•°æ®çš„å¯†åº¦éƒ½ä¸€è‡´ï¼Œè¿™æ ·ç£é“çš„å‘¨é•¿è¶Šé•¿ï¼Œæ‰‡åŒºå°±è¶Šå¤šï¼Œå­˜å‚¨çš„æ•°æ®é‡å°±è¶Šå¤§ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_3ã€ç£ç›˜è¯»å–å“åº”æ—¶é—´"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3ã€ç£ç›˜è¯»å–å“åº”æ—¶é—´"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_3%E3%80%81%E7%A3%81%E7%9B%98%E8%AF%BB%E5%8F%96%E5%93%8D%E5%BA%94%E6%97%B6%E9%97%B4",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("3ã€ç£ç›˜è¯»å–å“åº”æ—¶é—´")]),s._v(" "),t("ol",[t("li",[s._v("å¯»é“æ—¶é—´ï¼šç£å¤´ä»å¼€å§‹ç§»åŠ¨åˆ°æ•°æ®æ‰€åœ¨ç£é“æ‰€éœ€è¦çš„æ—¶é—´ï¼Œå¯»é“æ—¶é—´è¶ŠçŸ­ï¼ŒI/Oæ“ä½œè¶Šå¿«ï¼Œç›®å‰ç£ç›˜çš„å¹³å‡å¯»é“æ—¶é—´ä¸€èˆ¬åœ¨3ï¼15msï¼Œä¸€èˆ¬éƒ½åœ¨10mså·¦å³ã€‚")]),s._v(" "),t("li",[s._v("æ—‹è½¬å»¶è¿Ÿï¼šç›˜ç‰‡æ—‹è½¬å°†è¯·æ±‚æ•°æ®æ‰€åœ¨æ‰‡åŒºç§»è‡³è¯»å†™ç£å¤´ä¸‹æ–¹æ‰€éœ€è¦çš„æ—¶é—´ï¼Œæ—‹è½¬å»¶è¿Ÿå–å†³äºç£ç›˜è½¬é€Ÿã€‚æ™®é€šç¡¬ç›˜ä¸€èˆ¬éƒ½æ˜¯7200rpmï¼Œå¤§æ¦‚ä¸€åœˆ8msï¼Œæ…¢çš„5400rpmã€‚")]),s._v(" "),t("li",[s._v("æ•°æ®ä¼ è¾“æ—¶é—´ï¼šå®Œæˆä¼ è¾“æ‰€è¯·æ±‚çš„æ•°æ®æ‰€éœ€è¦çš„æ—¶é—´ã€‚ å°ç»“ä¸€ä¸‹ï¼šä»ä¸Šé¢çš„æŒ‡æ ‡æ¥çœ‹ã€å…¶å®æœ€é‡è¦çš„ã€æˆ–è€…è¯´ã€æˆ‘ä»¬æœ€å…³å¿ƒçš„åº”è¯¥åªæœ‰ä¸¤ä¸ªï¼šå¯»é“æ—¶é—´ï¼›æ—‹è½¬å»¶è¿Ÿã€‚")])]),s._v(" "),t("p",[s._v("è¯»å†™ä¸€æ¬¡ç£ç›˜ä¿¡æ¯æ‰€éœ€çš„æ—¶é—´å¯åˆ†è§£ä¸ºï¼šå¯»é“æ—¶é—´ã€å»¶è¿Ÿæ—¶é—´ã€ä¼ è¾“æ—¶é—´ã€‚ä¸ºæé«˜ç£ç›˜ä¼ è¾“æ•ˆç‡ï¼Œè½¯ä»¶ç¨‹åºåº”ç€é‡è€ƒè™‘å‡å°‘å¯»é“æ—¶é—´å’Œå»¶è¿Ÿæ—¶é—´ã€‚")]),s._v(" "),t("p",[s._v("ä¸‹å›¾æ˜¯è®¡ç®—æœºç¡¬ä»¶å»¶è¿Ÿçš„å¯¹æ¯”å›¾ï¼Œä¾›å¤§å®¶å‚è€ƒï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220425153556197.aef612b3.png",alt:"image-20220425153556197"}})]),s._v(" "),t("h4",{attrs:{id:"_4ã€äº¤æ¢å•ä½"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4ã€äº¤æ¢å•ä½"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_4%E3%80%81%E4%BA%A4%E6%8D%A2%E5%8D%95%E4%BD%8D",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("4ã€äº¤æ¢å•ä½")]),s._v(" "),t("p",[s._v("ã€å—ã€‘æ˜¯æ“ä½œç³»ç»Ÿä¸­æœ€å°çš„é€»è¾‘å­˜å‚¨å•ä½ï¼Œä»–æ˜¯è™šæ‹Ÿå‡ºæ¥çš„ä¸€ä¸ªå•ä½ã€‚æ“ä½œç³»ç»Ÿä¸ç£ç›˜æ‰“äº¤é“çš„æœ€å°å•ä½æ˜¯ç£ç›˜å—ã€‚æ¯ä¸ªå—å¯ä»¥åŒ…æ‹¬2ã€4ã€8ã€16ã€32ã€64â€¦2çš„næ¬¡æ–¹ä¸ªæ‰‡åŒºã€‚")]),s._v(" "),t("p",[t("strong",[s._v("ä¸ºä»€ä¹ˆå­˜åœ¨ç£ç›˜å—ï¼Ÿ")])]),s._v(" "),t("ul",[t("li",[s._v("è¯»å–æ–¹ä¾¿ï¼šç”±äºæ‰‡åŒºçš„å®¹é‡æ¯”è¾ƒå°ï¼Œæ•°ç›®ä¼—å¤šï¼Œåœ¨å¯»å€æ—¶æ¯”è¾ƒå›°éš¾ï¼Œæ‰€ä»¥æ“ä½œç³»ç»Ÿå°±å°†ç›¸é‚»çš„æ‰‡åŒºç»„åˆåœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªå—ï¼Œå†å¯¹å—è¿›è¡Œæ•´ä½“çš„æ“ä½œã€‚")]),s._v(" "),t("li",[s._v("åˆ†ç¦»å¯¹åº•å±‚çš„ä¾èµ–ï¼šæ“ä½œç³»ç»Ÿå¿½ç•¥å¯¹åº•å±‚ç‰©ç†å­˜å‚¨ç»“æ„çš„è®¾è®¡ã€‚é€šè¿‡è™šæ‹Ÿå‡ºæ¥ç£ç›˜å—çš„æ¦‚å¿µï¼Œåœ¨ç³»ç»Ÿä¸­è®¤ä¸ºå—æ˜¯æœ€å°çš„å•ä½ã€‚")])]),s._v(" "),t("p",[t("strong",[s._v("æ‰‡åŒºã€å—/ç°‡ã€pageçš„å…³ç³»ï¼š")])]),s._v(" "),t("ol",[t("li",[s._v("æ‰‡åŒºï¼š ç¡¬ç›˜çš„æœ€å°è¯»å†™å•å…ƒ")]),s._v(" "),t("li",[s._v("å—/ç°‡ï¼š æ˜¯æ“ä½œç³»ç»Ÿé’ˆå¯¹ç¡¬ç›˜è¯»å†™çš„æœ€å°å•å…ƒ")]),s._v(" "),t("li",[s._v("pageï¼š æ˜¯å†…å­˜ä¸æ“ä½œç³»ç»Ÿä¹‹é—´æ“ä½œçš„æœ€å°å•å…ƒ")])]),s._v(" "),t("p",[s._v("æ‰‡åŒº <= å—/ç°‡ <= page")]),s._v(" "),t("h4",{attrs:{id:"_5ã€å±€éƒ¨æ€§åŸç†ä¸ç£ç›˜é¢„è¯»"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5ã€å±€éƒ¨æ€§åŸç†ä¸ç£ç›˜é¢„è¯»"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_5%E3%80%81%E5%B1%80%E9%83%A8%E6%80%A7%E5%8E%9F%E7%90%86%E4%B8%8E%E7%A3%81%E7%9B%98%E9%A2%84%E8%AF%BB",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("5ã€å±€éƒ¨æ€§åŸç†ä¸ç£ç›˜é¢„è¯»")]),s._v(" "),t("p",[s._v("ç”±äºå­˜å‚¨ä»‹è´¨çš„ç‰¹æ€§ï¼Œç£ç›˜æœ¬èº«å­˜å–å°±ã€æ¯”ä¸»å­˜æ…¢å¾ˆå¤šã€‘ï¼Œå†åŠ ä¸Šæœºæ¢°è¿åŠ¨è€—è´¹ï¼Œç£ç›˜çš„å­˜å–é€Ÿåº¦å¾€å¾€æ˜¯ä¸»å­˜çš„ã€åä¸‡åˆ†ä¹‹ä¸€ã€‘ï¼Œå› æ­¤ä¸ºäº†æé«˜æ•ˆç‡ï¼Œè¦ã€å°½é‡å‡å°‘ç£ç›˜I/Oã€‘ã€‚ä¹Ÿæ˜¯å› ä¸ºè¿™ä¸ªåŸå› ï¼Œç£ç›˜å¾€å¾€ä¸æ˜¯ä¸¥æ ¼çš„ã€æŒ‰éœ€è¯»å–ã€‘ï¼Œè€Œæ˜¯æ¯æ¬¡éƒ½ä¼šé¢„è¯»ï¼Œå³ä½¿åªéœ€è¦ä¸€ä¸ªå­—èŠ‚ï¼Œç£ç›˜ä¹Ÿä¼šä»è¿™ä¸ªä½ç½®å¼€å§‹ï¼Œé¡ºåºå‘åè¯»å–ä¸€å®šé•¿åº¦çš„æ•°æ®æ”¾å…¥å†…å­˜ã€‚è¿™æ ·åšçš„ç†è®ºä¾æ®æ˜¯è®¡ç®—æœºç§‘å­¦ä¸­è‘—åçš„"),t("strong",[s._v("å±€éƒ¨æ€§åŸç†")]),s._v("ã€‚")]),s._v(" "),t("p",[s._v("**å±€éƒ¨æ€§åŸç†ï¼š**å½“ä¸€ä¸ªæ•°æ®è¢«ç”¨åˆ°æ—¶ï¼Œå…¶é™„è¿‘çš„æ•°æ®ä¹Ÿé€šå¸¸ä¼šé©¬ä¸Šè¢«ä½¿ç”¨ï¼Œç¨‹åºè¿è¡ŒæœŸé—´æ‰€éœ€è¦çš„æ•°æ®é€šå¸¸æ¯”è¾ƒé›†ä¸­ã€‚")]),s._v(" "),t("p",[s._v("ç”±äºç£ç›˜ã€é¡ºåºè¯»å–ã€‘çš„æ•ˆç‡å¾ˆé«˜ï¼ˆä¸éœ€è¦å¯»é“æ—¶é—´ï¼Œåªéœ€å¾ˆå°‘çš„æ—‹è½¬æ—¶é—´ï¼‰ï¼Œå› æ­¤å¯¹äºå…·æœ‰å±€éƒ¨æ€§çš„ç¨‹åºæ¥è¯´ï¼Œé¢„è¯»å¯ä»¥æé«˜I/Oæ•ˆç‡ã€‚")]),s._v(" "),t("p",[s._v("é¢„è¯»çš„é•¿åº¦ä¸€èˆ¬ä¸ºã€é¡µï¼ˆpageï¼‰ã€‘çš„æ•´å€æ•°ï¼ˆåœ¨è®¸å¤šæ“ä½œç³»ç»Ÿä¸­ï¼Œé¡µå¾—å¤§å°é€šå¸¸ä¸º4kï¼‰ã€‚å½“ç¨‹åºè¦è¯»å–çš„æ•°æ®ä¸åœ¨ä¸»å­˜ä¸­æ—¶ï¼Œä¼šè§¦å‘ä¸€ä¸ªç¼ºé¡µå¼‚å¸¸ï¼Œæ­¤æ—¶ç³»ç»Ÿä¼šå‘ç£ç›˜å‘å‡ºè¯»ç›˜ä¿¡å·ï¼Œç£ç›˜ä¼šæ‰¾åˆ°æ•°æ®çš„èµ·å§‹ä½ç½®å¹¶å‘åè¿ç»­è¯»å–ä¸€é¡µæˆ–å‡ é¡µè½½å…¥å†…å­˜ä¸­ï¼Œç„¶åå¼‚å¸¸è¿”å›ï¼Œç¨‹åºç»§ç»­è¿è¡Œã€‚")]),s._v(" "),t("h3",{attrs:{id:"äºŒã€æ•°æ®å­˜å‚¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€æ•°æ®å­˜å‚¨"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#%E4%BA%8C%E3%80%81%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("äºŒã€æ•°æ®å­˜å‚¨")]),s._v(" "),t("p",[s._v("å¯¹äºmysqlè€Œè¨€ï¼Œæ•°æ®æ˜¯å­˜å‚¨åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­çš„ï¼Œä¸åŒçš„å­˜å‚¨å­˜å‚¨å¼•æ“ä¼šæœ‰ä¸åŒçš„æ–‡ä»¶æ ¼å¼å’Œç»„ç»‡å½¢å¼ï¼Œæˆ‘ä»¬è¿˜æ˜¯ä»¥innodbä¸ºä¾‹ç»™å¤§å®¶è®²è§£ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_1ã€innodbæ•°æ®å­˜å‚¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€innodbæ•°æ®å­˜å‚¨"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_1%E3%80%81innodb%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("1ã€innodbæ•°æ®å­˜å‚¨")]),s._v(" "),t("p",[s._v("å¯¹äºinnodbè€Œè¨€ï¼Œæ•°æ®æ˜¯å­˜å‚¨åœ¨è¡¨ç©ºé—´ï¼ˆæ–‡ä»¶ç©ºé—´file spaceï¼‰å†…çš„ï¼Œè¡¨ç©ºé—´æ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ¦‚å¿µï¼Œä»–å¯¹åº”ç€ç¡¬ç›˜ä¸Šçš„ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220427104757135.00dc235b.png",alt:"image-20220427104757135"}})]),s._v(" "),t("p",[s._v("è¡¨ç©ºé—´å­˜å‚¨æ•°æ®çš„å•ä½æ˜¯ã€é¡µã€‘ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·ç±»æ¯”ï¼Œä¸€ä¸ªè¡¨ç©ºé—´å°±æ˜¯ä¸ªå¤§å¤§çš„æœ¬å­ï¼Œæœ¬å­é‡Œæ˜¯ä¸€é¡µé¡µçš„æ•°æ®ï¼ˆinnodbæ˜¯ä»¥é¡µä¸ºå•ä½è¿›è¡Œæ•°æ®å­˜å‚¨çš„ï¼‰ï¼Œå¸¸ç”¨é¡µé¢ç±»å‹æœ‰å¾ˆå¤šï¼Œä¸åŒç±»å‹çš„é¡µé¢å¯ä»¥å­˜æ”¾ã€ä¸åŒç±»å‹çš„æ•°æ®ã€‘ï¼Œè¿™é‡Œä¸å±•å¼€è®²è§£ï¼Œæš‚æ—¶ç»Ÿç§°ä¸ºã€æ•°æ®é¡µã€‘ã€ä»–çš„é€šç”¨éƒ¨åˆ†å¦‚ä¸‹ï¼Œæ¯ä¸€é¡µå¤§æ¦‚å ç”¨16kçš„ç©ºé—´ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220426220208824.0063a836.png",alt:"image-20220426220208824"}})]),s._v(" "),t("ul",[t("li",[s._v("file headerï¼šè®°å½•é¡µé¢çš„ä¸€äº›é€šç”¨ä¿¡æ¯ï¼Œæ¯”å¦‚å½“å‰é¡µçš„æ ¡éªŒå’Œã€é¡µå·ã€ä¸Šé¡µå·ã€ä¸‹é¡µå·ã€æ‰€å±è¡¨ç©ºé—´ç­‰ã€‚")]),s._v(" "),t("li",[s._v("file trailerï¼šä¸»è¦çš„å·¥ä½œæ˜¯æ£€éªŒé¡µæ˜¯å¦å®Œæ•´ã€‚")]),s._v(" "),t("li",[s._v("è¡¨ç©ºé—´ä¸­çš„æ¯ä¸€ä¸ªé¡µï¼Œéƒ½æœ‰ä¸€ä¸ªé¡µå·ï¼ˆFile_PAGE_OFFSETï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªé¡µå·åœ¨è¡¨ç©ºé—´å¿«é€Ÿå®šä½åˆ°æŒ‡å®šçš„é¡µé¢ã€‚è¿™ä¸ªé¡µå·ç”±4ä¸ªå­—èŠ‚ç»„æˆï¼Œä¹Ÿå°±æ˜¯32ä½ï¼Œæ‰€æœ‰æœ€å¤šèƒ½å­˜æ”¾2çš„32æ¬¡æ–¹é¡µï¼Œå¦‚æœæŒ‰ç…§ä¸€é¡µ16kè®¡ç®—ï¼Œä¸€ä¸ªè¡¨ç©ºé—´æœ€å¤§æ”¯æŒã€64TBã€‘çš„æ•°æ®ã€‚æ•´ä½“çš„æ’åˆ—ä¸­é¡µæ˜¯è¿ç»­çš„ï¼Œä½†æ˜¯é¡µæœ‰ä¸Šä¸‹æŒ‡é’ˆï¼Œä¸è¿ç»­çš„é¡µä¹Ÿèƒ½ç»„æˆé“¾è¡¨ã€‚")])]),s._v(" "),t("p",[s._v("è¡¨ç©ºé—´çš„ç¤ºæ„å›¾å¦‚ä¸‹ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220427154308986.93b2bedb.png",alt:"image-20220427154308986"}})]),s._v(" "),t("p",[s._v("è¡¨ç©ºé—´å¯ä»¥åˆ†ä¸ºç³»ç»Ÿè¡¨ç©ºé—´ã€ç‹¬ç«‹è¡¨ç©ºé—´ç­‰ï¼š")]),s._v(" "),t("h5",{attrs:{id:"_1-ç³»ç»Ÿè¡¨ç©ºé—´-the-system-tablespace"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-ç³»ç»Ÿè¡¨ç©ºé—´-the-system-tablespace"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_1-%E7%B3%BB%E7%BB%9F%E8%A1%A8%E7%A9%BA%E9%97%B4-the-system-tablespace",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ï¼ˆ1ï¼‰ç³»ç»Ÿè¡¨ç©ºé—´ï¼ˆThe System Tablespaceï¼‰")]),s._v(" "),t("ul",[t("li",[s._v("ç³»ç»Ÿè¡¨ç©ºé—´åŒ…å«äº†å¾ˆå¤šã€å…¬å…±æ•°æ®ã€‘ï¼Œæ¯”å¦‚InnoDBçš„æ•°æ®å­—å…¸ï¼Œå›æ»šä¿¡æ¯ã€ç³»ç»Ÿäº‹ç‰©ä¿¡æ¯ã€äºŒæ¬¡å†™ç¼“å†²ç­‰ï¼Œè€ç‰ˆæœ¬çš„mysqlè¡¨ä¸­çš„æ•°æ®ä¹Ÿä¼šå­˜å‚¨åœ¨ç³»ç»Ÿè¡¨ç©ºé—´ã€‚")]),s._v(" "),t("li",[s._v("ç³»ç»Ÿè¡¨ç©ºé—´æ˜¯ä¸€ä¸ªå…±äº«çš„è¡¨ç©ºé—´å› ä¸ºå®ƒæ˜¯è¢«å¤šä¸ªè¡¨å…±äº«çš„ã€‚")]),s._v(" "),t("li",[s._v("è¯¥ç©ºé—´çš„æ•°æ®æ–‡ä»¶é€šè¿‡å‚æ•°ã€innodb_data_file_pathã€‘æ§åˆ¶ï¼Œé»˜è®¤å€¼æ˜¯"),t("code",[s._v("ibdata1:12M:autoextend")]),s._v("ï¼ˆæ–‡ä»¶åä¸ºibdata1ã€12MBã€è‡ªåŠ¨æ‰©å±•ï¼‰ã€‚")]),s._v(" "),t("li",[s._v("å½“ç„¶ç³»ç»Ÿè¡¨ç©ºé—´ä¹Ÿå¯ä»¥é€šè¿‡é…ç½®ï¼Œä¿®æ”¹æ–‡ä»¶çš„åç§°å’Œä¸ªæ•°ã€‚æ–‡ä»¶å¦‚ä¸‹å›¾ï¼š")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220427181352706.d43290e2.png",alt:"image-20220427181352706"}})]),s._v(" "),t("p",[s._v("ç›¸å…³å˜é‡çš„è®¾ç½®ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- å¦‚æœ1ä»£è¡¨å¼€å¯ï¼Œ0ä»£è¡¨å…³é—­")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" variables "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("like")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'innodb_file_per_table'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- è®¾ç½®å¯¹åº”çš„å˜é‡")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("global")]),s._v(" innodb_file_per_table"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- æŸ¥çœ‹ç³»ç»Ÿè¡¨ç©ºé—´çš„é…ç½®")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" variables "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("like")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"innodb_data_file_path"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- é…ç½®æ–‡ä»¶çš„é…ç½®")]),s._v("\ninnodb_data_file_path"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("data1:"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v("M"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("data2:"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v("M:autoextend\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h5",{attrs:{id:"_2-ç‹¬ç«‹è¡¨ç©ºé—´-file-per-table-tablespaces"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-ç‹¬ç«‹è¡¨ç©ºé—´-file-per-table-tablespaces"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_2-%E7%8B%AC%E7%AB%8B%E8%A1%A8%E7%A9%BA%E9%97%B4-file-per-table-tablespaces",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ï¼ˆ2ï¼‰ç‹¬ç«‹è¡¨ç©ºé—´ï¼ˆFile-Per-Table Tablespacesï¼‰")]),s._v(" "),t("ul",[t("li",[s._v("ç‹¬ç«‹è¡¨ç©ºé—´æ˜¯é»˜è®¤å¼€å¯çš„ï¼Œåœ¨5.6.6ä»¥åï¼ŒInnodbä¸åœ¨é»˜è®¤å°†å„ä¸ªè¡¨çš„æ•°æ®å­˜å‚¨åœ¨ã€ç³»ç»Ÿè¡¨ç©ºé—´ã€‘å½“ä¸­ï¼Œè€Œæ˜¯ä¼šä¸ºæ¯ä¸€ä¸ªè¡¨å»ºç«‹ä¸€ä¸ªç‹¬ç«‹è¡¨ç©ºé—´ï¼Œinnodbå­˜å‚¨å¼•æ“çš„ç‹¬ç«‹è¡¨ç©ºé—´ä¸ºã€.ibdã€‘æ–‡ä»¶ã€‚")]),s._v(" "),t("li",[s._v("å¦‚æœå¯ç”¨äº†ã€innodb_file_per_tableã€‘å‚æ•°ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯æ¯å¼ è¡¨çš„è¡¨ç©ºé—´å†…å­˜æ”¾çš„åªæ˜¯ã€æ•°æ®ã€‘ã€ã€ç´¢å¼•ã€‘å’Œã€æ’å…¥ç¼“å†²Bitmapé¡µã€‘ï¼Œå…¶ä»–æ•°æ®å¦‚ï¼šå›æ»šä¿¡æ¯ã€ç³»ç»Ÿäº‹ç‰©ä¿¡æ¯ã€äºŒæ¬¡å†™ç¼“å†²ï¼ˆDouble write bufferï¼‰ç­‰è¿˜æ˜¯æ”¾åœ¨åŸæ¥çš„ç³»ç»Ÿè¡¨ç©ºé—´å†…ã€‚")]),s._v(" "),t("li",[s._v("åŒæ—¶è¯´æ˜äº†ä¸€ä¸ªé—®é¢˜ï¼šå³ä½¿å¯ç”¨äº†ã€innodb_file_per_tableã€‘å‚æ•°ï¼Œç³»ç»Ÿè¡¨ç©ºé—´è¿˜æ˜¯ä¼šä¸æ–­çš„å¢åŠ å…¶å¤§å°çš„ã€‚")])]),s._v(" "),t("p",[t("img",{attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA68AAAAtCAYAAABBCF2nAAAKI0lEQVR4nO3dQUwj1x3H8Z+jSFVPzfZi7DPbQxR5hX2DuwWOD3tatYoiF8kyt4Gq2tZaNoqi4K0jLjCq2i5FSqwoF04cvDbyPdyMxSjqIXC2mUtQT1WlKu5hxvYY7LENBgb4fiQkPO/Ne2/GM2j+/OfNhNrtdlsAMKFms6loNHrXw8A9xfHzsPH9Xg/7DwAGe++uBwAAAAAAwCgErwAAAACAwCN4BQAAAAAEHsErAAAAACDwCF4BAAAAAIEX4mnDAAAAAICgI/MKAAAAAAg8glcAAAAAQOARvAIAAAAAAo/gFQAAAAAQeASvAAAAAIDAI3gFAAAAAAQewSsAAAAAIPAIXgEAAAAAgUfwCgAAAAAIPIJXAAAAAEDgvT/tBje/+ovOz38aWv7kya/1yacZRaPRaXcNAAAAAHigph68np//pC++fDO0/PPPXum7b7/RJ5/+ngAWAAAAADCWO7lt+Le/+0TfffuNms3mXXQPAAAAALhnbj14/eCDD/T3v/1V5+fn2v3nP6bTaHVFoYVtnToftBJaUXU6Ld+s020thBa0fSpJp9peCGllkoH3bTcA4Ops1YqGStaIalZJxZp9aZkxckUAAHBdU79teJQ//PFP3d8//+zVbXcP4LZYJRm7dfdDVOn1vJLhbqFKxq7qg8r81vNt02XXVCy0lDIzinn6aqXXlb9U+UL9scecULbb/tAdMLzfvn6GtDVyW0ds1z1nlQxVIr1ts0qGurtDkqJpreeTckpt1YoFlftu5hnnO/IKK5nPqmQUVRt0XHXG1WgpvtgZU1Fni3klJ9gu3Da/82RI2Th/Z7pVDTXmTGU6B5pdU7FQVjORlZmJjThuAQCTuvXgFR6zq/q+vXrXowBugKVSJaJ103Qu0qySjEJJM2ZGMdmqFZ0LRjMZvlDmt55fWY99fCSll91+Cio3E0okho+0V3/UmBuaM01l5AZSpTmZmUGh0Yh+rZIMbz9X2n+jt+shiqb7g9lCaabvO0hkPUGEVZJhGP3LugYFux4FQ+X+jp2Aw66p0opr2flS1GjFtRiWZA9sBXfK7zzxKxvv78xglkqFsiJZU3lP5VHHLQBgfASvAG5ATBnv1VtsTglVdGZLMR3rqJlQKu+GbrFFpaMFNayMYjGf9cJ+ZZ2Flg7KUnzdWZDMm0pKskp1tQaO01s/7NN+WMl8xlOUkCpnshUbEICGffq1Vau0lF7OjMi8+G2rX/uPRzgSle/GxzIy1yMqFkqyLgUevX1o14o6mMlfDnCtkopni30ZOfv4SM1Iyg1qGqo366obnTC3LsPNsEUfaDb8fvE7T/zKxvk7M4gni+sTl448bgEAvgL7ntfthZAWtj2zOS/Naw0p1PlJ7UzQclUroQVtV7e14K6/UnXbdz/39Xuhr16Z2872gPVOt7XgnXd78bPv8v7++ufAXme7gTtkNVRXRDNhSXZLzcScJ5gIayYitc4GpK+8641TZjVUj8b1bNy4wa++T99Wo65o/Nnkt/7ZxzpSXDowZBjOT3f+pF1T0Sjq4nTKUWN5nGwdHzWVmBuRvQo/UzxaV8NnOmr4WVytARWsRkvxvgPD0kE3Vev+E2LdlGmaMrMJKZF1fjdNAteHZKxzr3c3if93P+ZxCwAYKrDB6+rrnA733nUfRlTd31Hu9apmVdVKKCVV2mq3nZ9KbtLWD7W2IZXabbUrOe2kQgrtP3faO9mS1jbdgLKqldCGPjzp9HWiF3tPPQHlodb+5V0vo+1rPj1pJ7Wv5+52OWNb8YzlutsN3AG7puJuXYmsk/2yz8ZMO1xYb5wyq1FXIjX+fLKh9Qe1b9dUdAPOxtwVAxS7pWazrNacG/Ssp6Xy14MDVr+xPFLNcsEN+gsqK63FaeyQ8DPFW5X+78C9Pdgbu9q1ilqJhKKS80+ISGroPEg8EGOee/Vd53hcHnJA3MhxCwCPVGCDVy09V+5wT+9OJamq/Z2cni9Jqu5rZ35LL5e8VSeN4ua1VVrVbKcfzWur0+Dsb/SRftCPp25fOtTa006286nWDqUffjzttdNd72O9mL/65nbkKm/V3bSll9qa39F+VVPabuB22bWijMKR4uu9eYfhmciV1htZZtdUqSc0dlJjSP2h7YeTyruZtbmGIaNYu9pUx6jn4jWcVCrR1NGx7bbf/2AYv/3wGEXT693spplqqWCUNPoZv1FFfIPMsJLLcR193fk+LZUKR4ov9/9Tw1Zcy4vusRtOKs8X8qBNcu4lsqaykbIKQ/4mXO24BQAMEuA5r0t6ubWhzLtTfawN7eRe6+1dDGN+Syffu4Fun5M7GAxwf1glQ7vKyjQHXPm1vPNFbZ21pMhceOR6fmX28ZGaidTY2clB9X3H7BHLZJUwKjq2k5Nl38IRJ3M3hnHH8miNMxfROlBZca2P+o7CSeVTzgOehj1dNpZMSnbNbdf7NNqO3pxXnih7v13l3Itl1pUuFkY/jGnsObQAgEGCm3mVNPvxC2lvU5t76mU4l54rd7imzd6EUm1v3NDcz0t9SdWVcd8h62ZvJZ2+29NhZ3Hfu10v29nvtX66ndHaoZtxvs3tBq7LzWpmB13ExRaVVlkHndSDddC7lc5vPb+yieeSDag/ou+i5z2edq0y2dzajvAzxVXW1555rpV61Jlb6Z3z6rutkDR6LqJVkrHbUnp50iCyqdaolHos08ukDZjzahK43l9XPvecVy0l6rv+7/xl/joAXEuAM6+SZlf1+qOQUj9s6aSb+lzS20pOoVRITug2r62tnLR3EwNY0tuTLS08DSnkLslV2qMzwLOrKm3t6enTkNYkzedyGveO4pz2FQqlup8q7c5txLe53cA12S01Vdeu0Z+dcl5bElZyOa1iwZDhLFXWdC/2/daTT1n4WEdKa3n8tOvl+r5jTmo5UpRh7HaW9sY8EecCt2UU1HlIbSJrOlm+vjmXfmOZuNMHo1nu7bdB73Gt7xrq7rFoWuvmqKc6e94fm8jKNDPdZcYuTw1+lK517sWUMbOSsSuj5WTfpdHHLQBgfKF2u92eZoOv8i/1xZdvxqr7+Wev9Ka46VunuhLSxocn+n718o27ACA5wUYlMn6gMWl9PDS997z6BSV2rahCudn3ntfiwczl+a5WSUZj2Ht/AQDAtAQ783q6rY2dnF63CVwBDGOpUY923+06/fp4eHrv+fStlczLTPYtkOd1vz2xjJiaDADAzZt65nXzqzc6Pz8fq+6TJ0/08s+vBpZVV0JK7bi36S4NrDKC82qZi7NCr94eAAAAAOCuTD14BQAAAABg2gL9tGEAAAAAACSCVwAAAADAPUDwCgAAAAAIPIJXAAAAAEDgEbwCAAAAAAKP4BUAAAAAEHgErwAAAACAwCN4BQAAAAAEHsErAAAAACDw3r/qiv/5n/Tv/0o/t6c5HAAAgMfjvZD0q19Iv7zyFRkAPB5XzrwSuAIAAFzPz23nmgoAMNr/AVIyCC8o3UQ7AAAAAElFTkSuQmCC",alt:"image-20220427163520350"}})]),s._v(" "),t("h5",{attrs:{id:"_3-å…¶ä»–ç±»å‹çš„è¡¨ç©ºé—´"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-å…¶ä»–ç±»å‹çš„è¡¨ç©ºé—´"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_3-%E5%85%B6%E4%BB%96%E7%B1%BB%E5%9E%8B%E7%9A%84%E8%A1%A8%E7%A9%BA%E9%97%B4",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ï¼ˆ3ï¼‰å…¶ä»–ç±»å‹çš„è¡¨ç©ºé—´ï¼Œ")]),s._v(" "),t("p",[s._v("é™¤äº†ä»¥ä¸Šä¸¤ç§è¡¨ç©ºé—´ï¼Œï¼Œinnodbè¿˜æä¾›äº†å¾ˆå¤šå…¶ä»–ç±»å‹çš„è¡¨ç©ºé—´ï¼Œæ¯”å¦‚é€šç”¨è¡¨ç©ºé—´ï¼Œundologè¡¨ç©ºé—´ã€ä¸´æ—¶è¡¨ç©ºé—´ç­‰ï¼Œè¿™é‡Œä¸åœ¨èµ˜è¿°ã€‚")]),s._v(" "),t("p",[s._v("**tipsï¼š**MyIsamæ•°æ®å­˜å‚¨")]),s._v(" "),t("p",[s._v("MyIsamæ²¡æœ‰è¡¨ç©ºé—´çš„æ¦‚å¿µï¼Œä»–ä¼šåœ¨ç›®å½•ä¸­äº§ç”Ÿ2ä¸ªæ–‡ä»¶ã€.MYDã€‘ï¼ˆæ•°æ®æ–‡ä»¶ï¼‰ã€ã€ .MYIã€‘ï¼ˆç´¢å¼•æ–‡ä»¶ï¼‰ä¸‰ä¸ªæ–‡ä»¶ã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220427164333413.20982ce1.png",alt:"image-20220427164333413"}})]),s._v(" "),t("p",[s._v("**æ³¨æ„ï¼š**åœ¨5.7ä»¥å‰ã€æ•°æ®æ–‡ä»¶ã€‘å’Œã€è¡¨ä¿¡æ¯æ–‡ä»¶ã€‘æ˜¯åˆ†å¼€çš„ï¼Œç›¸äº’ç‹¬ç«‹çš„ã€‚ä¼šå¤šä¸€ä¸ªã€.frmã€‘æ–‡ä»¶ï¼Œ8.0ä¹‹åè¿›è¡Œäº†åˆå¹¶ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_2ã€ç»„ç»‡ç»“æ„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€ç»„ç»‡ç»“æ„"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_2%E3%80%81%E7%BB%84%E7%BB%87%E7%BB%93%E6%9E%84",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("2ã€ç»„ç»‡ç»“æ„")]),s._v(" "),t("ul",[t("li",[s._v("åŒºï¼ˆextentï¼‰ï¼šï¼šæ¯ä¸€ä¸ªè¡¨ç©ºé—´ä¿å­˜äº†å¤§é‡çš„é¡µï¼Œä¸ºäº†æ›´å¥½çš„ç®¡ç†è¿™äº›é¡µé¢ï¼ŒInnodbæå‡ºäº†ã€åŒºã€‘çš„æ¦‚å¿µï¼Œå¯¹äº16kçš„é¡µï¼Œè¿ç»­64ä¸ªé¡µå°±æ˜¯ä¸€ä¸ªåŒºï¼Œå¤§æ¦‚1Mçš„ç©ºé—´ï¼Œæ¯ä¸€ä¸ªè¡¨ç©ºé—´éƒ½æ˜¯ç”±è‹¥å¹²ä¸ªè¿ç»­çš„åŒºç»„æˆçš„ï¼Œæ¯256ä¸ªåŒºè¢«åˆ’åˆ†ä¸ºä¸€ç»„ã€‚")]),s._v(" "),t("li",[s._v("æ®µï¼ˆSegmentï¼‰ï¼šåˆ†ä¸ºç´¢å¼•æ®µï¼Œæ•°æ®æ®µï¼Œå›æ»šæ®µç­‰åè¾¹ä¼šå°†ï¼Œæ®µæ˜¯ä¸ºäº†åŒºåˆ†ä¸åŒçš„æ•°æ®ç±»å‹ï¼Œç›¸åŒçš„æ®µå­˜çš„æ•°æ®ç±»å‹æ˜¯ä¸€è‡´çš„ã€‚ä¸€ä¸ªæ®µåŒ…å«256ä¸ªåŒº(256Må¤§å°)ã€‚")])]),s._v(" "),t("p",[s._v("inndbè¡¨ç©ºé—´ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220505142327089.786fc468.png",alt:"image-20220505142327089"}})]),s._v(" "),t("h4",{attrs:{id:"_2ã€row-format-è¡Œè®°å½•æ ¼å¼"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€row-format-è¡Œè®°å½•æ ¼å¼"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_2%E3%80%81row-format-%E8%A1%8C%E8%AE%B0%E5%BD%95%E6%A0%BC%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("2ã€Row Format(è¡Œè®°å½•æ ¼å¼)")]),s._v(" "),t("ul",[t("li",[s._v("ä¸€ä¸ªè¡¨çš„ã€è¡Œè®°å½•æ ¼å¼ã€‘å†³å®šè¡¨ä¸­è¡Œçš„ã€ç‰©ç†å­˜å‚¨æ¨¡å¼ã€‘ï¼Œå†³å®šäº†ã€DQLã€‘å’Œã€DMLã€‘çš„æ“ä½œæ€§èƒ½ã€‚è¶Šå¤šçš„è¡Œè¢«åŒ¹é…è¿›ç‹¬ç«‹çš„ç£ç›˜é¡µï¼Œsqlçš„æ€§èƒ½ä¼šæ›´å¥½ä¸€äº›ï¼Œéœ€è¦çš„ç¼“å­˜åŠioæ“ä½œå°±è¶Šå°‘ã€‚")]),s._v(" "),t("li",[s._v("ä¸€æ¡å®Œæ•´çš„ä¿¡æ¯è®°å½•åˆ†ä¸ºï¼šã€è®°å½•çš„é¢å¤–ä¿¡æ¯ã€‘å’Œã€è®°å½•çš„çœŸå®æ•°æ®ã€‘ä¸¤å¤§éƒ¨åˆ†ï¼Œå°±å¦‚åŒä¸€ç®±è‹¹æœé‡Œçš„è‹¹æœåˆ†ä¸ºåŒ…è£…å’Œè‹¹æœä¸€æ ·ã€‚")]),s._v(" "),t("li",[s._v("æˆ‘ä»¬å¯ä»¥é€šè¿‡å‘½ä»¤"),t("code",[s._v("SHOW TABLE STATUS LIKE 'table_name'")]),s._v("æ¥æŸ¥çœ‹å½“å‰è¡¨ä½¿ç”¨çš„è¡Œæ ¼å¼ï¼Œå…¶ä¸­row_formatå°±ä»£è¡¨äº†å½“å‰ä½¿ç”¨çš„è¡Œè®°å½•ç»“æ„ç±»å‹ã€‚")])]),s._v(" "),t("p",[s._v("æŒ‡å®šè¡Œæ ¼å¼çš„è¯­æ³•å¦‚ä¸‹ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- åˆ›å»ºæ•°æ®è¡¨æ—¶,æ˜¾ç¤ºæŒ‡å®šè¡Œæ ¼å¼")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" è¡¨å "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("åˆ—çš„ä¿¡æ¯"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ROW_FORMAT"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("è¡Œæ ¼å¼åç§°"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- åˆ›å»ºæ•°æ®è¡¨æ—¶,ä¿®æ”¹è¡Œæ ¼å¼")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" è¡¨å ROW_FORMAT"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("è¡Œæ ¼å¼åç§°"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- å…·ä½“å¦‚ä¸‹ï¼š")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("ydl_user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v("  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("user_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("bigint")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AUTO_INCREMENT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COMMENT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ç”¨æˆ·ID'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("user_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHARACTER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" utf8mb4 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLLATE")]),s._v(" utf8mb4_0900_ai_ci "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COMMENT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ç”¨æˆ·è´¦å·'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIMARY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("user_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BTREE")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ROW_FORMAT "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" DYNAMIC"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("h5",{attrs:{id:"_1-compact"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-compact"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_1-compact",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),t("strong",[s._v("ï¼ˆ1ï¼‰COMPACT")])]),s._v(" "),t("p",[s._v("ã€compactè¡Œè®°å½•ã€‘æ˜¯åœ¨MySQL 5.0æ—¶è¢«å¼•å…¥çš„ï¼Œå…¶è®¾è®¡ç›®æ ‡æ˜¯èƒ½é«˜æ•ˆå­˜æ”¾æ•°æ®ã€‚Compactè¡Œè®°å½•ä»¥å¦‚ä¸‹æ–¹å¼è¿›è¡Œå­˜å‚¨ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220505142826773.83792245.png",alt:"image-20220505142826773"}})]),s._v(" "),t("ul",[t("li",[s._v("ç¬¬ä¸€ä¸ªéƒ¨åˆ†æ˜¯ä¸€ä¸ªéNULLã€å˜é•¿å­—æ®µé•¿åº¦åˆ—è¡¨ã€‘ã€‚è¿™ä¸ªå…¶å®å¾ˆå¥½ç†è§£ï¼Œæˆ‘ä»¬çš„æ•°æ®ç±»å‹é™¤äº†å®šé•¿çš„charã€intè¿˜æœ‰ä¸å®šé•¿çš„å¦‚varcharã€textç­‰ï¼Œå˜é•¿åˆ—çš„çœŸå®é•¿åº¦å°±ä¿å­˜åœ¨è¿™ä¸ªéƒ¨åˆ†ï¼Œä»–æ˜¯æŒ‰ç…§åˆ—çš„é¡ºåºã€é€†åºæ”¾ç½®ã€‘çš„ã€‚å½“åˆ—çš„é•¿åº¦å°äº255å­—èŠ‚ï¼Œå¦‚ï¼ˆvarchar(50)ï¼‰ï¼Œç”¨1å­—èŠ‚è¡¨ç¤ºï¼›è‹¥å¤§äº255ä¸ªå­—èŠ‚ï¼ˆvarchar(600)ï¼‰ï¼Œç”¨2ä¸ªå­—èŠ‚è¡¨ç¤ºï¼Œè¿™å…¶å®ä¹Ÿå°±è¯´æ˜äº†ä¸ºä»€ä¹ˆ"),t("strong",[s._v("varcharçš„æœ€å¤§é•¿åº¦æ˜¯65536")]),s._v("ã€‚")]),s._v(" "),t("li",[s._v("ç¬¬äºŒä¸ªéƒ¨åˆ†æ˜¯ã€NULLæ ‡å¿—ä½ã€‘ï¼Œä»–æŒ‡ç¤ºäº†å½“å‰è¡Œæ•°æ®ä¸­å“ªäº›ä¸ºnullå€¼ï¼Œç”¨ä¸€ä¸ªbitmapè¡¨ç¤ºã€‚ä¸¾ä¸€ä¸ªä¾‹å­ï¼šå‡å¦‚è¯¥æ ‡å¿—ä½ä¸º06(äºŒè¿›åˆ¶ï¼š00000110)åˆ™è¡¨ç¤ºç¬¬äºŒä¸‰åˆ—ï¼ˆå¯ä»¥ä¸ºç©ºçš„åˆ—ï¼‰çš„æ•°æ®ä¸ºNULLã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒNULLå€¼æ ‡å¿—ä½ä»…ä»…é’ˆå¯¹å¯ä»¥ä¸ºã€NULLçš„å­—æ®µã€‘ï¼Œå¦‚æœæŸä¸ªå­—æ®µè¢«å®šä¹‰ä¸ºnot nullï¼Œé‚£ä¹ˆè¿™ä¸ªå­—æ®µå°±ä¸ä¼šè¿›å…¥NULLå€¼æ ‡å¿—ä½çš„BitMapä¸­ï¼Œè¿™æ ·å¯ä»¥èŠ‚çœå¾ˆå¤šç©ºé—´ï¼ŒNULLå€¼æ ‡å¿—ä½ä¹Ÿæ˜¯é€†åºæ’åˆ—ï¼Œå ç”¨ç©ºé—´æŒ‰ç…§å­—èŠ‚æ•°é«˜ä½è¡¥é›¶ï¼Œå¦‚æœ‰ä¹ä¸ªå­—æ®µå¯ä»¥ä¸ºç©ºï¼ˆ00000001 01010101ï¼‰ã€‚")]),s._v(" "),t("li",[s._v("ç¬¬ä¸‰éƒ¨åˆ†ä¸ºè®°å½•å¤´ä¿¡æ¯ï¼ˆrecord headerï¼‰ï¼Œå›ºå®šå ç”¨5ä¸ªå­—èŠ‚ï¼ˆ40ä½ï¼‰ï¼Œæ¯ä½çš„å«ä¹‰è§ä¸‹è¡¨ï¼š")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220505142851556.e87bd07f.png",alt:"image-20220505142851556"}})]),s._v(" "),t("ul",[t("li",[t("p",[s._v("ç¬¬å››éƒ¨åˆ†å°±æ˜¯å®é™…å­˜å‚¨çš„æ¯ä¸ªåˆ—çš„æ•°æ®äº†ï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼ŒNULLä¸å è¯¥éƒ¨åˆ†ä»»ä½•æ•°æ®ï¼Œå³NULLé™¤äº†å æœ‰NULLæ ‡å¿—ä½ï¼Œå®é™…å­˜å‚¨ä¸å æœ‰ä»»ä½•ç©ºé—´ã€‚Innodbå­˜å‚¨å˜é•¿åˆ—ï¼ˆVARCHAR, VARBINARY, BLOB, TEXTï¼‰çš„å‰768å­—èŠ‚ï¼Œå‰©ä¸‹çš„éƒ¨åˆ†å­˜å‚¨åœ¨æº¢å‡ºé¡µä¸­ã€‚å›ºå®šé•¿åº¦åˆ—ï¼Œè¶…è¿‡768å­—èŠ‚çš„è§†ä¸ºå˜é•¿åˆ—ã€‚å†…éƒ¨å­˜å‚¨å‰768å­—èŠ‚ï¼Œ20å­—èŠ‚æŒ‡é’ˆå­˜å‚¨åˆ—çš„æº¢å‡ºé¡µçš„åœ°å€ï¼Œæ‰€ä»¥é•¿åº¦ä¸º768+20å­—èŠ‚ã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220505181612836.38c0d037.png",alt:"image-20220505181612836"}})])])]),s._v(" "),t("p",[s._v("**æ³¨æ„ï¼š**å¦å¤–æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¯è¡Œæ•°æ®é™¤äº†ç”¨æˆ·å®šä¹‰çš„åˆ—å¤–ï¼Œ"),t("strong",[s._v("è¿˜æœ‰ä¸¤ä¸ªéšè—åˆ—ï¼Œäº‹åŠ¡IDåˆ—å’Œå›æ»šæŒ‡é’ˆåˆ—")]),s._v("ï¼Œåˆ†åˆ«ä¸º6ä¸ªå­—èŠ‚å’Œ7ä¸ªå­—èŠ‚çš„å¤§å°ã€‚è‹¥InnoDBè¡¨æ²¡æœ‰å®šä¹‰Primary Keyï¼Œæ¯è¡Œè¿˜ä¼šå¢åŠ ä¸€ä¸ªã€6å­—èŠ‚çš„RowIDåˆ—ã€‘ã€‚")]),s._v(" "),t("p",[s._v("**ä¾‹å­ï¼š**æˆ‘ä»¬ä¸å¦¨ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œçœ‹çœ‹ç¡¬ç›˜çš„å­˜å‚¨æ ¼å¼ï¼Œä»¥ä¸‹è¡¨ä¸ºå‡†ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" test "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\nã€€ã€€t1 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\nã€€ã€€t2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\nã€€ã€€t3 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("char")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\nã€€ã€€t4 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("engine")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("innodb")]),s._v(" row_format"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("compact"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" row_test "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'bb'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'bb'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ccc'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" row_test "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'d'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ee'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ee'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fff'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" row_test "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'d'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fff'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("èŠ‚é€‰å¯¹åº”çš„ã€çœŸå®çš„è¡¨ç©ºé—´ã€‘ä¸­çš„çš„äºŒè¿›åˆ¶ç»“æ„è¡¨ç¤ºï¼š")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("                         03 02 01 00 00 00 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" 00 \n2c 00 00 00 00 2b "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("68")]),s._v(" 00  00 00 00 06 05 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(" 00 00 \n00 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v(" 01 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("61")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("62")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("62")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("62")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("62")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("63")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("63")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("63")]),s._v(" 03 02 01 00  00 00 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" 00 2b 00 00 00  \n00 02 01 00 00 00 00 0f  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("62")]),s._v(" c9 00 00 01 b2 01 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("  \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("65")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("65")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("65")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("65")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("66")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("66")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("66")]),s._v("  \n03 01 06 00 00 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" ff "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("98")]),s._v("  00 00 00 00 02 02 00 00 \n00 00 0f "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("67")]),s._v(" cc 00 00 01  b6 01 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("66")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("66")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("66")]),s._v(" \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("ç¬¬ä¸€è¡Œæ•´ç†å¦‚ä¸‹ï¼Œéœ€è¦æ³¨æ„ï¼Œæˆ‘ä»¬æœ‰ä¸‰ä¸ªå˜é•¿åˆ—varcharï¼š")]),s._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("03 02 01 // å˜é•¿å­—æ®µé•¿åº¦åˆ—è¡¨ï¼Œé€†åºï¼Œt4åˆ—é•¿åº¦ä¸º3ï¼Œt2åˆ—é•¿åº¦ä¸º2ï¼Œt1åˆ—é•¿åº¦ä¸º1\n00 // NULLæ ‡å¿—ä½ï¼Œç¬¬ä¸€è¡Œæ²¡æœ‰NULLå€¼\n00 00 10 00 2c // è®°å½•å¤´ä¿¡æ¯ï¼Œå›ºå®š5å­—èŠ‚é•¿åº¦\n00 00 00 00 2b 68 // RowIDæˆ‘ä»¬å»ºçš„è¡¨æ²¡æœ‰ä¸»é”®ï¼Œå› æ­¤ä¼šæœ‰RowIDï¼Œå›ºå®š6å­—èŠ‚é•¿åº¦\n00 00 00 00 06 05 // äº‹åŠ¡IDï¼Œå›ºå®š6ä¸ªå­—èŠ‚\n80 00 00 00 32 01 10 // å›æ»šæŒ‡é’ˆï¼Œå›ºå®š7ä¸ªå­—èŠ‚\n61 // t1æ•°æ®'a'\n62 62 // t2'bb'\n62 62 20 20 20 20 20 20 20 20 // t3æ•°æ®'bb'  Ox20åè¿›åˆ¶æ˜¯32å¯¹åº”asciiç æ˜¯ç©ºå­—ç¬¦\n63 63 63 // t4æ•°æ®'ccc'\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("ç¬¬äºŒè¡Œæ•´ç†å¦‚ä¸‹ï¼š")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("03 02 01 // å˜é•¿å­—æ®µé•¿åº¦åˆ—è¡¨ï¼Œé€†åºï¼Œt4åˆ—é•¿åº¦ä¸º3ï¼Œt2åˆ—é•¿åº¦ä¸º2ï¼Œt1åˆ—é•¿åº¦ä¸º1\n00 // NULLæ ‡å¿—ä½ï¼Œç¬¬äºŒè¡Œæ²¡æœ‰NULLå€¼\n00 00 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" 00 2b // è®°å½•å¤´ä¿¡æ¯ï¼Œå›ºå®š5å­—èŠ‚é•¿åº¦\n00 00 00 00 02 01 // RowIDæˆ‘ä»¬å»ºçš„è¡¨æ²¡æœ‰ä¸»é”®ï¼Œå› æ­¤ä¼šæœ‰RowIDï¼Œå›ºå®š6å­—èŠ‚é•¿åº¦\n00 00 00 00 0f "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("62")]),s._v(" // äº‹åŠ¡IDï¼Œå›ºå®š6ä¸ªå­—èŠ‚\nc9 00 00 01 b2 01 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" // å›æ»šæŒ‡é’ˆï¼Œå›ºå®š7ä¸ªå­—èŠ‚\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" // t1æ•°æ®"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'d'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("65")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("65")]),s._v(" // t2æ•°æ®"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ee'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("65")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("65")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" // t3æ•°æ®"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ee'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("66")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("66")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("66")]),s._v(" // t4æ•°æ®"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fff'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("ç¬¬ä¸‰è¡Œæ•´ç†å¦‚ä¸‹ï¼š")]),s._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("03 01 // å˜é•¿å­—æ®µé•¿åº¦åˆ—è¡¨ï¼Œé€†åºï¼Œt4åˆ—é•¿åº¦ä¸º3ï¼Œt1åˆ—é•¿åº¦ä¸º1\n06 // 00000110 NULLæ ‡å¿—ä½ï¼Œt2å’Œt3åˆ—ä¸ºç©º\n00 00 20 ff 98  // è®°å½•å¤´ä¿¡æ¯ï¼Œå›ºå®š5å­—èŠ‚é•¿åº¦\n00 00 00 00 02 02 // RowIDæˆ‘ä»¬å»ºçš„è¡¨æ²¡æœ‰ä¸»é”®ï¼Œå› æ­¤ä¼šæœ‰RowIDï¼Œå›ºå®š6å­—èŠ‚é•¿åº¦\n00 00 00 00 0f 67 // äº‹åŠ¡IDï¼Œå›ºå®š6ä¸ªå­—èŠ‚\ncc 00 00 01 b6 01 10 // å›æ»šæŒ‡é’ˆï¼Œå›ºå®š7ä¸ªå­—èŠ‚\n64 // t1æ•°æ®'d'\n66 66 66 // t4æ•°æ®'fff'\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h5",{attrs:{id:"_2-redundant"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-redundant"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_2-redundant",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ï¼ˆ2ï¼‰REDUNDANT")]),s._v(" "),t("p",[s._v("ã€Redundantã€‘æ˜¯MySQL 5.0ç‰ˆæœ¬ä¹‹å‰InnoDBçš„è¡Œè®°å½•å­˜å‚¨æ–¹å¼ã€‚Redundantè¡Œè®°å½•ä»¥å¦‚ä¸‹æ–¹å¼å­˜å‚¨ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220505142609716.f073d2f3.png",alt:"image-20220505142609716"}})]),s._v(" "),t("p",[s._v("ä»ä¸Šå›¾å¯ä»¥çœ‹åˆ°ï¼ŒRedundantè¡Œæ ¼å¼å¦‚ä¸‹ï¼š")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("ç¬¬ä¸€ä¸ªéƒ¨åˆ†ä¿å­˜äº†ã€å­—æ®µé•¿åº¦åç§»åˆ—è¡¨ã€‘ï¼Œè¿™ä¸ªéƒ¨åˆ†ä¿å­˜äº†è¯¥è¡Œæ•°æ®æ‰€æœ‰åˆ—ï¼ŒåŒ…æ‹¬éšè—åˆ—çš„é•¿åº¦åç§»é‡ã€‚ä¸¾ä¸€ä¸ªä¾‹å­è¯´æ˜ä¸€ä¸‹åç§»ï¼Œå‡å¦‚ç¬¬ä¸€ä¸ªå­—æ®µé•¿åº¦ä¸ºxï¼Œç¬¬äºŒä¸ªå­—æ®µé•¿åº¦ä¸ºyï¼Œé‚£ä¹ˆåˆ—è¡¨ä¸­ç¬¬ä¸€ä¸ªå­—æ®µå°±æ˜¯xï¼Œç¬¬äºŒä¸ªå­—æ®µå°±æ˜¯x+yã€‚è¿™ä¸ªåç§»åˆ—è¡¨æ˜¯æŒ‰ç…§åˆ—çš„é¡ºåºã€é€†åºæ’åˆ—ã€‘ã€‚")])]),s._v(" "),t("li",[t("p",[s._v("ç¬¬äºŒä¸ªéƒ¨åˆ†ä¸ºè®°å½•å¤´ä¿¡æ¯ã€record headerã€‘ï¼ŒRedundantè¡Œæ ¼å¼å›ºå®šå ç”¨6ä¸ªå­—èŠ‚ï¼ˆ48ä½ï¼‰ï¼Œæ¯ä½çš„å«ä¹‰å¦‚ä¸‹å›¾ï¼š")]),s._v(" "),t("p",[s._v("æœ‰å‡ ä¸ªæ ‡å¿—ä½æˆ‘ä»¬å¯ä»¥æ³¨æ„ä¸€ä¸‹ï¼Œ"),t("code",[s._v("n_fields")]),s._v("å€¼ä»£è¡¨ä¸€è¡Œä¸­åˆ—çš„æ•°é‡ï¼Œå ç”¨10ä½ï¼Œè¿™ä¹Ÿå¾ˆå¥½åœ°è§£é‡Šäº†ä¸ºä»€ä¹ˆMySQLã€ä¸€ä¸ªè¡Œæ”¯æŒæœ€å¤šçš„åˆ—ä¸º1023ã€‘ã€‚")])])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220505142646478.14643b59.png",alt:"image-20220505142646478"}})]),s._v(" "),t("p",[s._v("3.ç¬¬ä¸‰ä¸ªéƒ¨åˆ†å°±æ˜¯å®é™…å­˜å‚¨çš„æ¯ä¸ªåˆ—çš„æ•°æ®äº†ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("nullå€¼çš„å­˜å‚¨")]),s._v("ï¼Œåœ¨ã€å­—æ®µé•¿åº¦åˆ—è¡¨ã€‘çš„æ¯ä¸ªå­—æ®µé•¿åº¦æœ€é«˜ä½æ ‡è®° 1 è¡¨ç¤ºè¿™ä¸ªå­—æ®µä¸º NULLã€‚")]),s._v(" "),t("ul",[t("li",[s._v("å¯¹äºä¸€å­—èŠ‚å­˜å‚¨ï¼Œé€šè¿‡ã€æœ€é«˜ä½æ ‡è®°å­—æ®µã€‘åˆ¤æ–­æ˜¯å¦ä¸º NULLï¼Œå¦‚æœä¸º NULLï¼Œåˆ™æœ€é«˜ä½ä¸º1ï¼Œå¦åˆ™ä¸º0ã€‚å‰©ä¸‹çš„ 7 ä½ç”¨æ¥å­˜å‚¨æ•°æ®ï¼Œæ‰€ä»¥æœ€å¤šæ˜¯127ã€‚")]),s._v(" "),t("li",[s._v("å¯¹äºä¸¤å­—èŠ‚å­˜å‚¨ï¼Œé€šè¿‡ã€æœ€é«˜ä½æ ‡è®°å­—æ®µã€‘åˆ¤æ–­æ˜¯å¦ä¸º NULLï¼Œç¬¬äºŒä½æ ‡è®°è¿™æ¡è®°å½•æ˜¯å¦åœ¨åŒä¸€é¡µï¼Œå¦‚æœåœ¨åˆ™ä¸º0ï¼Œå¦‚æœä¸åœ¨åˆ™ä¸º1ï¼Œè¿™å…¶å®å°±æ¶‰åŠåˆ°äº†åé¢è¦è¯´çš„æº¢å‡ºé¡µã€‚å‰©ä¸‹çš„ 14 ä½è¡¨ç¤ºé•¿åº¦ï¼Œæ‰€ä»¥æœ€å¤šæ˜¯16383ã€‚")]),s._v(" "),t("li",[s._v("åœ¨è¿™ç§ç±»å‹çš„è¡Œæ ¼å¼ä¸­ï¼Œæ— è®ºå­—æ®µæ˜¯å¦ä¸º NULLï¼Œæˆ–è€…é•¿åº¦æ˜¯å¤šå°‘ï¼Œ"),t("strong",[s._v("char(M) éƒ½ä¼šå ç”¨ M * å­—èŠ‚ç¼–ç æœ€å¤§é•¿åº¦é‚£ä¹ˆå¤šå­—èŠ‚")]),s._v("ã€‚ä¸º NULL çš„è¯ï¼Œå¡«å……çš„æ˜¯ 0x00ï¼Œä¸ä¸º NULLï¼Œé•¿åº¦ä¸å¤Ÿçš„æƒ…å†µä¸‹ï¼Œæœ«å°¾è¡¥å…… 0x20ã€‚ å¯¹äºvarcharæ¥è¯´ï¼ŒNULL è¿˜æ˜¯ä¸å ç”¨ç©ºé—´çš„ã€‚")])]),s._v(" "),t("p",[t("strong",[s._v("å°ç»“ï¼š")])]),s._v(" "),t("p",[s._v("compactæ ¼å¼æ¯”redundantå­˜å‚¨ç©ºé—´å¤§çº¦å‡å°‘20%ã€‚å¦‚æœå—é™äºcacheå‘½ä¸­å’Œç£ç›˜é€Ÿåº¦ï¼Œcompactæ ¼å¼ä¼šå¿«ä¸€äº›ï¼Œè‹¥å—é™äºCPUé€Ÿåº¦ï¼Œcompactæ ¼å¼ä¼šæ…¢ä¸€äº›ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ3ï¼‰DYNAMIC")])]),s._v(" "),t("p",[s._v("InnoDB Pluginå¼•å…¥äº†ä¸¤ç§æ–°çš„æ–‡ä»¶æ ¼å¼ï¼ˆfile formatï¼Œå¯ä»¥ç†è§£ä¸ºæ–°çš„é¡µæ ¼å¼ï¼‰ï¼Œå¯¹äºä»¥å‰æ”¯æŒçš„Compactå’ŒRedundantæ ¼å¼å°†å…¶ç§°ä¸ºAntelopeæ–‡ä»¶æ ¼å¼ï¼Œæ–°çš„æ–‡ä»¶æ ¼å¼ç§°ä¸ºBarracudaã€‚Barracudaæ–‡ä»¶æ ¼å¼ä¸‹æ‹¥æœ‰ä¸¤ç§æ–°çš„è¡Œè®°å½•æ ¼å¼Compressedå’ŒDynamicä¸¤ç§ã€‚")]),s._v(" "),t("p",[s._v("æ–°çš„ä¸¤ç§æ ¼å¼å¯¹äºå­˜æ”¾BLOBçš„æ•°æ®é‡‡ç”¨äº†å®Œå…¨çš„è¡Œæº¢å‡ºçš„æ–¹å¼ï¼Œåœ¨æ•°æ®é¡µä¸­åªå­˜æ”¾20ä¸ªå­—èŠ‚çš„æŒ‡é’ˆï¼Œå®é™…çš„æ•°æ®éƒ½å­˜æ”¾åœ¨BLOB Pageä¸­ï¼Œè€Œä¹‹å‰çš„Compactå’ŒRedundantä¸¤ç§æ ¼å¼ä¼šå­˜æ”¾768ä¸ªå‰ç¼€å­—èŠ‚ã€‚mysql8.0é»˜è®¤æ­¤æ ¼å¼ã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220505154503535.312b70d6.png",alt:"image-20220505154503535"}})]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ4ï¼‰COMPRESSED")]),s._v(" åŸºäºdynamicæ ¼å¼ï¼Œæ”¯æŒè¡¨å’Œç´¢å¼•æ•°æ®å‹ç¼©ã€‚compressedè¡Œæ ¼å¼é‡‡ç”¨dynamicç›¸åŒçš„é¡µå¤–å­˜å‚¨ç»†èŠ‚ï¼ŒåŒæ—¶ï¼Œå­˜å‚¨åœ¨å…¶ä¸­çš„è¡Œæ•°æ®ä¼šä»¥zlibçš„ç®—æ³•è¿›è¡Œå‹ç¼©ï¼Œå› æ­¤å¯¹äºBLOBã€TEXTã€VARCHARè¿™ç±»å¤§é•¿åº¦ç±»å‹çš„æ•°æ®èƒ½è¿›è¡Œéå¸¸æœ‰æ•ˆçš„å­˜å‚¨ã€‚")]),s._v(" "),t("h2",{attrs:{id:"ç¬¬ä¸‰ç« -ç¼“å†²æ± -buffer-pool"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç¬¬ä¸‰ç« -ç¼“å†²æ± -buffer-pool"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#%E7%AC%AC%E4%B8%89%E7%AB%A0-%E7%BC%93%E5%86%B2%E6%B1%A0-buffer-pool",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ç¬¬ä¸‰ç«  ç¼“å†²æ±  buffer pool")]),s._v(" "),t("p",[s._v("æˆ‘ä»¬åœ¨ä¹‹å‰çš„ç« èŠ‚ä¸­å·²ç»ä»‹ç»è¿‡äº†ï¼Œinnodbä¸­çš„æ•°æ®æ˜¯ä»¥ã€é¡µã€‘çš„å½¢å¼å­˜å‚¨åœ¨ç£ç›˜ä¸Šçš„è¡¨ç©ºé—´å†…ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸€å†å¼ºè°ƒè¿‡ï¼Œã€ç£ç›˜çš„é€Ÿåº¦ã€‘å’Œã€å†…å­˜ã€‘ç›¸æ¯”ç®€ç›´ä¸å€¼ä¸€æï¼Œè€Œã€å†…å­˜çš„é€Ÿåº¦ã€‘å’Œã€cpuçš„é€Ÿåº¦ã€‘åŒæ ·ä¸å¯åŒæ—¥è€Œè¯­ï¼Œå¯¹äºæ•°æ®åº“è€Œè¨€ï¼ŒI/Oæˆæœ¬æ°¸è¿œæ˜¯ä¸å¯å¿½ç•¥çš„ä¸€é¡¹æˆæœ¬ï¼Œæˆ‘ä»¬ä¸å¦¨æ€è€ƒä¸‹é¢çš„å°é—®é¢˜ï¼š")]),s._v(" "),t("p",[t("strong",[s._v("å°é—®é¢˜ï¼šä¸€ä¸ªå…¨è¡¨æ‰«æä¼šäº§ç”Ÿæœ‰å¤šå°‘æ¬¡ç£ç›˜I/O?")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("between")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("è®¿é—®idä¸º1çš„æ•°æ®ï¼Œéœ€è¦è®¿é—®å½“å‰è¡¨ç©ºé—´çš„ç¬¬ä¸€è¡Œæ•°æ®ï¼Œä¸€æ¬¡I/O")]),s._v(" "),t("li",[s._v("è®¿é—®idä¸º2çš„æ•°æ®ï¼Œéœ€è¦è®¿é—®å½“å‰è¡¨ç©ºé—´çš„ç¬¬äºŒè¡Œæ•°æ®ï¼Œä¸¤æ¬¡I/O")]),s._v(" "),t("li",[s._v("è®¿é—®idä¸º3çš„æ•°æ®ï¼Œéœ€è¦è®¿é—®å½“å‰è¡¨ç©ºé—´çš„ç¬¬ä¸‰è¡Œæ•°æ®ï¼Œä¸‰æ¬¡I/O......")])]),s._v(" "),t("p",[s._v("æˆ‘ä»¬å‘ç°idä¸º1ï¼Œ2ï¼Œ3...çš„æ•°æ®éƒ½åœ¨åŒä¸€ä¸ªã€æ•°æ®é¡µã€‘ï¼Œè¿™ä¼šå¯¼è‡´ä¸€ä¸ªä¸¥é‡çš„é—®é¢˜ï¼Œä¸€æ¬¡ç®€å•çš„æŸ¥è¯¢ï¼Œä¼šè®¿é—®ã€åŒä¸€ä¸ªé¡µå¾ˆå¤šæ¬¡ã€‘ï¼Œå¯èƒ½äº§ç”Ÿå¾ˆå‡ ç™¾æ¬¡I/Oæ“ä½œã€‚æ‰€ä»¥ä¸ºäº†è§£å†³å¿«å¦‚é—ªç”µçš„ã€cpuã€‘ï¼Œå’Œæ…¢å¦‚èœ—ç‰›çš„ã€ç£ç›˜ã€‘ä¹‹é—´çš„çŸ›ç›¾ï¼Œinnodbè®¾è®¡äº†buffer poolï¼Œæœ‰äº†ç¼“å­˜ä¹‹åæˆ‘ä»¬çš„æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("è®¿é—®idä¸º1çš„æ•°æ®ï¼Œéœ€è¦è®¿é—®å½“å‰è¡¨ç©ºé—´çš„ç¬¬ä¸€è¡Œæ•°æ®ï¼Œç¼“å­˜å½“å‰é¡µï¼Œä¸€æ¬¡I/O")]),s._v(" "),t("li",[s._v("è®¿é—®idä¸º2çš„æ•°æ®ï¼Œéœ€è¦è®¿é—®å½“å‰è¡¨ç©ºé—´çš„ç¬¬äºŒè¡Œæ•°æ®ï¼Œä»ç¼“å­˜è·å–ï¼Œæ— éœ€I/O")]),s._v(" "),t("li",[s._v("è®¿é—®idä¸º3çš„æ•°æ®ï¼Œéœ€è¦è®¿é—®å½“å‰è¡¨ç©ºé—´çš„ç¬¬ä¸‰è¡Œæ•°æ®ï¼Œä»ç¼“å­˜è·å–ï¼Œæ— éœ€I/O......")])]),s._v(" "),t("p",[s._v("Innodbå¼•æ“ä¼šåœ¨mysqlå¯åŠ¨çš„æ—¶å€™ï¼Œå‘æ“ä½œç³»ç»Ÿç”³è¯·ä¸€å—è¿ç»­çš„ç©ºé—´å½“åšbuffer poolï¼Œç©ºé—´çš„å¤§å°ç”±å˜é‡"),t("code",[s._v("innodb_buffer_pool_size")]),s._v("ç¡®å®šï¼Œæˆ‘è¿™å°ç”µè„‘ä»–ä½¿ç”¨äº†8Gï¼Œä½ çš„å¯èƒ½æ˜¯128Mã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220509110739628.49731f16.png",alt:"image-20220509110739628"}}),s._v("è¿™ä¸ªç¼“å†²åŒºçš„å¤§å°å¯ä»¥ç»“åˆè‡ªå·±æœåŠ¡å™¨çš„æ€§èƒ½è€Œå®šï¼Œè¿™å°±æ˜ç™½äº†å†…å­˜å¤§çš„å¥½å¤„äº†å§ã€‚")]),s._v(" "),t("h3",{attrs:{id:"ä¸€ã€å†…éƒ¨ç»“æ„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€å†…éƒ¨ç»“æ„"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#%E4%B8%80%E3%80%81%E5%86%85%E9%83%A8%E7%BB%93%E6%9E%84",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ä¸€ã€å†…éƒ¨ç»“æ„")]),s._v(" "),t("p",[s._v("æ•´ä¸ªbuffer poolæ˜¯ç”±ç¼“å†²é¡µå’Œæ§åˆ¶å—ç»„æˆçš„ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("**ç¼“å†²é¡µï¼š**buffer poolä¸­å­˜æ”¾çš„ã€æ•°æ®é¡µã€‘æˆ‘ä»¬ç§°ä¹‹ä¸ºã€ç¼“å†²é¡µã€‘ï¼Œå’Œç£ç›˜ä¸Šçš„æ•°æ®é¡µæ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œéƒ½æ˜¯16KBï¼Œç¼“å†²é¡µçš„æ•°æ®ï¼Œæ˜¯ä»ç£ç›˜ä¸ŠåŠ è½½åˆ°buffer poolå½“ä¸­çš„ä¸€ä¸ªå®Œæ•´é¡µã€‚")]),s._v(" "),t("li",[s._v("**æ§åˆ¶å—ï¼š**ä»–æ˜¯ç¼“å†²é¡µã€æè¿°ä¿¡æ¯ã€‘ï¼Œè¿™ä¸€å—åŒºåŸŸä¿å­˜çš„æ˜¯æ•°æ®é¡µæ‰€å±çš„è¡¨ç©ºé—´å·ï¼Œæ•°æ®é¡µç¼–å·ï¼Œæ•°æ®é¡µåœ°å€ï¼Œä»¥åŠä¸€äº›é“¾è¡¨ç›¸å…³çš„èŠ‚ç‚¹ä¿¡æ¯ç­‰ï¼Œæ¯ä¸ªæ§åˆ¶å—å¤§å°æ˜¯ç¼“å­˜é¡µçš„5%å·¦å³ï¼Œå¤§çº¦æ˜¯800ä¸ªå­—èŠ‚ã€‚")])]),s._v(" "),t("p",[s._v("å…¶å†…éƒ¨ç»“æ„å¦‚ä¸‹ï¼Œbuffer poolçš„å‰ä¸€éƒ¨åˆ†å­˜å‚¨ã€æ§åˆ¶å—ã€‘ï¼Œåä¸€éƒ¨åˆ†å­˜å‚¨ã€ç¼“å†²é¡µã€‘ï¼Œå¦‚æœä¸­é—´æœ‰æœªè¢«åˆ©ç”¨çš„ç©ºé—´ï¼Œå°±å«ä»–ã€å†…å­˜ç¢ç‰‡ã€‘å§ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220509143231600.b665b8b0.png",alt:"image-20220509143231600"}})]),s._v(" "),t("p",[t("strong",[s._v("tipsï¼šbuffer poolçš„åˆå§‹åŒ–")])]),s._v(" "),t("p",[s._v("æ•°æ®åº“ä¼šåœ¨å¯åŠ¨çš„æ—¶å€™ï¼ŒæŒ‰ç…§é…ç½®ä¸­çš„Buffer Poolå¤§å°ï¼Œå»å‘æ“ä½œç³»ç»Ÿç”³è¯·ä¸€å—å†…å­˜ï¼Œä½œä¸ºBuffer Poolçš„å†…å­˜åŒºåŸŸï¼Œç„¶åä¼šæŒ‰ç…§é»˜è®¤çš„ç¼“å­˜é¡µçš„çš„å¤§å°ã€16KBã€‘ä»¥åŠå¯¹åº”çš„ã€800ä¸ªå­—èŠ‚å·¦å³ã€‘çš„ã€æ§åˆ¶å—ã€‘çš„å¤§å°ï¼Œåœ¨Buffer Poolä¸­åˆ’åˆ†å‡ºä¸€ä¸ªä¸€ä¸ªçš„ç¼“å­˜é¡µå’Œä¸€ä¸ªä¸€ä¸ªä¸å…¶å¯¹åº”çš„æè¿°æ•°æ®ï¼ˆæ§åˆ¶å—ï¼‰ã€‚æ­¤æ—¶çš„buffer poolåƒä¸€ä¸ªå¹²å‡€çš„æœ¬å­ï¼Œæ²¡æœ‰ä¹¦å†™ä»»ä½•å†…å®¹ã€‚")]),s._v(" "),t("h3",{attrs:{id:"äºŒã€freeé“¾"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€freeé“¾"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#%E4%BA%8C%E3%80%81free%E9%93%BE",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("äºŒã€freeé“¾")]),s._v(" "),t("p",[s._v("åˆšåˆå§‹åŒ–çš„buffer poolï¼Œå†…å­˜ä¸­éƒ½æ˜¯ã€ç©ºç™½çš„ç¼“å†²é¡µã€‘ï¼Œä½†æ˜¯éšç€æ—¶é—´çš„æ¨ç§»ï¼Œç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¼šä¸æ–­çš„æœ‰æ–°çš„é¡µè¢«ç¼“å­˜èµ·æ¥ï¼Œé‚£æ€ä¹ˆæ¥åˆ¤æ–­å“ªäº›ç¼“å†²é¡µæ˜¯ã€é—²ç½®çŠ¶æ€ã€‘ï¼Œå¯ä»¥è¢«ä½¿ç”¨å‘¢ï¼Œæ­¤æ—¶å°±éœ€è¦ã€æ§åˆ¶å—æ¥è¿›è¡Œæ ‡è®°å’Œç®¡ç†ã€‘äº†ã€‚innodbåœ¨è®¾è®¡ä¹‹åˆï¼Œä¼šå°†æ‰€æœ‰ã€ç©ºé—²çš„ç¼“å†²é¡µã€‘æ‰€å¯¹åº”çš„ã€æ§åˆ¶å—ã€‘ä½œä¸ºä¸€ä¸ªä¸ªçš„èŠ‚ç‚¹ï¼Œå½¢æˆä¸€ä¸ªé“¾è¡¨ï¼Œè¿™ä¸ªé“¾è¡¨å°±æ˜¯freeé“¾ï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯ç©ºé—²é“¾è¡¨ï¼Œå¦‚ä¸‹å›¾ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220509153220595.930514e2.png",alt:"image-20220509153220595"}})]),s._v(" "),t("p",[s._v("ç”±ä¸Šå›¾å¯çŸ¥ï¼Œfreeé“¾è¡¨æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨ï¼Œé“¾è¡¨ä¸Šé™¤äº†æ§åˆ¶å—ä»¥å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªåŸºç¡€èŠ‚ç‚¹ï¼Œå­˜å‚¨äº†freeé“¾æœ‰å¤šå°‘ä¸ªæè¿°ä¿¡æ¯å—ï¼Œä¹Ÿå°±æ˜¯æœ‰å¤šå°‘ä¸ªç©ºé—²çš„ç¼“å­˜é¡µï¼Œä»¥åŠæŒ‡å‘é“¾è¡¨å¤´å°¾çš„æŒ‡é’ˆã€‚")]),s._v(" "),t("p",[s._v("å½“æˆ‘ä»¬åŠ è½½æ•°æ®çš„æ—¶å€™ï¼Œä¼šä»freeé“¾ä¸­æ‰¾åˆ°ç©ºé—²çš„ç¼“å­˜é¡µï¼ŒæŠŠæ•°æ®é¡µçš„ã€è¡¨ç©ºé—´å·å’Œæ•°æ®é¡µã€‘å·å†™å…¥ã€æ§åˆ¶å—ã€‘ã€‚")]),s._v(" "),t("p",[s._v("åŠ è½½æ•°æ®åˆ°ç¼“å­˜é¡µåï¼Œä¼šæŠŠç¼“å­˜é¡µå¯¹åº”çš„æ§åˆ¶å—ä»freeé“¾è¡¨ä¸­ç§»é™¤ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_1ã€æ€ä¹ˆçŸ¥é“æ•°æ®é¡µæ˜¯å¦è¢«ç¼“å­˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€æ€ä¹ˆçŸ¥é“æ•°æ®é¡µæ˜¯å¦è¢«ç¼“å­˜"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_1%E3%80%81%E6%80%8E%E4%B9%88%E7%9F%A5%E9%81%93%E6%95%B0%E6%8D%AE%E9%A1%B5%E6%98%AF%E5%90%A6%E8%A2%AB%E7%BC%93%E5%AD%98",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("1ã€æ€ä¹ˆçŸ¥é“æ•°æ®é¡µæ˜¯å¦è¢«ç¼“å­˜ï¼Ÿ")]),s._v(" "),t("p",[s._v("æˆ‘ä»¬å·²ç»æœ‰äº†freeé“¾è¡¨ç”¨æ¥ã€ä¿å­˜ç©ºé—²çš„é¡µã€‘ï¼Œä½†æ˜¯ï¼Œå½“ä¸‹ä¸€æ¬¡è®¿é—®æ—¶ï¼Œè¦å¦‚ä½•çŸ¥é“å½“å‰è¦è®¿é—®çš„é¡µæ˜¯ä¸æ˜¯å·²ç»è¢«ç¼“å­˜äº†ï¼Œæœ€ç›´è§‚çš„æ€è·¯å°±æ˜¯å°†buffer pollé‡Œçš„ç¼“å­˜æ•°æ®ã€å…¨éƒ¨éå†ä¸€éã€‘ã€‚æ˜¾ç„¶ï¼Œè¿™è¦åšå¹¶ä¸åˆç†ï¼Œæœ¬æ¥è®¾è®¡buffer poolæ˜¯ä¸ºäº†æå‡æ•ˆç‡ï¼Œå¦‚æœæœ‰äººå°†buffer poolé…ç½®çš„å¾ˆå¤§ï¼Œæ¯”å¦‚32ä¸ªGï¼Œé‚£æ‰«æè¿™ä¸€ç‰‡åŒºåŸŸçš„åŠŸå¤«éƒ½å¯ä»¥å–ä¸€æ¯èŒ¶äº†ï¼Œåè€Œæˆäº†ç´¯èµ˜ã€‚")]),s._v(" "),t("p",[s._v("äº‹å®ä¸Šï¼Œä½¿ç”¨ã€è¡¨ç©ºé—´å·+é¡µå·ã€‘å°±å¯ä»¥ç¡®å®šä¸€ä¸ªå”¯ä¸€çš„é¡µï¼Œé‚£ä¹ˆæˆ‘ä»¬èƒ½ä¸èƒ½è®¾è®¡ä¸€ä¸ªhashè¡¨ï¼Œä½¿ç”¨ã€è¡¨ç©ºé—´å·+é¡µã€‘å·å½“åškeyï¼Œä½¿ç”¨ã€æ§åˆ¶å—åœ°å€ã€‘åšvalueï¼Œæ¯æ¬¡æŸ¥è¯¢çš„æ—¶å€™åªéœ€è¦é€šè¿‡keyè¿›è¡ŒæŸ¥æ‰¾å³å¯ï¼Œå¤§å®¶éƒ½çŸ¥é“hashçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(1)ï¼Œè¿™æ ·å°±èƒ½è¿…é€Ÿå®šä½ç¼“å­˜çš„é¡µã€‚ï¼ˆå’Œhashmapå¾ˆåƒï¼‰")]),s._v(" "),t("p",[s._v("ç»“åˆæˆ‘ä»¬çš„freeé“¾è¡¨ï¼ŒæŸ¥è¯¢/ç¼“å­˜ä¸€ä¸ªé¡µçš„æµç¨‹å¤§è‡´å¦‚ä¸‹ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220509161002976.2a06e1f4.png",alt:"image-20220509161002976"}})]),s._v(" "),t("h3",{attrs:{id:"ä¸‰ã€flushé“¾è¡¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰ã€flushé“¾è¡¨"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#%E4%B8%89%E3%80%81flush%E9%93%BE%E8%A1%A8",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ä¸‰ã€flushé“¾è¡¨")]),s._v(" "),t("h4",{attrs:{id:"_1ã€è„é¡µ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€è„é¡µ"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_1%E3%80%81%E8%84%8F%E9%A1%B5",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("1ã€è„é¡µ")]),s._v(" "),t("p",[s._v("åœ¨sqlçš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæ— è®ºæ˜¯å¢åˆ æ”¹æŸ¥ï¼Œéƒ½æ˜¯ä¼˜å…ˆåœ¨buffer poolä¸­è¿›è¡Œçš„ï¼Œè¿™æ ·å¯ä»¥æå¤§çš„ä¿è¯æ‰§è¡Œæ•ˆç‡ã€‚ä½†æ˜¯åŒæ ·ä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå‡å¦‚æˆ‘ä»¬å¯¹ç¼“å­˜é¡µçš„æŸäº›æ•°æ®è¿›è¡Œäº†ä¿®æ”¹ï¼ˆæ‰§è¡Œäº†ä¸€æ¡updateè¯­å¥ï¼‰ï¼Œå°±ä¼šå¯¼è‡´buffer poolä¸­çš„ç¼“å†²é¡µå’Œç£ç›˜çš„æ•°æ®é¡µã€æ•°æ®ä¸ä¸€è‡´ã€‘ï¼Œé‚£ä¹ˆæ­¤æ—¶çš„ç¼“å†²é¡µå°±ç§°ä¹‹ä¸ºã€è„é¡µã€‘ã€‚å½“ç„¶ï¼Œè¿™ä¹Ÿå°±è¯´æ˜äº†ï¼Œè„é¡µçš„æ•°æ®æ˜¯è¦åˆ·åˆ°ç£ç›˜ä¸Šçš„ã€‚")]),s._v(" "),t("p",[s._v("æˆ‘åœ¨çœ‹æå®¢æ—¶é—´çš„ä¸“æ æ—¶ï¼Œæœ‰ä¸€ä½è€å¸ˆçš„æ¯”å–»å¾ˆä¸é”™ï¼Œåœ¨å¤ä»£çš„é…’æ¥¼ä¸­è®°è´¦æ˜¯ä¸ªæŠ€æœ¯æ´»ï¼Œå¯èƒ½ç»å¸¸ä¼šæœ‰èµŠè´¦è¡Œä¸ºã€‚æ¯æ¬¡è®°è´¦ã€èµŠè´¦éƒ½ä¼šå°†ç›¸å…³è®°å½•è®°å½•åœ¨è´¦æœ¬ä¹‹ä¸Šã€‚ä½†æ˜¯å½“é¥­ç‚¹é«˜å³°æœŸï¼Œè®°è´¦æ•°æ®å·¨å¤§ï¼Œå¼ ä¸‰ä»—ç€è‡ªå·±çš„å²³çˆ¶æ˜¯å¿ä»¤å¤§äººåˆæ¥èµŠè´¦ä¸€ç¬”ï¼ŒæŒæŸœä¸€æ—¶é—´å¤ªå¿™æ²¡æœ‰æ—¶é—´ç¿»é˜…è´¦æœ¬ï¼ŒæŸ¥çœ‹å¼ ä¸‰çš„å†å²è®°å½•ï¼Œæ‰€ä»¥å•ç‹¬ä½¿ç”¨ä¸€ä¸ªå°é»‘æ¿ï¼Œè®°äº†ä¸€ç¬”å¼ ä¸‰ä»Šå¤©èµŠè´¦10ä¸¤é“¶å­ï¼Œä¸€ä¼šæå››æ¥èµŠè´¦ï¼Œå†åœ¨ä¸Šé¢è®°ä¸Šä¸€ç¬”ã€‚ç­‰è¿‡äº†é¥­ç‚¹ï¼Œæœ‰æ—¶é—´äº†ï¼Œå†å°†è®°å½•èªŠæŠ„è‡³è´¦æœ¬ï¼Œè®¡ç®—å¼ ä¸‰å’Œæå››çš„æ€»èµŠè´¦é¢åº¦ï¼Œå…¶å®å°±æ˜¯è¿™ä¹ˆä¸ªåŸç†ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_2ã€é“¾è¡¨ç»“æ„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€é“¾è¡¨ç»“æ„"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_2%E3%80%81%E9%93%BE%E8%A1%A8%E7%BB%93%E6%9E%84",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("2ã€é“¾è¡¨ç»“æ„")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220509153249620.b602e7fa.png",alt:"image-20220509153249620"}})]),s._v(" "),t("ul",[t("li",[s._v("flushé“¾è¡¨åŒæ ·æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨ï¼Œé“¾è¡¨ç»“ç‚¹æ˜¯è¢«ã€ä¿®æ”¹è¿‡çš„ç¼“å­˜é¡µã€‘çš„æ§åˆ¶å—ã€‚")]),s._v(" "),t("li",[s._v("å’Œfreeé“¾è¡¨ä¸€æ ·ï¼Œflushé“¾è¡¨ä¹Ÿæœ‰ä¸€ä¸ªåŸºç¡€ç»“ç‚¹ï¼Œé“¾æ¥é¦–å°¾ç»“ç‚¹ï¼Œå¹¶å­˜å‚¨äº†æœ‰å¤šå°‘ä¸ªæ§åˆ¶å—ã€‚")])]),s._v(" "),t("h4",{attrs:{id:"_3ã€åˆ·ç›˜æ—¶æœº"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3ã€åˆ·ç›˜æ—¶æœº"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_3%E3%80%81%E5%88%B7%E7%9B%98%E6%97%B6%E6%9C%BA",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("3ã€åˆ·ç›˜æ—¶æœº")]),s._v(" "),t("p",[s._v("åå°ä¼šæœ‰ä¸“é—¨çš„çº¿ç¨‹æ¯éš”ä¸€æ®µæ—¶é—´å°±æŠŠflushé“¾è¡¨ä¸­çš„è„é¡µåˆ·å…¥ç£ç›˜ä¸­ï¼Œåˆ·æ–°çš„é€Ÿç‡å–å†³ä¸å½“å‰ç³»ç»Ÿæ˜¯å¦ç¹å¿™ã€‚åœ¨è¿™æ ·çš„æœºåˆ¶ä¸‹ï¼Œä¸‡ä¸€ç³»ç»Ÿå¥”æºƒï¼Œæ˜¯ä¼šäº§ç”Ÿæ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜çš„ï¼Œæ²¡æœ‰åˆ·å…¥ç£ç›˜çš„æ•°æ®å°±ä¼šä¸¢å¤±ï¼Œè€Œmysqlé€šè¿‡æ—¥å¿—ç³»ç»Ÿè§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œä»¥åçš„ç« èŠ‚ä¼šè¯¦ç»†è®²è§£ã€‚")]),s._v(" "),t("h3",{attrs:{id:"å››ã€lrué“¾è¡¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å››ã€lrué“¾è¡¨"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#%E5%9B%9B%E3%80%81lru%E9%93%BE%E8%A1%A8",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("å››ã€LRUé“¾è¡¨")]),s._v(" "),t("h4",{attrs:{id:"_1ã€æ¦‚è¿°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€æ¦‚è¿°"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_1%E3%80%81%E6%A6%82%E8%BF%B0",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("1ã€æ¦‚è¿°")]),s._v(" "),t("p",[s._v("å†…å­˜æ˜¯æœ‰é™çš„ï¼Œbuffer poolæ›´æ˜¯æœ‰é™çš„ï¼Œç¼“å­˜åªæ˜¯æ•°æ®çš„ä¸­è½¬ç«™ï¼Œå½“æˆ‘ä»¬çš„æ•°æ®é‡å¾ˆå¤§ä»¥åï¼Œbuffer poolå…¶å®æ˜¯ä»…ä»…èƒ½å®¹çº³å¾ˆå°‘ä¸€éƒ¨åˆ†æ•°æ®ï¼Œæ‰€ä»¥buffer poolçš„å®¹é‡å¾ˆæœ‰å¯èƒ½è¢«ä½¿ç”¨æ®†å°½ï¼Œå¦‚æœæ­¤æ—¶æˆ‘ä»¬è¿˜æƒ³ç»§ç»­ç¼“å­˜æ•°æ®é¡µé‚£è¯¥æ€ä¹ˆåŠï¼Ÿ")]),s._v(" "),t("p",[s._v("åˆç†çš„åšæ³•å°±æ˜¯ï¼Œå½“éœ€è¦æ›´å¤šçš„ç©ºé—´ç¼“å­˜ã€æ–°çš„æ•°æ®é¡µã€‘çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°†æœ€è¿‘ä½¿ç”¨æœ€å°‘çš„ã€ç¼“å†²é¡µæ·˜æ±°æ‰ã€‘å°±å¯ä»¥äº†ï¼Œè¿™å°±æ˜¯å…¸å‹çš„LRUï¼ˆLeast Recently Usedï¼‰ç®—æ³•ï¼Œæˆ‘ä»¬åœ¨è®²javaçš„æ—¶å€™ä¹Ÿæ‰‹åŠ¨å®ç°è¿‡åŸºäºlinkedhashmapçš„LRUç®—æ³•ã€‚å¯¹äºinnodbè€Œè¨€ï¼Œåˆ™æ˜¯é€šè¿‡ã€LRUé“¾è¡¨ã€‘æ¥å®Œæˆæ­¤åŠŸèƒ½çš„ï¼Œä»–çš„ç»“æ„å’Œä¸Šè¾¹è®²çš„freeé“¾è¡¨ã€flushé“¾è¡¨åŸºæœ¬ç›¸åŒï¼Œåªæ˜¯è´Ÿè´£çš„åŠŸèƒ½ä¸åŒè€Œå·²ã€‚")]),s._v(" "),t("p",[s._v("äºæ˜¯ï¼Œä¸€ä¸ªç®€å•çš„æ€è·¯è¯ç”Ÿäº†ï¼Œå½“å®¢æˆ·ç«¯è®¿é—®ä¸€æ¡æ•°æ®æ—¶ï¼Œä¼šåŠ è½½å¯¹åº”çš„æ•°æ®é¡µåˆ°buffer poolï¼Œå¹¶ä¼šå°†ç¼“å†²é¡µå¯¹åº”çš„æ§åˆ¶å—æ”¾ç½®åˆ°ã€LRUé“¾è¡¨çš„é¦–ä½ã€‘ã€‚ä¸€æ—¦buffer poolè¢«å æ»¡ï¼Œåˆ™ä»é“¾è¡¨çš„æœ«ç«¯å¼€å§‹æ·˜æ±°æ•°æ®ï¼Œè¿™æ˜¯æœ€ç®€å•çš„å®ç°ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_2ã€ä¼˜åŒ–"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€ä¼˜åŒ–"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_2%E3%80%81%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("2ã€ä¼˜åŒ–")]),s._v(" "),t("p",[s._v("ä½†æ˜¯ï¼Œå®é™…çš„åœ¨ä½¿ç”¨åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å¯¹åŸæœ‰çš„LRUé“¾è¡¨è¿›è¡Œä¼˜åŒ–ï¼Œå› ä¸ºä»–åœ¨ä¸€ä¸‹åœºæ™¯å¯èƒ½ä¼šå‡ºç°ä¸€äº›é—®é¢˜ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("æ•°æ®é¡µé¢„è¯»ï¼šæˆ‘ä»¬åœ¨è®²å¤šçº¿ç¨‹çš„æ—¶å€™æ˜¯è®²è¿‡ã€é¢„è¯»æ€§åŸç†ã€‘ï¼ˆå½“ä¸€ä¸ªåº”ç”¨åœ¨è®¿é—®ä¸€ä¸ªæ•°æ®æ—¶ï¼Œå¾ˆæœ‰å¯èƒ½ä¼šç»§ç»­è®¿é—®å’Œä»–ç›¸é‚»çš„æ•°æ®ï¼‰ï¼Œcpuçš„é«˜çº§ç¼“å†²åŒºè¯»å–ä¸»å­˜çš„æ•°æ®ä¹Ÿä¸æ˜¯ä¸€ä¸ªå­—èŠ‚ä¸€ä¸ªå­—èŠ‚çš„è¯»å–ï¼Œè€Œæ˜¯ä¸€ä¸‹å­ä¼šè¯»å–ä¸€ä¸ªã€ç¼“å­˜è¡Œã€‘ã€‚åŒç†ï¼Œinnodbä»ç£ç›˜è¯»å–æ•°æ®ï¼Œä¹Ÿä¸ä¸€å®šæ˜¯ä¸€é¡µé¡µè¯»å–ï¼Œå½“mysqlè¯»å–å½“å‰éœ€è¦çš„é¡µæ—¶ï¼Œå¦‚æœè§‰å¾—åç»­æ“ä½œä¼šä½¿ç”¨ã€é™„è¿‘çš„é¡µã€‘ï¼Œå°±ä¼šå°†ä»–ä»¬ä¸€èµ·ç¼“å­˜åˆ°buffer poolï¼Œè¿™æ ·çš„ä½œç”¨æ˜¯ä¸ºäº†æå‡æ•ˆç‡ã€‚ä½†æ˜¯ï¼Œè¿™ä¹Ÿä¼šå¯¼è‡´å¤§é‡çš„ä½¿ç”¨é¢‘ç‡å¹¶ä¸é«˜çš„æ•°æ®æ”¾ç½®åœ¨LRUé“¾è¡¨å¤´éƒ¨ï¼Œåè€Œå°†ä¸€äº›çœŸæ­£çš„ã€çƒ­ç‚¹æ•°æ®ã€‘æ·˜æ±°ã€‚")]),s._v(" "),t("li",[s._v("å…¨è¡¨æ‰«æï¼šä¸€æ¡ã€select * from userã€‘ è¯­å¥ï¼Œä¼šç›´æ¥å°†ä¸€å¼ è¡¨çš„å…¨è¡¨æ•°æ®ç¼“å­˜ï¼Œå¹¶å…¨éƒ¨æ”¾åœ¨LRUé“¾è¡¨å¤´éƒ¨ï¼Œä¸€æ ·ä¼šæ·˜æ±°å¾ˆå¤šçƒ­ç‚¹æ•°æ®ã€‚")])]),s._v(" "),t("p",[s._v("æ‰€ä»¥ï¼Œinnodbå¯¹è¯¥é“¾è¡¨è¿›è¡Œäº†ä¼˜åŒ–ï¼Œå°†ã€LRUé“¾è¡¨ã€‘åˆ†æˆäº†ä¸¤ä¸ªåŒºåŸŸï¼Œåˆ†ä¸ºã€çƒ­æ•°æ®åŒºã€‘å’Œã€å†·æ•°æ®åŒºã€‘ï¼Œé»˜è®¤æƒ…å†µä¸‹å†·æ•°æ®åŒºå äº†æ€»é“¾è¡¨çš„37%ï¼Œæœºæ„å¦‚ä¸‹ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220509180031426.501d93db.png",alt:"image-20220509180031426"}})]),s._v(" "),t("p",[s._v("**tipsï¼š**ä¸€ä¸ªselectè¯­å¥å¯èƒ½ä¼šå¤šæ¬¡è®¿é—®ä¸€ä¸ªé¡µï¼Œå› ä¸ºä½ æœ‰ã€å¾ˆå¤šæ•°æ®æ˜¯ä¿å­˜åœ¨åŒä¸€ä¸ªé¡µå†…ã€‘çš„ã€‚å¯¹äºä¸€ä¸ªå…¨è¡¨æ‰«æçš„è¯­å¥ï¼Œæ¯è®¿é—®ä¸€æ¡æ•°æ®ï¼Œå°±ä¼šè®¿é—®ä¸€æ¬¡ç›¸å…³çš„é¡µï¼Œæ‰€ä»¥ç¼“å­˜ç¡®å®èƒ½æå¤§çš„æå‡æ•ˆç‡ï¼š")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("å¯¹äºé¢„è¯»çš„æ•°æ®é¡µï¼Œä¼šåœ¨ç¬¬ä¸€æ¬¡è®¿é—®æ—¶æ”¾å…¥oldåŒºåŸŸï¼Œå¦‚æœåœ¨sqlæ‰§è¡Œçš„è¿‡ç¨‹ä¸­è®¿é—®ç›¸é‚»æ•°æ®æ—¶ï¼Œå†æ¬¡è®¿é—®è®¿é—®åˆ°è¯¥æ•°æ®é¡µï¼Œåˆ™æŠŠä»–åŠ å…¥å¦‚çƒ­æ•°æ®åŒºã€‚")])]),s._v(" "),t("li",[t("p",[s._v("ã€å¤§è¡¨çš„å…¨è¡¨æ‰«æã€‘æ˜¯ä¸ªä½¿ç”¨é¢‘ç‡å¾ˆä½çš„æ“ä½œï¼ˆå°è¡¨æ€ä¹ˆæ“ä½œéƒ½æ— æ‰€è°“ï¼‰ï¼Œä½†æ˜¯å¦‚æœæŒ‰ç…§ä¸Šè¾¹çš„æ“ä½œï¼Œé¦–å…ˆå…¨è¡¨æ•°æ®ä¼šè¢«æ”¾åœ¨ã€oldåŒºã€‘ï¼Œå…¨è¡¨æ‰«æå¿…ç„¶ä¼šå› ä¸ºè®¿é—®ç›¸é‚»æ•°æ®è€Œäº§ç”Ÿç¬¬äºŒæ¬¡ã€ç¬¬ä¸‰æ¬¡ã€ç”šè‡³æ•°ç™¾æ¬¡çš„è®¿é—®ï¼Œä¹Ÿå°±ä»¥ä¸ºç€è¿™äº›é¡µé¢ä¼šè¢«å…¨éƒ¨æ”¾åœ¨youngåŒºã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒINnodbæä¾›äº†è¿™æ ·ä¸€ä¸ªå‚æ•°ã€innodb_old_blocks_timeã€‘ï¼Œé»˜è®¤æ˜¯1sï¼Œä»–çš„æ‰§è¡Œæµç¨‹å¤§è‡´å¦‚ä¸‹ï¼š")]),s._v(" "),t("p",[s._v("1ã€é¡µè¢«é¦–æ¬¡è®¿é—®æ—¶ä¼šè®°å½•è®¿é—®çš„æ—¶é—´æˆ³ã€‚")]),s._v(" "),t("p",[s._v("2ã€ä»¥åè®¿é—®éƒ½å’Œé¦–æ¬¡è®¿é—®çš„æ—¶é—´è¿›è¡Œå¯¹æ¯”ï¼Œå¦‚æœæ—¶é—´å¤§äº1sï¼Œå°±è®²å½“å‰é¡µæ”¾å…¥yongåŒºã€‚")]),s._v(" "),t("p",[s._v("3ã€ä¸€ä¸ªsqlçš„æ‰«æä¸€ä¸ªé¡µçš„æ—¶é—´ï¼Œå“ªæ€•åœ¨æ…¢ä¹Ÿä¸ä¼šä½äº1sï¼Œè¿™æ ·å°±è§£å†³äº†ä¸€ä¸ªå…¨è¡¨æ‰«ç§’è€Œå¯¼è‡´å…¨è¡¨æˆä¸ºçƒ­ç‚¹æ•°æ®çš„é—®é¢˜ã€‚")])])]),s._v(" "),t("p",[s._v("tipsï¼šä¹Ÿå°±æ„å‘³ç€ï¼Œçƒ­ç‚¹æ•°æ®è¦æ±‚é¦–æ¬¡è®¿é—®æ—¶é—´å’Œæœ€åä¸€æ¬¡è®¿é—®æ—¶é—´çš„æ—¶é—´å·®ä¸èƒ½ä½äº1sã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220509180909014.c5327db9.png",alt:"image-20220509180909014"}})]),s._v(" "),t("p",[s._v("tipsï¼šä½¿ç”¨ä»¥ä¸‹çš„è¯­å¥ï¼Œå¯ä»¥æŸ¥çœ‹innodbå½“å‰çš„çŠ¶æ€ï¼š")]),s._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("show engine innodb status\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("Total large memory allocated "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8585216")]),s._v("                  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä¸ºinnodb åˆ†é…çš„æ€»å†…å­˜æ•°(byte)")]),s._v("\nDictionary memory allocated "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("446370")]),s._v("                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ä¸ºinnodbæ•°æ®å­—å…¸åˆ†é…çš„å†…å­˜æ•°(byte)")]),s._v("\nBuffer pool size   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v("                                "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#innodb_buffer_poolçš„å¤§å°(page)")]),s._v("\nFree buffers       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v("                                "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#innodb_buffer_pool lruåˆ—è¡¨ä¸­çš„ç©ºé—²é¡µé¢æ•°é‡")]),s._v("\nDatabase pages     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("277")]),s._v("                                "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#innodb_buffer_pool lruåˆ—è¡¨ä¸­çš„éç©ºé—²é¡µé¢æ•°")]),s._v("\nOld database pages "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("                                  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#innodb_buffer_pool oldå­åˆ—è¡¨çš„é¡µé¢æ•°é‡")]),s._v("\nModified db pages  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("273")]),s._v("                                "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#innodb_buffer_pool ä¸­è„é¡µçš„æ•°é‡")]),s._v("\nPending reads      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("                                  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æŒ‚èµ·è¯»çš„æ•°é‡")]),s._v("\nPending writes: LRU "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(", flush list "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(", single page "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æŒ‚èµ·å†™çš„æ•°é‡")]),s._v("\nPages made young "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(", not young "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(" youngs/s, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(" non-youngs/s\nPages "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8002054")]),s._v(", created "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("766955")]),s._v(", written "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4652116")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(" reads/s, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(" creates/s, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(" writes/s\nBuffer pool hit rate "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("993")]),s._v(" / "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(", young-making rate "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" / "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(" not "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" / "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\nPages "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" ahead "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("/s, evicted without access "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("/s, Random "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" ahead "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("/s\nLRU len: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("277")]),s._v(", unzip_LRU len: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nI/O sum"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22009")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(":cur"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1940")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("unzip")]),s._v(" sum"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(":cur"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("h2",{attrs:{id:"ç¬¬å››ç« -mysqlä¸´æ—¶è¡¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç¬¬å››ç« -mysqlä¸´æ—¶è¡¨"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#%E7%AC%AC%E5%9B%9B%E7%AB%A0-mysql%E4%B8%B4%E6%97%B6%E8%A1%A8",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ç¬¬å››ç«  MySQLä¸´æ—¶è¡¨")]),s._v(" "),t("h3",{attrs:{id:"ä¸€ã€ä¸´æ—¶è¡¨ç®€ä»‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€ä¸´æ—¶è¡¨ç®€ä»‹"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#%E4%B8%80%E3%80%81%E4%B8%B4%E6%97%B6%E8%A1%A8%E7%AE%80%E4%BB%8B",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ä¸€ã€ä¸´æ—¶è¡¨ç®€ä»‹")]),s._v(" "),t("p",[s._v("MySQLä¸´æ—¶è¡¨åœ¨å¾ˆå¤šåœºæ™¯ä¸­éƒ½ä¼šç”¨åˆ°ï¼Œæ¯”å¦‚ç”¨æˆ·è‡ªå·±åˆ›å»ºçš„ä¸´æ—¶è¡¨ç”¨äºã€ä¿å­˜ä¸´æ—¶æ•°æ®ã€‘ï¼Œä»¥åŠMySQLå†…éƒ¨åœ¨æ‰§è¡Œã€å¤æ‚SQLã€‘æ—¶ï¼Œéœ€è¦å€ŸåŠ©ä¸´æ—¶è¡¨è¿›è¡Œã€åˆ†ç»„ã€æ’åºã€å»é‡ã€‘ç­‰æ“ä½œï¼Œä¸´æ—¶è¡¨å…·æœ‰ä¸€ä¸‹å‡ ä¸ªç‰¹ç‚¹ï¼š")]),s._v(" "),t("p",[s._v("1ï¼‰ä¸´æ—¶è¡¨ä¸èƒ½é€šè¿‡"),t("code",[s._v("show tables")]),s._v("æŸ¥çœ‹ï¼Œåœ¨æœåŠ¡å™¨é‡å¯ä¹‹åï¼Œæ‰€æœ‰çš„ä¸´æ—¶è¡¨å°†å…¨éƒ¨è¢«é”€æ¯ã€‚")]),s._v(" "),t("p",[s._v("2ï¼‰ä¸´æ—¶è¡¨æ˜¯æ¯ä¸ªè¿›ç¨‹ç‹¬äº«çš„ï¼Œå½“å‰è¿›ç¨‹ï¼ˆå®¢æˆ·ç«¯ï¼‰åˆ›å»ºçš„ä¸´æ—¶è¡¨ï¼Œå…¶ä»–è¿›ç¨‹ï¼ˆå®¢æˆ·ç«¯ï¼‰æ˜¯æŸ¥ä¸åˆ°ä¸´æ—¶è¡¨é‡Œé¢çš„æ•°æ®çš„ï¼Œæ‰€ä»¥ä¸åŒå®¢æˆ·ç«¯å¯ä»¥åˆ›å»ºåŒåçš„ä¸´æ—¶è¡¨ã€‚")]),s._v(" "),t("h3",{attrs:{id:"äºŒã€ä¸´æ—¶è¡¨åˆ†ç±»"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€ä¸´æ—¶è¡¨åˆ†ç±»"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#%E4%BA%8C%E3%80%81%E4%B8%B4%E6%97%B6%E8%A1%A8%E5%88%86%E7%B1%BB",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("äºŒã€ä¸´æ—¶è¡¨åˆ†ç±»")]),s._v(" "),t("h4",{attrs:{id:"_1ã€å¤–éƒ¨ä¸´æ—¶è¡¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€å¤–éƒ¨ä¸´æ—¶è¡¨"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_1%E3%80%81%E5%A4%96%E9%83%A8%E4%B8%B4%E6%97%B6%E8%A1%A8",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("1ã€å¤–éƒ¨ä¸´æ—¶è¡¨")]),s._v(" "),t("p",[s._v("é€šè¿‡create temporary tableè¯­å¥åˆ›å»ºçš„ä¸´æ—¶è¡¨ä¸ºå¤–éƒ¨ä¸´æ—¶è¡¨ï¼Œåˆ›å»ºè¯­å¥å¦‚ä¸‹ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("temporary")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" temp_table"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\tid "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tname "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ENGINE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("InnoDB")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" temp_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" temp_table "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- åˆ é™¤ä¸´æ—¶è¡¨")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TEMPORARY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" table_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h4",{attrs:{id:"_2ã€å†…éƒ¨ä¸´æ—¶è¡¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€å†…éƒ¨ä¸´æ—¶è¡¨"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_2%E3%80%81%E5%86%85%E9%83%A8%E4%B8%B4%E6%97%B6%E8%A1%A8",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("2ã€å†…éƒ¨ä¸´æ—¶è¡¨")]),s._v(" "),t("p",[s._v("ã€å†…éƒ¨ä¸´æ—¶è¡¨ã€‘ç”¨æ¥å­˜å‚¨æŸäº›æ“ä½œçš„ã€ä¸­é—´ç»“æœã€‘ï¼Œè¿™äº›æ“ä½œå¯èƒ½åŒ…æ‹¬åœ¨ã€ä¼˜åŒ–é˜¶æ®µã€‘æˆ–è€…ã€æ‰§è¡Œé˜¶æ®µã€‘ï¼Œè¿™ç§å†…éƒ¨è¡¨å¯¹ç”¨æˆ·æ¥è¯´æ˜¯ä¸å¯è§çš„ã€‚é€šå¸¸åœ¨æ‰§è¡Œå¤æ‚SQLè¯­å¥æ—¶ï¼Œæ¯”å¦‚group byï¼Œdistinctï¼Œunionç­‰è¯­å¥æ—¶ï¼ŒMySQLå†…éƒ¨å°†ä½¿ç”¨ã€è‡ªåŠ¨ç”Ÿæˆçš„ä¸´æ—¶è¡¨ã€‘ï¼Œä»¥è¾…åŠ©SQLçš„æ‰§è¡Œã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ‰§è¡Œè®¡åˆ’æŸ¥çœ‹ï¼Œå¦‚æœä¸€æ¡sqlè¯­å¥çš„æ‰§è¡Œè®¡åˆ’ä¸­ã€åˆ—extraã€‘ç»“æœä¸ºUsing temporaryï¼Œé‚£ä¹ˆä¹Ÿå°±è¯´æ˜è¿™ä¸ªæŸ¥è¯¢è¦ä½¿ç”¨åˆ°ä¸´æ—¶è¡¨ã€‚æ‰§è¡Œè®¡åˆ’ï¼Œæˆ‘ä»¬åè¾¹ä¼šè¯¦ç»†è®²è§£ã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220512171531287.af1986a5.png",alt:"image-20220512171531287"}})]),s._v(" "),t("h4",{attrs:{id:"_3ã€group-byæ‰§è¡Œæµç¨‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3ã€group-byæ‰§è¡Œæµç¨‹"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_3%E3%80%81group-by%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("3ã€group byæ‰§è¡Œæµç¨‹")]),s._v(" "),t("p",[s._v("è¿™ä¸ªä¾‹å­ä¸­æˆ‘ä»¬ä½¿ç”¨ï¼Œè¯¾ç¨‹ã€mysqlå…¥é—¨ã€‘ä¸­çš„ä¸€å¼ å­¦ç”Ÿè¡¨ï¼Œæ‰§è¡Œä»¥ä¸‹sqlï¼Œç»Ÿè®¡å„ä¸ªå¹´é¾„çš„äººæ•°ï¼Œå¹¶æŒ‰ç…§å¹´é¾„å¤§å­¦æ’åºï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" age"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" age "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" age\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("strong",[s._v("ä»–çš„æ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼š")])]),s._v(" "),t("p",[s._v("ï¼ˆ1ï¼‰åˆ›å»ºä¸€ä¸ªå†…éƒ¨ä¸´æ—¶è¡¨ï¼Œæœ‰ä¸¤åˆ—ï¼Œä¸€åˆ—æ˜¯ageï¼Œä¸€åˆ—æ˜¯count(*)ã€‚")]),s._v(" "),t("p",[s._v("ï¼ˆ2ï¼‰å…¨è¡¨æ‰«æã€åŸå§‹è¡¨ã€‘ï¼ˆèšç°‡ç´¢å¼•ä¼šåœ¨åè¾¹çš„å†…å®¹è®²è§£ï¼‰ï¼Œæ¯æ‰«æä¸€æ¡æ•°æ®è¿›è¡Œä¸€æ¬¡åˆ¤æ–­ï¼Œç¬¬ä¸€ç§æƒ…å†µï¼Œè¿™æ¡æ•°æ®çš„å¹´é¾„åœ¨ä¸´æ—¶è¡¨ä¸­ä¸å­˜åœ¨ï¼Œåˆ™å°†å¹´é¾„å¡«å…¥ï¼Œcountåˆ—å¡«1ã€‚ç¬¬äºŒç§æƒ…å†µï¼Œè¯¥æ¡æ•°æ®åœ¨ä¸´æ—¶è¡¨ä¸­å­˜åœ¨ï¼Œåˆ™å°†countåˆ—åŠ 1ã€‚ä¸´æ—¶è¡¨çš„å­˜åœ¨æ˜¯ä¸ºäº†è¾…åŠ©è®¡ç®—ã€‚")]),s._v(" "),t("p",[s._v("ï¼ˆ3ï¼‰å¯¹ä¸´æ—¶è¡¨çš„æ•°æ®æŒ‰ç…§å¹´é¾„è¿›è¡Œæ’åºã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220512173136197.67e95f7b.png",alt:"image-20220512173136197"}})]),s._v(" "),t("h4",{attrs:{id:"_4ã€å†…éƒ¨ä¸´æ—¶è¡¨åˆ›å»ºæ—¶æœº"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4ã€å†…éƒ¨ä¸´æ—¶è¡¨åˆ›å»ºæ—¶æœº"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_4%E3%80%81%E5%86%85%E9%83%A8%E4%B8%B4%E6%97%B6%E8%A1%A8%E5%88%9B%E5%BB%BA%E6%97%B6%E6%9C%BA",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("4ã€å†…éƒ¨ä¸´æ—¶è¡¨åˆ›å»ºæ—¶æœº")]),s._v(" "),t("p",[t("strong",[s._v("MySQLåœ¨ä»¥ä¸‹å‡ ç§æƒ…å†µä¼šåˆ›å»ºä¸´æ—¶è¡¨ï¼Œå¤§å®¶ä¹Ÿè¦æ€è€ƒä¸ºä»€ä¹ˆä¼šäº§ç”Ÿä¸´æ—¶è¡¨ï¼š")])]),s._v(" "),t("p",[s._v("1ã€ä½¿ç”¨GROUP BYåˆ†ç»„ï¼Œä¸”åˆ†ç»„å­—æ®µæ²¡æœ‰ç´¢å¼•æ—¶ã€‚")]),s._v(" "),t("p",[s._v("2ã€ä½¿ç”¨DISTINCTæŸ¥è¯¢ã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220512180936503.7bb9f8be.png",alt:"image-20220512180936503"}})]),s._v(" "),t("p",[s._v("3ã€ä½¿ç”¨UNIONè¿›è¡Œç»“æœåˆå¹¶ï¼Œè¾…åŠ©å»é‡ã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220512181256543.8c827827.png",alt:"image-20220512181256543"}})]),s._v(" "),t("p",[s._v("æ³¨æ„ï¼šã€union allã€‘ä¸ä¼šä½¿ç”¨é›¶æ—¶è¡¨ï¼Œå› ä¸ºä»–ä¸éœ€è¦å»é‡")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220512181433029.019f7ad6.png",alt:"image-20220512181433029"}})]),s._v(" "),t("p",[s._v("å¤æ‚çš„sqlä¸­å¾ˆå®¹æ˜“äº§ç”Ÿä¸´æ—¶è¡¨ï¼Œè¿™éœ€è¦å¤§å®¶åœ¨å·¥ä½œä¸­ä¸æ–­çš„å­¦ä¹ å’Œç§¯ç´¯ã€‚")]),s._v(" "),t("p",[s._v("**tipsï¼š**å…¶å®ä¸´æ—¶è¡¨è¿˜å¯ä»¥åˆ†ä¸ºã€å†…å­˜ä¸´æ—¶è¡¨ã€‘å’Œã€ç£ç›˜ä¸´æ—¶è¡¨ã€‘ã€‚å†…å­˜ä¸´æ—¶è¡¨ä½¿ç”¨memeryå¼•æ“ï¼ˆMemoryå¼•æ“ä¸æ”¯æŒBOLBå’ŒTEXTç±»å‹ï¼‰ï¼Œç£ç›˜ä¸´æ—¶è¡¨é»˜è®¤ä½¿ç”¨innodbå¼•æ“ã€‚åœ¨ä»¥ä¸‹å‡ ç§æƒ…å†µä¸‹ï¼Œä¼šåˆ›å»ºç£ç›˜ä¸´æ—¶è¡¨ï¼š")]),s._v(" "),t("p",[s._v("1ã€æ•°æ®è¡¨ä¸­åŒ…å«BLOB/TEXTåˆ—ï¼›")]),s._v(" "),t("p",[s._v("2ã€åœ¨ GROUP BY æˆ–è€… DSTINCT çš„åˆ—ä¸­æœ‰è¶…è¿‡ 512å­—ç¬¦çš„å­—ç¬¦ç±»å‹åˆ—ï¼›")]),s._v(" "),t("p",[s._v("3ã€åœ¨SELECTã€UNIONã€UNION ALLæŸ¥è¯¢ä¸­ï¼Œå­˜åœ¨æœ€å¤§é•¿åº¦è¶…è¿‡512çš„åˆ—ï¼ˆå¯¹äºå­—ç¬¦ä¸²ç±»å‹æ˜¯512ä¸ªå­—ç¬¦ï¼Œå¯¹äºäºŒè¿›åˆ¶ç±»å‹åˆ™æ˜¯512å­—èŠ‚ï¼‰ï¼›")]),s._v(" "),t("h2",{attrs:{id:"ç¬¬äº”ç« -mysqläº‹åŠ¡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç¬¬äº”ç« -mysqläº‹åŠ¡"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#%E7%AC%AC%E4%BA%94%E7%AB%A0-mysql%E4%BA%8B%E5%8A%A1",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ç¬¬äº”ç«  MySQLäº‹åŠ¡")]),s._v(" "),t("h3",{attrs:{id:"ä¸€ã€äº‹åŠ¡ç®€ä»‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€äº‹åŠ¡ç®€ä»‹"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#%E4%B8%80%E3%80%81%E4%BA%8B%E5%8A%A1%E7%AE%80%E4%BB%8B",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ä¸€ã€äº‹åŠ¡ç®€ä»‹")]),s._v(" "),t("p",[s._v("é¦–å…ˆç»™å¤§å®¶ä¸¾ä¸€ä¸ªä¾‹å­ï¼šæˆ‘ä»¬æœ‰å¦‚ä¸‹çš„é”€å”®ä¸šåŠ¡ï¼Œä¸€ä¸ªé”€å”®ä¸šåŠ¡å¯èƒ½åŒ…å«å¾ˆå¤šæ­¥éª¤ï¼Œæ¯”å¦‚è®°å½•è®¢å•ã€æ·»åŠ ç§¯åˆ†ã€ç®¡ç†åº“å­˜ã€æ‰£å‡é‡‘é¢ç­‰ç­‰ï¼Œæ¯ä¸€ä¸ªæ“ä½œéƒ½å¯èƒ½å¯¹åº”ä¸€æ¡æˆ–å¤šæ¡sqlè¯­å¥ï¼Œä½†æ˜¯è¿™ä¸ªä¸šåŠ¡å´æ˜¯ä¸å¯åˆ†å‰²çš„ï¼Œä¸èƒ½ä¸‹äº†è®¢å•ï¼Œä¸æ‰£å‡åº“å­˜ã€‚æ­¤æ—¶æˆ‘ä»¬å°±éœ€è¦äº‹åŠ¡æ¥ç»Ÿä¸€ç®¡ç†è¿™ä¸ªä¸šåŠ¡å½“ä¸­çš„ä¸€ç³»åˆ—sqlè¯­å¥äº†ã€‚")]),s._v(" "),t("p",[s._v("ï¼ˆ1ï¼‰åœ¨ MySQL ä¸­åªæœ‰ä½¿ç”¨äº† Innodb æ•°æ®åº“å¼•æ“çš„æ•°æ®åº“æˆ–è¡¨æ‰æ”¯æŒäº‹åŠ¡ã€‚")]),s._v(" "),t("p",[s._v("ï¼ˆ2ï¼‰äº‹åŠ¡å¤„ç†å¯ä»¥ç”¨æ¥ç»´æŠ¤æ•°æ®åº“çš„å®Œæ•´æ€§ï¼Œä¿è¯æˆæ‰¹çš„ SQL è¯­å¥è¦ä¹ˆå…¨éƒ¨æ‰§è¡Œï¼Œè¦ä¹ˆå…¨éƒ¨ä¸æ‰§è¡Œã€‚")]),s._v(" "),t("h3",{attrs:{id:"äºŒã€äº‹åŠ¡åˆ†ç±»"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€äº‹åŠ¡åˆ†ç±»"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#%E4%BA%8C%E3%80%81%E4%BA%8B%E5%8A%A1%E5%88%86%E7%B1%BB",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("äºŒã€äº‹åŠ¡åˆ†ç±»")]),s._v(" "),t("h4",{attrs:{id:"_1ã€æ˜¾å¼äº‹åŠ¡å’Œéšå¼äº‹åŠ¡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€æ˜¾å¼äº‹åŠ¡å’Œéšå¼äº‹åŠ¡"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_1%E3%80%81%E6%98%BE%E5%BC%8F%E4%BA%8B%E5%8A%A1%E5%92%8C%E9%9A%90%E5%BC%8F%E4%BA%8B%E5%8A%A1",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("1ã€æ˜¾å¼äº‹åŠ¡å’Œéšå¼äº‹åŠ¡")]),s._v(" "),t("p",[s._v("ï¼ˆ1ï¼‰mysqlçš„äº‹åŠ¡å¯ä»¥åˆ†ä¸ºã€æ˜¾å¼äº‹åŠ¡ã€‘å’Œã€éšå¼äº‹åŠ¡ã€‘ã€‚é»˜è®¤çš„äº‹åŠ¡æ˜¯éšå¼äº‹åŠ¡ï¼Œç”±å˜é‡ã€autocommitã€‘æ§åˆ¶ã€‚éšå¼äº‹åŠ¡çš„ç¯å¢ƒä¸‹ï¼Œæˆ‘ä»¬æ¯æ‰§è¡Œä¸€æ¡sqléƒ½ä¼šã€è‡ªåŠ¨å¼€å¯å’Œå…³é—­ã€‘äº‹åŠ¡ï¼Œå˜é‡å¦‚ä¸‹ï¼š")]),s._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SHOW VARIABLES LIKE 'autocommit';\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220512184029517.66be300a.png",alt:"image-20220512184029517"}})]),s._v(" "),t("p",[s._v("ï¼ˆ2ï¼‰æ˜¾å¼äº‹åŠ¡ç”±æˆ‘ä»¬ã€è‡ªå·±æ§åˆ¶ã€‘äº‹åŠ¡çš„ã€å¼€å¯ï¼Œæäº¤ï¼Œå›æ»šã€‘ç­‰æ“ä½œï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªè¡¨ï¼ŒåŒæ—¶å±•ç¤ºäº‹åŠ¡çš„åŸºç¡€è¯­æ³•ï¼Œå¦‚ä¸‹ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("database")]),s._v(" ydlTrx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("use")]),s._v(" ydlTrx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- UNSIGNEDä»£è¡¨æ— ç¬¦å·æ•°ï¼Œä¸èƒ½æ˜¯è´Ÿæ•° ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\tid "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("primary")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("auto_increment")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tname "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VARCHAR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tbalance "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DECIMAL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNSIGNED")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'æ¥ å“¥'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'æ¥ å“¥è€å©†'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("50000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- è½¬è´¦ä¸šåŠ¡ï¼Œå¿…é¡»éƒ½æˆåŠŸï¼Œæˆ–è€…éƒ½å¤±è´¥ï¼Œæ‰€ä»¥ä¸èƒ½ä¸€å¥ä¸€å¥æ‰§è¡Œï¼Œä¸‡ä¸€æ‰§è¡Œäº†ä¸€åŠï¼Œæ–­ç”µäº†å’‹åŠ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- æ‰€ä»¥è¦ç¼–ç¨‹ä¸€ä¸ªæ•´ä½“")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- éƒ½æˆåŠŸ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- å¼€å¯äº‹åŠ¡;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("start")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("    \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" balance "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" balance "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" balance "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" balance "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- æäº¤äº‹åŠ¡")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("commit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- éƒ½å¤±è´¥")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("start")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" balance "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" balance "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" balance "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" balance "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- å›æ»šäº‹åŠ¡")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("rollback")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br")])]),t("p",[s._v("æˆ‘ä»¬å¯ä»¥ä½¿ç”¨beginæˆ–start transactionå¼€å¯ä¸€ä¸ªäº‹åŠ¡ï¼Œä½¿ç”¨commitæäº¤äº‹åŠ¡ï¼Œä½¿ç”¨rollbackå›æ»šå½“å‰äº‹åŠ¡ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_2ã€åªè¯»äº‹åŠ¡å’Œè¯»å†™äº‹åŠ¡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€åªè¯»äº‹åŠ¡å’Œè¯»å†™äº‹åŠ¡"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_2%E3%80%81%E5%8F%AA%E8%AF%BB%E4%BA%8B%E5%8A%A1%E5%92%8C%E8%AF%BB%E5%86%99%E4%BA%8B%E5%8A%A1",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("2ã€åªè¯»äº‹åŠ¡å’Œè¯»å†™äº‹åŠ¡")]),s._v(" "),t("p",[s._v("æˆ‘ä»¬å¯ä»¥ä½¿ç”¨read onlyå¼€å¯åªè¯»äº‹åŠ¡ï¼Œå¼€å¯åªè¯»äº‹åŠ¡æ¨¡å¼ä¹‹åï¼Œäº‹åŠ¡æ‰§è¡ŒæœŸé—´ä»»ä½•ã€insertã€‘æˆ–è€…ã€updateã€‘è¯­å¥éƒ½æ˜¯ä¸å…è®¸çš„ï¼Œå…·ä½“è¯­æ³•å¦‚ä¸‹ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("start")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("read")]),s._v(" only\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("commit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("æœ‰äººå¯èƒ½ä¼šé—®ï¼Œè¿™æ ·å’Œä¸å¼€äº‹åŠ¡æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿè¿™ä¸ªåœ¨ä¸‹è¾¹å­¦äº†éš”ç¦»çº§åˆ«å°±çŸ¥é“äº†ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_3ã€ä¿å­˜ç‚¹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3ã€ä¿å­˜ç‚¹"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_3%E3%80%81%E4%BF%9D%E5%AD%98%E7%82%B9",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("3ã€ä¿å­˜ç‚¹")]),s._v(" "),t("p",[s._v("æˆ‘ä»¬å¯ä»¥ä½¿ç”¨savepoint å…³é”®å­—åœ¨äº‹åŠ¡æ‰§è¡Œä¸­æ–°å»ºã€ä¿å­˜ç‚¹ã€‘ï¼Œä¹‹åå¯ä»¥ä½¿ç”¨rollbackå‘ä»»æ„ä¿å­˜ç‚¹å›æ»šã€‚")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("start")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" balance "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" balance "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("savepoint")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" balance "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" balance "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("rollback")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("**æ³¨æ„ï¼š**Mysqlæ˜¯ä¸æ”¯æŒåµŒå¥—äº‹åŠ¡çš„ï¼Œå¼€å¯ä¸€ä¸ªäº‹åŠ¡çš„æƒ…å†µä¸‹ï¼Œè‹¥å†å¼€å¯ä¸€ä¸ªäº‹åŠ¡ï¼Œä¼šéšå¼çš„æäº¤ä¸Šä¸€ä¸ªäº‹åŠ¡ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("start")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" balance "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" balance "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("start")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- è¿™é‡Œä¼šè‡ªåŠ¨å°†ç¬¬ä¸€ä¸ªäº‹åŠ¡æäº¤")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" balance "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" balance "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("commit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- å›æ»šäº‹åŠ¡")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("rollback")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h3",{attrs:{id:"ä¸‰ã€äº‹åŠ¡å››å¤§ç‰¹å¾-acid"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰ã€äº‹åŠ¡å››å¤§ç‰¹å¾-acid"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#%E4%B8%89%E3%80%81%E4%BA%8B%E5%8A%A1%E5%9B%9B%E5%A4%A7%E7%89%B9%E5%BE%81-acid",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ä¸‰ã€äº‹åŠ¡å››å¤§ç‰¹å¾ï¼ˆACIDï¼‰")]),s._v(" "),t("h4",{attrs:{id:"_1ã€åŸå­æ€§-atomicity"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€åŸå­æ€§-atomicity"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_1%E3%80%81%E5%8E%9F%E5%AD%90%E6%80%A7-atomicity",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("1ã€åŸå­æ€§ï¼ˆAtomicityï¼‰")]),s._v(" "),t("p",[s._v("ä¸€ä¸ªäº‹åŠ¡ï¼ˆtransactionï¼‰ä¸­çš„æ‰€æœ‰æ“ä½œï¼Œ"),t("strong",[s._v("è¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå…¨éƒ¨ä¸å®Œæˆ")]),s._v("ï¼Œä¸ä¼šç»“æŸåœ¨ä¸­é—´æŸä¸ªç¯èŠ‚ã€‚å¦‚æœäº‹åŠ¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ï¼Œä¼šè¢«å›æ»šï¼ˆRollbackï¼‰åˆ°äº‹åŠ¡å¼€å§‹å‰çš„çŠ¶æ€ï¼Œå°±åƒè¿™ä¸ªäº‹åŠ¡ä»æ¥æ²¡æœ‰æ‰§è¡Œè¿‡ä¸€æ ·ï¼Œè¿™ä¸ªå¾ˆå¥½ç†è§£ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_2ã€ä¸€è‡´æ€§-consistency"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€ä¸€è‡´æ€§-consistency"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_2%E3%80%81%E4%B8%80%E8%87%B4%E6%80%A7-consistency",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("2ã€ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰")]),s._v(" "),t("p",[s._v("åœ¨äº‹åŠ¡ã€å¼€å§‹ä¹‹å‰å’Œç»“æŸä»¥åã€‘ï¼Œæ•°æ®åº“çš„å®Œæ•´æ€§æ²¡æœ‰è¢«ç ´åï¼Œæ•°æ®åº“çŠ¶æ€åº”è¯¥ä¸ä¸šåŠ¡è§„åˆ™ä¿æŒä¸€è‡´ã€‚"),t("strong",[s._v("ä¸¾ä¸€ä¸ªä¾‹å­")]),s._v("ï¼šAå‘Bè½¬è´¦ï¼Œä¸å¯èƒ½Aæ‰£äº†é’±ï¼ŒBå´æ²¡æœ‰æ”¶åˆ°ï¼Œä¹Ÿä¸å¯èƒ½Aå’ŒBçš„æ€»é‡‘é¢ï¼Œåœ¨äº‹åŠ¡å‰åå‘ç”Ÿå˜åŒ–ï¼Œäº§ç”Ÿæ•°æ®ä¸ä¸€è‡´ã€‚å…¶ä»–çš„ä¸‰ä¸ªç‰¹æ€§éƒ½åœ¨ä¸ºä»–æœåŠ¡ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_3ã€éš”ç¦»æ€§-isolation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3ã€éš”ç¦»æ€§-isolation"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_3%E3%80%81%E9%9A%94%E7%A6%BB%E6%80%A7-isolation",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("3ã€éš”ç¦»æ€§ï¼ˆIsolationï¼‰")]),s._v(" "),t("p",[s._v("æ•°æ®åº“ã€å…è®¸å¤šä¸ªå¹¶å‘äº‹åŠ¡åŒæ—¶å¯¹å…¶æ•°æ®è¿›è¡Œè¯»å–å’Œä¿®æ”¹ã€‘ï¼Œéš”ç¦»æ€§å¯ä»¥é˜²æ­¢å¤šä¸ªäº‹åŠ¡åœ¨å¹¶å‘ä¿®æ”¹å…±äº«æ•°æ®æ—¶äº§ç”Ÿã€æ•°æ®ä¸ä¸€è‡´ã€‘çš„ç°è±¡ï¼Œè¿™é‡Œè¦è”æƒ³åˆ°æˆ‘ä»¬å­¦ä¹ è¿‡çš„å¤šçº¿ç¨‹ã€‚")]),s._v(" "),t("p",[s._v("äº‹åŠ¡éš”ç¦»çº§åˆ«åˆ†ä¸ºä¸åŒç­‰çº§ï¼ŒåŒ…æ‹¬è¯»æœªæäº¤ï¼ˆRead uncommittedï¼‰ã€è¯»æäº¤ï¼ˆread committedï¼‰ã€å¯é‡å¤è¯»ï¼ˆrepeatable readï¼‰å’Œä¸²è¡ŒåŒ–ï¼ˆSerializableï¼‰ï¼Œåç»­ä¼šè¯¦ç»†è®²ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_4ã€æŒä¹…æ€§-durability"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4ã€æŒä¹…æ€§-durability"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_4%E3%80%81%E6%8C%81%E4%B9%85%E6%80%A7-durability",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("4ã€æŒä¹…æ€§ï¼ˆDurabilityï¼‰")]),s._v(" "),t("p",[s._v("äº‹åŠ¡å¤„ç†ç»“æŸåï¼Œå¯¹æ•°æ®çš„ä¿®æ”¹å°±æ˜¯æ°¸ä¹…çš„ï¼Œå³ä¾¿ç³»ç»Ÿæ•…éšœä¹Ÿä¸ä¼šä¸¢å¤±ã€‚")]),s._v(" "),t("h3",{attrs:{id:"å››ã€äº‹åŠ¡éš”ç¦»çº§åˆ«"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å››ã€äº‹åŠ¡éš”ç¦»çº§åˆ«"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#%E5%9B%9B%E3%80%81%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("å››ã€äº‹åŠ¡éš”ç¦»çº§åˆ«")]),s._v(" "),t("p",[s._v("å¯¹äºæ•°æ®åº“çš„å››å¤§ç‰¹æ€§ä¸­çš„ã€éš”ç¦»çº§åˆ«ã€‘æ˜¯æ¯”è¾ƒéš¾ç†è§£çš„ï¼Œæˆ‘ä»¬åœ¨æœ¬å°ç»“ä¸­è¯¦ç»†ä»‹ç»ã€‚")]),s._v(" "),t("p",[s._v("åœ¨å¤šä¸ªäº‹åŠ¡ã€å¹¶å‘æ“ä½œã€‘ç›¸åŒçš„è¡¨æ•°æ®æ—¶ï¼Œä¸ºäº†è®©å¤šä¸ªäº‹åŠ¡éƒ½å¯ä»¥å¾—åˆ°æ­£ç¡®çš„ç»“æœï¼Œä¸ä¼šå› ä¸ºäº’ç›¸çš„äº¤å‰æ“ä½œäº§ç”Ÿå¹²æ‰°ï¼ŒåŒæ—¶è¿˜è¦ä¿è¯ä¸€å®šçš„æ‰§è¡Œæ•ˆç‡ï¼Œæ•…è€Œæå‡ºäº†ä¸åŒçš„éš”ç¦»çº§åˆ«ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("éš”ç¦»çº§åˆ«åˆ†ç±»å¦‚ä¸‹ï¼Œåœ¨ä¸åŒçš„éš”ç¦»çº§åˆ«ä¸‹å¯èƒ½äº§ç”Ÿä¸åŒçš„é—®é¢˜ï¼Œå¦‚è„è¯»ã€ä¸å¯é‡å¤åº¦ã€å¹»è¯»ç­‰ï¼Œæˆ‘ä»¬ä¼šåœ¨åè¾¹çš„è¯¾ç¨‹ä¸­ä¸€ä¸€è®²è§£ï¼š")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("éš”ç¦»çº§åˆ«")]),s._v(" "),t("th",[s._v("è„è¯»")]),s._v(" "),t("th",[s._v("ä¸å¯é‡å¤è¯»")]),s._v(" "),t("th",[s._v("å¹»è¯»")]),s._v(" "),t("th",[s._v("è§£å†³æ–¹æ¡ˆ")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("Read uncommittedï¼ˆè¯»æœªæäº¤ï¼‰")]),s._v(" "),t("td",[s._v("âˆš")]),s._v(" "),t("td",[s._v("âˆš")]),s._v(" "),t("td",[s._v("âˆš")]),s._v(" "),t("td")]),s._v(" "),t("tr",[t("td",[s._v("Read committedï¼ˆè¯»å·²æäº¤ï¼‰")]),s._v(" "),t("td",[s._v("Ã—")]),s._v(" "),t("td",[s._v("âˆš")]),s._v(" "),t("td",[s._v("âˆš")]),s._v(" "),t("td",[s._v("undo log")])]),s._v(" "),t("tr",[t("td",[s._v("Repeatable readï¼ˆå¯é‡å¤è¯»ï¼‰")]),s._v(" "),t("td",[s._v("Ã—")]),s._v(" "),t("td",[s._v("Ã—")]),s._v(" "),t("td",[s._v("âˆš")]),s._v(" "),t("td",[s._v("MVCCç‰ˆæœ¬æ§åˆ¶+é—´éš™é”ï¼ˆmysqlçš„rrä¸å­˜åœ¨å¹»è¯»ï¼‰")])]),s._v(" "),t("tr",[t("td",[s._v("Serializableï¼ˆä¸²è¡ŒåŒ–ï¼‰")]),s._v(" "),t("td",[s._v("Ã—")]),s._v(" "),t("td",[s._v("Ã—")]),s._v(" "),t("td",[s._v("Ã—")]),s._v(" "),t("td")])])]),s._v(" "),t("p",[s._v("æ³¨æ„ï¼šä¼ ç»Ÿæ„ä¹‰ä¸Šçš„rrçº§åˆ«æ˜¯å­˜åœ¨å¹»è¯»é—®é¢˜çš„ï¼Œä½†æ˜¯mysqlçš„rrçº§åˆ«ä¸å­˜åœ¨ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("åœ¨mysqlä¸­æŸ¥çœ‹å’Œè®¾ç½®ã€äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ã€‘ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- æŸ¥çœ‹å…¨å±€å’Œå½“å‰äº‹åŠ¡çš„éš”ç¦»çº§åˆ«")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" @"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@global.transaction_isolation")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" @"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@transaction_isolation_isolation")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" variables "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("like")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'transaction_isolation'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--5.7   tx_isolation")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--8.0   transaction_isolation")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- è®¾ç½®ä¸‹ä¸€ä¸ªäº‹åŠ¡çš„éš”ç¦»çº§åˆ«")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("isolation")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("level")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("read")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("uncommitted")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("isolation")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("level")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("read")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("committed")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("isolation")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("level")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("repeatable")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("read")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("isolation")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("level")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("serializable")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- è®¾ç½®å½“å‰ä¼šè¯çš„éš”ç¦»çº§åˆ«")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("session")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("isolation")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("level")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("read")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("uncommitted")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("session")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("isolation")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("level")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("read")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("committed")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("session")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("isolation")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("level")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("repeatable")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("read")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("session")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("isolation")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("level")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("serializable")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- è®¾ç½®å…¨å±€äº‹åŠ¡çš„éš”ç¦»çº§åˆ«")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GLOBAL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("isolation")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("level")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("read")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("uncommitted")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GLOBAL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("isolation")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("level")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("read")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("committed")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GLOBAL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("isolation")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("level")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("repeatable")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("read")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GLOBAL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("isolation")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("level")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("serializable")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n\nå…¶ä¸­ï¼Œ"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SESSION")]),s._v(" å’Œ "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GLOBAL")]),s._v(" å…³é”®å­—ç”¨æ¥æŒ‡å®šä¿®æ”¹çš„äº‹åŠ¡éš”ç¦»çº§åˆ«çš„èŒƒå›´ï¼š\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SESSION")]),s._v("ï¼šè¡¨ç¤ºä¿®æ”¹çš„äº‹åŠ¡éš”ç¦»çº§åˆ«å°†åº”ç”¨äºå½“å‰ "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("session")]),s._v("ï¼ˆå½“å‰ cmd çª—å£ï¼‰å†…çš„æ‰€æœ‰äº‹åŠ¡ï¼›\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GLOBAL")]),s._v("ï¼šè¡¨ç¤ºä¿®æ”¹çš„äº‹åŠ¡éš”ç¦»çº§åˆ«å°†åº”ç”¨äºæ‰€æœ‰ "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("session")]),s._v("ï¼ˆå…¨å±€ï¼‰ä¸­çš„æ‰€æœ‰äº‹åŠ¡ï¼Œä¸”å½“å‰å·²ç»å­˜åœ¨çš„ "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("session")]),s._v(" ä¸å—å½±å“ï¼›\nå¦‚æœçœç•¥ "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SESSION")]),s._v(" å’Œ "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GLOBAL")]),s._v("ï¼Œè¡¨ç¤ºä¿®æ”¹çš„äº‹åŠ¡éš”ç¦»çº§åˆ«å°†åº”ç”¨äºå½“å‰ "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("session")]),s._v(" å†…çš„ä¸‹ä¸€ä¸ªè¿˜æœªå¼€å§‹çš„äº‹åŠ¡ã€‚\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br")])]),t("h4",{attrs:{id:"_1ã€è¯»æœªæäº¤-ru"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€è¯»æœªæäº¤-ru"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_1%E3%80%81%E8%AF%BB%E6%9C%AA%E6%8F%90%E4%BA%A4-ru",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("1ã€è¯»æœªæäº¤ï¼ˆRUï¼‰")]),s._v(" "),t("p",[s._v("ã€ruéš”ç¦»çº§åˆ«ã€‘è¯´çš„ç®€å•ä¸€ç‚¹å°±æ˜¯ï¼Œä¸€ä¸ªäº‹åŠ¡å¯ä»¥è¯»å–å…¶ä»–ã€æœªæäº¤çš„äº‹åŠ¡ã€‘ä¿®æ”¹çš„æ•°æ®ï¼Œè¿™ç§éš”ç¦»çº§åˆ«æœ€ä½ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ•°æ®åº“éš”ç¦»çº§åˆ«éƒ½è¦é«˜äºè¯¥çº§åˆ«ï¼Œè¯¥éš”ç¦»çº§åˆ«ä¸‹ï¼Œå¯èƒ½ä¼šå­˜åœ¨è„è¯»ã€ä¸å¯é‡å¤åº¦ï¼Œå¹»è¯»çš„é—®é¢˜ã€‚")]),s._v(" "),t("p",[s._v("**è„è¯»ï¼š**æŒ‡çš„æ˜¯ä¸€ä¸ªäº‹åŠ¡è¯»åˆ°äº†å…¶ä»–äº‹åŠ¡æœªæäº¤çš„æ•°æ®ï¼Œæœªæäº¤æ„å‘³ç€è¿™äº›æ•°æ®å¯èƒ½ä¼šå›æ»šï¼Œè¯»åˆ°çš„æ•°æ®ä¸ä¸€å®šå‡†ç¡®ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("æ¡ˆä¾‹ï¼š")])]),s._v(" "),t("p",[s._v("æ¥ å“¥å‘å·¥èµ„äº†ï¼Œè€å©†è®©æ¥ å“¥æŠŠå·¥èµ„æ‰“åˆ°ä»–è€å©†çš„è´¦å·ä¸Šï¼Œä½†æ˜¯è¯¥äº‹åŠ¡å¹¶æœªæäº¤ï¼Œå°±è®©è€å©†å»æŸ¥çœ‹ï¼Œè€å©†ä¸€çœ‹çœŸçš„æ‰“äº†é’±äº†ï¼Œé«˜é«˜å…´å…´å…³äº†ç½‘é¡µï¼Œæ­¤æ—¶æ¥ å“¥æ€¥ä¸­ç”Ÿæ™ºè¿›è¡Œå›æ»šï¼Œé’±ç¬é—´å›æ¥ï¼Œä¸€æ¬¡è’™æ··äº†ä¸€ä¸ªæœˆå·¥èµ„ã€‚æ‰€ä»¥æ¥ å“¥è€å©†çœ‹åˆ°çš„æ•°æ®æˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œè„æ•°æ®â€ã€‚")]),s._v(" "),t("p",[s._v("ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨ä¸¤ä¸ªçª—å£ï¼Œå¼€å¯ä¸¤ä¸ªäº‹åŠ¡ï¼Œä¸”å°†éš”ç¦»çº§åˆ«è®¾ç½®ä¸ºRUã€‚")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("use")]),s._v(" ydlTrx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("isolation")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("level")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("read")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("uncommitted")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("ç¬¬äºŒæ­¥ï¼šæ¥ å“¥ï¼Œç»™è½¬è´¦è€å©†è½¬è´¦10000å…ƒï¼Œä½†æ˜¯ä¸æäº¤ã€‚")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("start")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" balance "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" balance "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" balance "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" balance "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("ç¬¬ä¸‰éƒ¨æ­¥ï¼šæ¥ å“¥é€šçŸ¥è€å©†è¿›è¡ŒæŸ¥è´¦ï¼Œç¡®å®è¯»å–åˆ°äº†æ¥ å“¥æœªæäº¤äº‹åŠ¡ä¿®æ”¹çš„æ•°æ®ã€‚")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("start")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("commit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("ç¬¬å››æ­¥ï¼šè€å©†æŸ¥è´¦ç»“æŸï¼Œæ¥ å“¥æ¥ä¸€ä¸ªå›é©¬æªï¼Œå¯¹è‡ªå·±çš„äº‹åŠ¡è¿›è¡Œå›æ»šæ“ä½œã€‚")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("rollback")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("ç¬¬äº”æ­¥ï¼šæ¥ å“¥è€å©†æŸå¤©æŸ¥è´¦ï¼Œçªç„¶å‘ç°ï¼Œå“ï¼Œæ€ä¹ˆå°‘äº†ä¸€ä¸‡ã€‚")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("start")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("commit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h4",{attrs:{id:"_2ã€è¯»å·²æäº¤-rc"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€è¯»å·²æäº¤-rc"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_2%E3%80%81%E8%AF%BB%E5%B7%B2%E6%8F%90%E4%BA%A4-rc",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("2ã€è¯»å·²æäº¤ï¼ˆRCï¼‰")]),s._v(" "),t("p",[s._v("ã€RCè¯»å·²æäº¤ã€‘è¯´çš„æ˜¯å½“å‰äº‹åŠ¡åªèƒ½è¯»åˆ°åˆ«çš„äº‹ç‰©å·²ç»æäº¤çš„æ•°æ®ï¼Œè¯¥éš”ç¦»çº§åˆ«å¯èƒ½ä¼šäº§ç”Ÿä¸å¯é‡å¤è¯»å’Œå¹»è¯»ã€‚")]),s._v(" "),t("p",[s._v("ã€ä¸å¯é‡å¤è¯»ã€‘çš„å®˜æ–¹è§£é‡Šæ˜¯ï¼šã€ä¸€ä¸ªäº‹åŠ¡ã€‘ï¼ˆAäº‹åŠ¡ï¼‰ä¿®æ”¹äº†ã€å¦ä¸€ä¸ªæœªæäº¤äº‹åŠ¡ã€‘ï¼ˆBäº‹åŠ¡ï¼‰è¯»å–è¿‡çš„æ•°æ®ã€‚é‚£ä¹ˆBäº‹åŠ¡ã€å†æ¬¡è¯»å–ã€‘ï¼Œä¼šå‘ç°ä¸¤æ¬¡è¯»å–çš„æ•°æ®ä¸ä¸€è‡´ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨ä¸€ä¸ªåŸå­æ€§çš„æ“ä½œä¸­ä¸€ä¸ªäº‹åŠ¡ä¸¤æ¬¡è¯»å–ç›¸åŒçš„æ•°æ®ï¼Œå´ä¸ä¸€è‡´ï¼Œä¸€è¡Œæ•°æ®ä¸èƒ½é‡å¤è¢«è¯»å–ã€‚ä¸»è¦æ˜¯ã€updateã€‘è¯­å¥ï¼Œä¼šå¯¼è‡´ä¸å¯é‡å¤è¯»ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("æ¡ˆä¾‹ï¼š")])]),s._v(" "),t("p",[s._v("æ¥ å“¥æ‹¿ç€å·¥èµ„å¡å»æ¶ˆè´¹ï¼Œç³»ç»Ÿè¯»å–åˆ°å¡é‡Œç¡®å®æœ‰10200å…ƒï¼Œè€Œæ­¤æ—¶å¥¹çš„è€å©†ä¹Ÿæ­£å¥½åœ¨ç½‘ä¸Šè½¬è´¦ï¼ŒæŠŠæ¥ å“¥å·¥èµ„å¡çš„2000å…ƒè½¬åˆ°å¦ä¸€è´¦æˆ·ï¼Œå¹¶åœ¨ æ¥ å“¥ä¹‹å‰æäº¤äº†äº‹åŠ¡ï¼Œå½“æ¥ å“¥æ‰£æ¬¾æ—¶ï¼Œç³»ç»Ÿæ£€æŸ¥åˆ°æ¥ å“¥çš„å·¥èµ„å¡å’Œä¸Šæ¬¡è¯»å–çš„ä¸ä¸€æ ·äº†ï¼Œæ¥ å“¥ååˆ†çº³é—·ï¼Œæ˜æ˜å¡é‡Œæœ‰é’±ï¼Œä¸ºä½•......")]),s._v(" "),t("p",[s._v("ç¬¬ä¸€æ­¥ï¼šå°†äº‹åŠ¡çš„éš”ç¦»çº§åˆ«è®¾ç½®ä¸ºRCã€‚")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("isolation")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("level")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("read")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("committed")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("ç¬¬äºŒæ­¥ï¼šæ¥ å“¥å‡†å¤‡å»æ¶ˆè´¹äº†ï¼Œæ£€æŸ¥å­˜æ¬¾æ˜¾ç¤ºæœ‰ä½™é¢ï¼Œè´¼é«˜å…´ã€‚")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("start")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("ç¬¬ä¸‰æ­¥ï¼šæ¥ å“¥è€å©†åœ¨æ¥ å“¥æ²¡æœ‰æäº¤äº‹åŠ¡çš„æ—¶å€™ï¼Œè¿›è¡Œäº†ä¸€ç¬”è½¬è´¦ï¼Œå¹¶ä¸”æäº¤äº†äº‹åŠ¡ã€‚")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("start")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" balance "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" balance "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("500")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" balance "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" balance "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("500")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("commit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("ç¬¬å››æ­¥ï¼šæ¥ å“¥å†æ¬¡æŸ¥è´¦ï¼ŒåŒä¸€ä¸ªäº‹åŠ¡é‡Œï¼Œå‘ç°é’±å°‘äº†ã€‚")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("å½“éš”ç¦»çº§åˆ«è®¾ç½®ä¸ºRead committed æ—¶ï¼Œé¿å…äº†è„è¯»ï¼Œä½†æ˜¯å¯èƒ½ä¼šé€ æˆä¸å¯é‡å¤è¯»ã€‚")]),s._v(" "),t("p",[s._v("å¤§å¤šæ•°æ•°æ®åº“çš„é»˜è®¤çº§åˆ«å°±æ˜¯Read committedï¼Œæ¯”å¦‚Sql Server , Oracleã€‚å¦‚ä½•è§£å†³ä¸å¯é‡å¤è¯»è¿™ä¸€é—®é¢˜ï¼Œè¯·çœ‹ä¸‹ä¸€ä¸ªéš”ç¦»çº§åˆ«ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_3ã€å¯é‡å¤è¯»-rr"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3ã€å¯é‡å¤è¯»-rr"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_3%E3%80%81%E5%8F%AF%E9%87%8D%E5%A4%8D%E8%AF%BB-rr",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("3ã€å¯é‡å¤è¯»ï¼ˆRRï¼‰")]),s._v(" "),t("p",[s._v("å­¦ä¹ å®Œä¸å¯é‡å¤è¯»ï¼Œç†è§£ã€å¯é‡å¤è¯»ã€‘å°±ç®€å•å¤šäº†ï¼Œä»–çš„æ„æ€æ˜¯ï¼ŒåŒä¸€ä¸ªäº‹åŠ¡ä¸­å‘å‡ºåŒä¸€ä¸ªSELECTè¯­å¥ã€ä¸¤æ¬¡æˆ–æ›´å¤šæ¬¡ã€‘ï¼Œé‚£ä¹ˆäº§ç”Ÿçš„ç»“æœæ•°æ®é›†æ€»æ˜¯ç›¸åŒçš„ï¼Œåœ¨RRéš”ç¦»çº§åˆ«ä¸­å¯èƒ½å‡ºç°å¹»è¯»ã€‚")]),s._v(" "),t("p",[s._v("**å¹»è¯»ï¼š**ä¸€ä¸ªäº‹åŠ¡æŒ‰ç…§æŸäº›æ¡ä»¶è¿›è¡ŒæŸ¥è¯¢ï¼Œäº‹åŠ¡æäº¤å‰ï¼Œæœ‰å¦ä¸€ä¸ªäº‹åŠ¡æ’å…¥äº†æ»¡è¶³æ¡ä»¶çš„å…¶ä»–æ•°æ®ï¼Œå†æ¬¡ä½¿ç”¨ç›¸åŒæ¡ä»¶æŸ¥è¯¢ï¼Œå´å‘ç°å¤šäº†ä¸€äº›æ•°æ®ï¼Œå°±åƒå‡ºç°äº†å¹»è§‰ä¸€æ ·ã€‚å¹»è¯»ä¸»è¦é’ˆå¯¹é’ˆå¯¹deleteå’Œinsertè¯­å¥ã€‚")]),s._v(" "),t("p",[s._v("ä¸å¯é‡å¤è¯»å¼ºè°ƒçš„æ˜¯ä¸¤æ¬¡è¯»å–çš„æ•°æ®ã€å†…å®¹ä¸åŒã€‘ï¼Œå¹»è¯»å‰è°ƒçš„æ˜¯ä¸¤æ¬¡è¯»å–çš„ã€è¡Œæ•°ä¸åŒã€‘ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("æ¡ˆä¾‹")])]),s._v(" "),t("p",[s._v("æ¥ å“¥çš„è€å©†åœ¨é“¶è¡Œéƒ¨é—¨å·¥ä½œï¼Œå¥¹æ—¶å¸¸é€šè¿‡é“¶è¡Œå†…éƒ¨ç³»ç»ŸæŸ¥çœ‹æ¥ å“¥çš„è´¦æˆ·ä¿¡æ¯ã€‚æœ‰ä¸€å¤©ï¼Œå¥¹æ­£åœ¨æŸ¥è¯¢åˆ°æ¥ å“¥è´¦æˆ·ä¿¡æ¯æ—¶å‘ç°æ¥ å“¥åªæœ‰ä¸€ä¸ªè´¦æˆ·ï¼Œå¿ƒæƒ³è¿™å®¶ä¼™åº”è¯¥æ²¡æœ‰ç§æˆ¿é’±ã€‚æ­¤æ—¶æ¥ å“¥åœ¨å¦å¤–ä¸€å®¶åˆ†è¡Œåˆå¼€äº†ä¸€ä¸ªè´¦æˆ·ï¼Œå‡†å¤‡å­˜ç§æˆ¿é’±ã€‚åŒæ—¶ï¼Œæ¥ å“¥è€å©†åœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­åˆä¸€æ¬¡æŸ¥è¯¢ï¼Œç»“æœæ˜¾ç¤ºå‡ºçš„æ¥ å“¥è´¦æˆ·å±…ç„¶å¤šäº†ä¸€ä¸ªï¼ŒçœŸå®å¥‡æ€ªã€‚")]),s._v(" "),t("p",[s._v("ç¬¬ä¸€æ­¥ï¼šå°†æ•°æ®åº“çš„éš”ç¦»çº§åˆ«è®¾ç½®ä¸ºRRã€‚")]),s._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("set  transaction isolation level repeatable read;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("ç¬¬äºŒæ­¥ï¼šæ¥ å“¥å¼€å¯äº‹åŠ¡ã€‚")]),s._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("start transaction;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("ç¬¬ä¸‰æ­¥ï¼šè€å©†æŸ¥è´¦æˆ·ã€‚")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("start")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'æ¥ å“¥'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("ç¬¬å››æ­¥ï¼šæ¥ å“¥è¶æœºå¼€æˆ·ï¼Œå¹¶æäº¤äº‹åŠ¡ã€‚")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'æ¥ å“¥'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("commit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("ç¬¬äº”æ­¥ï¼šè€å©†å†æŸ¥è¯¢å¹¶æ‰“å°ï¼Œåº”è¯¥å‘ç°æ¥ å“¥å¤šäº†ä¸€ä¸ªè´¦æˆ·ï¼Œä½†æ˜¯æ²¡æœ‰ï¼Œå¹¶æ²¡æœ‰å‡ºç°å¹»è¯»ã€‚")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'æ¥ å“¥'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("**æ³¨æ„ï¼š**åœ¨mysqlä¸­çš„RRéš”ç¦»çº§åˆ«ä¸­ï¼Œinnodbä½¿ç”¨mvcc+é”å¸®æˆ‘ä»¬è§£å†³äº†ç»å¤§éƒ¨åˆ†çš„å¹»è¯»æƒ…å†µï¼Œ")]),s._v(" "),t("p",[s._v("ä¸Šè¾¹çš„ä¾‹å­ç¨å¾®ä¿®æ”¹ä¸€ä¸‹ï¼Œæˆ‘ä»¬å°±èƒ½çœ‹åˆ°å¹»è¯»ç°è±¡äº†ã€‚")]),s._v(" "),t("p",[s._v("ç¬¬ä¸€æ­¥ï¼šå°†æ•°æ®åº“çš„éš”ç¦»çº§åˆ«è®¾ç½®ä¸ºRRã€‚")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("isolation")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("level")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("repeatable")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("read")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("ç¬¬äºŒæ­¥ï¼šæ¥ å“¥å¼€å¯äº‹åŠ¡ã€‚")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("start")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("ç¬¬ä¸‰æ­¥ï¼šè€å©†æŸ¥è´¦æˆ·ã€‚")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("start")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'æ¥ å“¥'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("ç¬¬å››æ­¥ï¼šæ¥ å“¥è¶æœºå¼€æˆ·ï¼Œå¹¶æäº¤äº‹åŠ¡ã€‚")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'æ¥ å“¥'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("commit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("ç¬¬äº”æ­¥ï¼šè€å©†å¥½å¿ƒç»™æ‰€æœ‰çš„è´¦æˆ·å……å€¼100ï¼Œå†æŸ¥è¯¢å¹¶æ‰“å°ï¼Œç»“æœå‘ç°æ¥ å“¥å¤šäº†ä¸€ä¸ªè´¦æˆ·ï¼Œå‡ºç°å¹»è¯»ã€‚")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- å…ˆç»™æ‰€æœ‰çš„è´¦æˆ·é’±å……å€¼ä¸€ç™¾")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" balance "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" balance "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'æ¥ å“¥'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("è¿™é‡Œè¾¹çš„åŸç†è¿‡äºå¤æ‚ï¼Œç›®å‰æˆ‘ä»¬å…ˆå–ä¸ªå…³å­ï¼Œç­‰æˆ‘ä»¬å­¦å®Œã€é”å’Œmvccã€‘ä»¥åå›æ¥åœ¨çœ‹ï¼Œå°±èƒ½æ˜ç™½äº†ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_4ã€ä¸²è¡ŒåŒ–"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4ã€ä¸²è¡ŒåŒ–"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance1.html#_4%E3%80%81%E4%B8%B2%E8%A1%8C%E5%8C%96",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("4ã€ä¸²è¡ŒåŒ–")]),s._v(" "),t("ul",[t("li",[s._v("äº‹åŠ¡Aå’Œäº‹åŠ¡Bï¼Œäº‹åŠ¡Aåœ¨æ“ä½œæ•°æ®åº“æ—¶ï¼Œäº‹åŠ¡Båªèƒ½æ’é˜Ÿç­‰å¾…")]),s._v(" "),t("li",[s._v("è¿™ç§éš”ç¦»çº§åˆ«å¾ˆå°‘ä½¿ç”¨ï¼Œååé‡å¤ªä½ï¼Œç”¨æˆ·ä½“éªŒå·®")]),s._v(" "),t("li",[s._v("è¿™ç§çº§åˆ«å¯ä»¥é¿å…â€œå¹»è¯»â€ï¼Œæ¯ä¸€æ¬¡è¯»å–çš„éƒ½æ˜¯æ•°æ®åº“ä¸­çœŸå®å­˜åœ¨æ•°æ®ï¼Œäº‹åŠ¡Aä¸äº‹åŠ¡Bä¸²è¡Œï¼Œè€Œä¸å¹¶å‘ã€‚")])]),s._v(" "),t("p",[s._v("ç¬¬ä¸€æ­¥ï¼šä¿®æ”¹æ•°æ®åº“çš„éš”ç¦»çº§åˆ«")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("isolation")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("level")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("serializable")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("ç¬¬ä¸€æ­¥ï¼šæ¥ å“¥æ‰§è¡ŒæŸ¥è¯¢æ“ä½œ")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("ç¬¬äºŒæ­¥ï¼šæ¥ å“¥è€å©†æ‰§è¡ŒæŸ¥è¯¢æ“ä½œ")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("ç¬¬ä¸‰éƒ¨ï¼šæ¥ å“¥è€å©†æƒ³æ‰§è¡Œä¸€ä¸ªåˆ é™¤æ“ä½œï¼Œå‘ç°äº‹åŠ¡è¢«é˜»å¡äº†ï¼Œéœ€è¦ç­‰å¾…")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("ç¬¬å››éƒ¨ï¼šæ¥ å“¥è¿™è¾¹ä¸€æäº¤ï¼Œè€å©†é‚£è¾¹å°±èƒ½æ“ä½œäº†")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("commit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("hr"),s._v(" "),t("hr"),s._v(" "),t("hr"),s._v(" "),t("hr"),s._v(" "),t("h1",{attrs:{id:"mysqlè¿›é˜¶-ä¸‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysqlè¿›é˜¶-ä¸‹"}},[s._v("#")]),s._v(" mysqlè¿›é˜¶-ä¸‹")]),s._v(" "),t("h2",{attrs:{id:"ç¬¬å…­ç« -ç´¢å¼•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç¬¬å…­ç« -ç´¢å¼•"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#%E7%AC%AC%E5%85%AD%E7%AB%A0-%E7%B4%A2%E5%BC%95",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ç¬¬å…­ç«  ç´¢å¼•")]),s._v(" "),t("p",[s._v("å­¦ä¹ æœ¬ç« èŠ‚å†…å®¹ï¼Œæˆ‘ä»¬æœ€å¥½èƒ½æ¨¡æ‹Ÿä¸€ä¸ªæ•°æ®é‡æ¯”è¾ƒå¤§çš„ç¯å¢ƒï¼Œæˆ‘ä½¿ç”¨nodejsæ¨¡æ‹Ÿäº†600å¤šä¸‡æ¡æ•°æ®ï¼Œå¤§å®¶å¯è‡ªè¡Œä¸‹è½½ï¼š")]),s._v(" "),t("p",[s._v("æ•°æ®åº“è¡¨å¦‚ä¸‹ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v("  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("user_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("bigint")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AUTO_INCREMENT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COMMENT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ç”¨æˆ·ID'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("user_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHARACTER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" utf8mb4 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLLATE")]),s._v(" utf8mb4_0900_ai_ci "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COMMENT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ç”¨æˆ·è´¦å·'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("nick_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHARACTER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" utf8mb4 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLLATE")]),s._v(" utf8mb4_0900_ai_ci "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COMMENT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ç”¨æˆ·æ˜µç§°'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("email"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHARACTER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" utf8mb4 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLLATE")]),s._v(" utf8mb4_0900_ai_ci "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COMMENT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ç”¨æˆ·é‚®ç®±'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("sex"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("char")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHARACTER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" utf8mb4 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLLATE")]),s._v(" utf8mb4_0900_ai_ci "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'0'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COMMENT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ç”¨æˆ·æ€§åˆ«ï¼ˆ0ç”· 1å¥³ 2æœªçŸ¥ï¼‰'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("avatar"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHARACTER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" utf8mb4 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLLATE")]),s._v(" utf8mb4_0900_ai_ci "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COMMENT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'å¤´åƒåœ°å€'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("password"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHARACTER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" utf8mb4 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLLATE")]),s._v(" utf8mb4_0900_ai_ci "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COMMENT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'å¯†ç '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("login_ip"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("128")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHARACTER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" utf8mb4 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLLATE")]),s._v(" utf8mb4_0900_ai_ci "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COMMENT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'æœ€åç™»å½•IP'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("login_date"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("datetime")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COMMENT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'æœ€åç™»å½•æ—¶é—´'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("text"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("text")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHARACTER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" utf8mb4 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLLATE")]),s._v(" utf8mb4_0900_ai_ci "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COMMENT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'æµ‹è¯•æ–‡æœ¬'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIMARY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("user_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BTREE")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ENGINE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("InnoDB")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AUTO_INCREMENT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHARACTER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" utf8mb4 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLLATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" utf8mb4_0900_ai_ci "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COMMENT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ç”¨æˆ·ä¿¡æ¯è¡¨'")]),s._v(" ROW_FORMAT "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Dynamic"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("p",[s._v("æˆ‘è¿™é‡Œä½¿ç”¨nodejsï¼ˆåè¾¹ä¼šå­¦ï¼‰çš„è„šæœ¬å¯¼å…¥äº†600ä¸‡æ¡æ•°æ®ï¼Œç”¨æ¥æ¨¡æ‹Ÿï¼Œè„šæœ¬å¦‚ä¸‹ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥åœ¨æˆ‘ä»¬ç½‘ç«™è‡ªè¡Œè·å–ï¼š")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä½¿ç”¨ Mock")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" Mock "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mockjs'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// mysql8.0éœ€è¦æ‰§è¡Œä¸‹è¾¹çš„sqlï¼Œå¦åˆ™nodejsä¸æ”¯æŒ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'è‡ªå·±çš„å¯†ç ';")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" mysql "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mysql'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å®šä¹‰è¿æ¥æ± ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" pool "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("createPool")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("host")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"127.0.0.1"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä¸»æœºåœ°å€")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("port")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("database")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ydl"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ•°æ®åº“åå­—")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("user")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"root"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è¿æ¥æ•°æ®åº“çš„ç”¨æˆ·å")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("password")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"root"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è¿æ¥æ•°æ®åº“å¯†ç ")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("connectionLimit")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è¿æ¥æ± æœ€å¤§è¿æ¥æ•°")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("multipleStatements")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å…è®¸æ‰§è¡Œå¤šæ¡sqlè¯­å¥")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("insert")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("connection")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" content "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä½¿ç”¨mock.jsæ¨¡æ‹Ÿæ•°æ®")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" user "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Mock"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mock")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("userName")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Mock"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mock")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@name(true)'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("nickName")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Mock"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mock")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@cname()'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("email")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Mock"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mock")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@email()'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("sex")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Math"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("random")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.5")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ç”·'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'å¥³'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loginIp")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Mock"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mock")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@ip()'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loginDate")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Mock"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mock")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@datetime()'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("password")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Mock"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mock")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@word(5, 10)'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("avatar")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Mock"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mock")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@url()'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("text")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Mock"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mock")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@cparagraph(30)'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ¯æ¬¡å­˜å…¥1000æ¡")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" insertData "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'('")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("key "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            insertData "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\\''")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("key"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\\''")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("','")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        insertData "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" insertData"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("substring")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" insertData"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("length "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("')'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        content "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" insertData "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("','")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    content "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" content"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("substring")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" content"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("length "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" sql "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token template-string"}},[t("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("insert into user (user_name,\n        nick_name,email,sex,login_ip,login_date,password,avatar,text) values\n        ")]),t("span",{pre:!0,attrs:{class:"token interpolation"}},[t("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("content"),t("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),t("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    connection"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("query")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    connection"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("release")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¾ªç¯60000ä¸‡æ¬¡ï¼Œæ€»è®¡èƒ½æ’å…¥600ä¸‡æ¡")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("60000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    \n    pool"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getConnection")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("err"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" connection")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä»£ç ")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("insert")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("connection"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ç¬¬'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("i"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'æ¡sqlæ‰§è¡ŒæˆåŠŸï¼'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br")])]),t("p",[s._v("å¯¹åº”çš„sqlæ–‡ä»¶ä¹Ÿå‡†å¤‡å¥½äº†ï¼Œæ–‡ä»¶å¤§å°1.18Gï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œä¸‹è½½ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220429163430651.514ed3af.png",alt:"image-20220429163430651"}})]),s._v(" "),t("p",[s._v("å‡†å¤‡å·¥ä½œåšå¥½ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥æ·±å…¥çš„å»å­¦ä¹ è¿™äº›çŸ¥è¯†äº†ã€‚")]),s._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("select count(*) from ydl_user;  -- 5.429\nselect * from ydl_user where user_id = 1000000; -- 0.355s\nselect * from ydl_user where user_name = 'Jennifer Susan Johnson';   -- 4.715s\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"ä¸€ã€æ•°æ®ç»“æ„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€æ•°æ®ç»“æ„"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#%E4%B8%80%E3%80%81%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ä¸€ã€æ•°æ®ç»“æ„")]),s._v(" "),t("p",[s._v("ä¸€æ–¹é¢mysqlçš„æ•°æ®æ˜¯å­˜å‚¨åœ¨ç£ç›˜ä¸Šçš„ï¼Œå¦ä¸€æ–¹é¢è¿˜è¦æ»¡è¶³å¯¹æ—¥å¸¸æ“ä½œå¦‚ã€å¢åˆ æ”¹æŸ¥ã€‘çš„é«˜æ•ˆç¨³å®šçš„æ”¯æŒï¼Œæˆ‘ä»¬å½“ç„¶å¯ä»¥é‡‡ç”¨æ›´å¥½çš„ç¡¬ä»¶æ¥æå‡æ€§èƒ½ï¼Œä½†æ˜¯é€‰ç”¨åˆé€‚çš„æ•°æ®ç»“æ„ä¹Ÿå¾ˆå…³é”®ï¼Œinnodbé‡‡ç”¨çš„æ˜¯ä¸€ç§åä¸ºã€b+æ ‘ã€‘çš„æ•°æ®ç»“æ„ã€‚")]),s._v(" "),t("p",[s._v("æˆ‘ä»¬ä¹‹å‰å·²ç»å­¦ä¹ è¿‡innodbä¸­çš„æ•°æ®æ˜¯ä»¥ã€è¡Œã€‘ä¸ºå•ä½ï¼Œå­˜åœ¨ä¸€ä¸ªä¸ªå¤§å°ä¸º16kçš„ã€é¡µã€‘ä¸­ï¼Œåˆšæ‰çš„b+æ ‘çš„ä½œç”¨å°±æ˜¯æŒ‰ç…§ä¸€ä¸ªçš„ç»„ç»‡å½¢å¼ï¼Œå°†æ‰€æœ‰çš„ã€é¡µã€‘ç»„ç»‡å…³è”èµ·æ¥ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_1ã€b-æ ‘"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€b-æ ‘"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_1%E3%80%81b-%E6%A0%91",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("1ã€B-æ ‘")]),s._v(" "),t("p",[s._v("æˆ‘ä»¬è¦äº†è§£ã€B+æ ‘ã€‘ï¼Œé¦–å…ˆè¦äº†è§£ä¸€ä¸‹ã€B-æ ‘ã€‘ï¼Œè¿™é‡Œçš„ B è¡¨ç¤º balance( å¹³è¡¡çš„æ„æ€)ï¼ŒB-æ ‘æ˜¯ä¸€ç§ã€å¤šè·¯è‡ªå¹³è¡¡çš„æœç´¢æ ‘ã€‘ï¼Œå®ƒç±»ä¼¼æ™®é€šçš„å¹³è¡¡äºŒå‰æ ‘ï¼Œä¸åŒçš„ä¸€ç‚¹æ˜¯B-æ ‘å…è®¸æ¯ä¸ªèŠ‚ç‚¹æœ‰æ›´å¤šçš„å­èŠ‚ç‚¹ã€‚ä¸‹å›¾æ˜¯ B-æ ‘çš„ç®€åŒ–å›¾.")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220429152229620.0c8ec149.png",alt:"image-20220429152229620"}})]),s._v(" "),t("p",[s._v("B-æ ‘æœ‰å¦‚ä¸‹ç‰¹ç‚¹:")]),s._v(" "),t("ol",[t("li",[s._v("æ‰€æœ‰é”®å€¼åˆ†å¸ƒåœ¨æ•´é¢—æ ‘ä¸­ï¼›")]),s._v(" "),t("li",[s._v("ä»»ä½•ä¸€ä¸ªå…³é”®å­—å‡ºç°ä¸”åªå‡ºç°åœ¨ä¸€ä¸ªç»“ç‚¹ä¸­ï¼›")]),s._v(" "),t("li",[s._v("æœç´¢æœ‰å¯èƒ½åœ¨éå¶å­ç»“ç‚¹ç»“æŸï¼›")]),s._v(" "),t("li",[s._v("åœ¨å…³é”®å­—å…¨é›†å†…åšä¸€æ¬¡æŸ¥æ‰¾ï¼Œæ€§èƒ½é€¼è¿‘äºŒåˆ†æŸ¥æ‰¾ï¼›")])]),s._v(" "),t("h4",{attrs:{id:"_2ã€b-æ ‘"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€b-æ ‘"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_2%E3%80%81b-%E6%A0%91",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("2ã€B+æ ‘")]),s._v(" "),t("p",[s._v("ã€B+æ ‘ã€‘æ˜¯ã€B-æ ‘ã€‘çš„å˜ä½“ï¼Œä¹Ÿæ˜¯ä¸€ç§å¤šè·¯æœç´¢æ ‘, å®ƒä¸ B- æ ‘çš„ä¸åŒä¹‹å¤„åœ¨äº:")]),s._v(" "),t("ol",[t("li",[s._v("æ‰€æœ‰å…³é”®å­—å­˜å‚¨åœ¨å¶å­èŠ‚ç‚¹")]),s._v(" "),t("li",[s._v("ä¸ºæ‰€æœ‰å¶å­ç»“ç‚¹å¢åŠ äº†ä¸€ä¸ªåŒå‘æŒ‡é’ˆ")])]),s._v(" "),t("p",[s._v("ç®€åŒ– B+æ ‘ å¦‚ä¸‹å›¾ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220429152436442.1eacd588.png",alt:"image-20220429152436442"}})]),s._v(" "),t("h4",{attrs:{id:"_3ã€é€‰å‹ç¼˜ç”±"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3ã€é€‰å‹ç¼˜ç”±"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_3%E3%80%81%E9%80%89%E5%9E%8B%E7%BC%98%E7%94%B1",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("3ã€é€‰å‹ç¼˜ç”±")]),s._v(" "),t("p",[t("strong",[s._v("é—®é¢˜ä¸€ï¼šä¸ºä»€ä¹ˆåœ¨b-æ ‘æˆ–b+æ ‘ä¸­é€‰æ‹©ï¼Ÿ")])]),s._v(" "),t("ul",[t("li",[s._v("mysqlæ•°æ®æ¨¡å‹æ›´é€‚åˆç”¨è¿™ç±»æ•°æ®ç»“æ„ï¼Œä¸€æ¡æ•°æ®ä¸­é€šå¸¸åŒ…å«ã€idã€‘+ã€å…¶ä»–åˆ—æ•°æ®ã€‘ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆè½»æ¾çš„æ ¹æ®idç»„ç»‡ä¸€é¢—B+æ ‘ã€‚")]),s._v(" "),t("li",[s._v("æˆ‘ä»¬çŸ¥é“innodbä½¿ç”¨ã€é¡µã€‘ï¼ˆè¿™æ˜¯inndbç®¡ç†æ•°æ®çš„æœ€å°å•ä½ï¼‰ä¿å­˜æ•°æ®ï¼Œä¸€é¡µï¼ˆ16kï¼‰ï¼Œb+æ ‘ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ä¸€é¡µæ•°æ®ã€‚")])]),s._v(" "),t("p",[t("strong",[s._v("é—®é¢˜äºŒï¼šä¸ºä»€ä¹ˆé€‰æ‹©B+æ ‘ï¼Ÿ")])]),s._v(" "),t("ul",[t("li",[s._v("ç›¸åŒçš„ç©ºé—´ï¼Œä¸å­˜æ”¾ã€æ•´è¡Œæ•°æ®ã€‘å°±èƒ½å­˜ã€æ›´å¤šçš„idã€‘ï¼Œb+æ ‘èƒ½ä½¿æ¯ä¸ªèŠ‚ç‚¹èƒ½æ£€ç´¢çš„ã€èŒƒå›´æ›´å¤§ã€æ›´ç²¾ç¡®ï¼Œæå¤§çš„å‡å°‘äº†I/Oæ“ä½œï¼Œä¿è¯b+æ ‘çš„å±‚é«˜è¾ƒä½ï¼Œé€šå¸¸3åˆ°4å±‚çš„å±‚é«˜å°±èƒ½æ”¯æŒç™¾ä¸‡çº§åˆ«çš„è®¿é—®ã€‘ã€‚")]),s._v(" "),t("li",[s._v("Mysqlæ˜¯ä¸€ç§å…³ç³»å‹æ•°æ®åº“ï¼Œã€åŒºé—´è®¿é—®ã€‘æ˜¯å¾ˆå¸¸è§çš„ä¸€ç§æƒ…å†µï¼ŒB+æ ‘å¶èŠ‚ç‚¹å¢åŠ çš„åŒå‘æŒ‡é’ˆï¼ŒåŠ å¼ºäº†åŒºé—´è®¿é—®æ€§ï¼Œå¯ä½¿ç”¨åœ¨èŒƒå›´åŒºé—´æŸ¥è¯¢çš„æƒ…å†µã€‚")])]),s._v(" "),t("h4",{attrs:{id:"_4ã€å‘ç°ç´¢å¼•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4ã€å‘ç°ç´¢å¼•"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_4%E3%80%81%E5%8F%91%E7%8E%B0%E7%B4%A2%E5%BC%95",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("4ã€å‘ç°ç´¢å¼•")]),s._v(" "),t("p",[s._v("æˆ‘ä»¬å‘ç°å½“ä½¿ç”¨idå»æŸ¥è¯¢æ•°æ®æ—¶ï¼Œæ•ˆç‡å¾ˆé«˜ï¼Œå› ä¸ºä½¿ç”¨idå¯ä»¥åˆ©ç”¨B+æ ‘çš„ç‰¹æ€§ï¼ŒåŠ é€ŸæŸ¥è¯¢ï¼Œè¯·çœ‹ä»¥ä¸‹ä¸¤æ¡sqlçš„æ‰§è¡Œæ•ˆç‡ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" ydl_user "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("                              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- ä½¿ç”¨æ—¶é—´0.011s")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" ydl_user "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" email "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'m.szi@xwsrnhp.pl'")]),s._v("          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- ä½¿ç”¨æ—¶é—´4.284s")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("æˆ‘ä»¬å‘ç°ï¼ŒæŸ¥è¯¢ç›¸åŒçš„è®°å½•ï¼Œä½¿ç”¨ã€idåˆ—ã€‘æ¯”ä½¿ç”¨ã€emilåˆ—ã€‘å¿«äº†389å€ï¼ŒåŸå› å¦‚ä¸‹ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("ä½¿ç”¨idåˆ—å¯ä»¥åˆ©ç”¨B+æ ‘çš„ç‰¹æ€§ï¼Œç”±ä¸Šè‡ªä¸‹æŸ¥è¯¢ã€‚")]),s._v(" "),t("li",[s._v("ä½¿ç”¨emailåˆ—åªèƒ½ä»å¶å­èŠ‚ç‚¹è¿›è¡Œã€å…¨è¡¨æ‰«æã€‘ï¼Œä¸€ä¸ªä¸€ä¸ªçš„æ¯”è¾ƒã€‚")])]),s._v(" "),t("p",[s._v("é‚£ä¹ˆå¦‚æœæˆ‘æƒ³æå‡ä½¿ç”¨å…¶ä»–å­—æ®µçš„æŸ¥è¯¢æ•ˆç‡ï¼Œåº”è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ")]),s._v(" "),t("p",[s._v("é¦–å…ˆï¼Œæˆ‘ä»¬åº”è¯¥æƒ³åˆ°çš„æ€è·¯å°±æ˜¯ï¼ŒæŒ‰ç…§è¿™ä¸ªé€»è¾‘å†ç»™å…¶ä»–çš„å­—æ®µä¹Ÿåˆ›å»ºä¸€ä¸ªè¿™æ ·çš„ç»“æ„ä¸å°±å¥½äº†ï¼Œå¦‚ä¸‹ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220429114638247.8094d895.png",alt:"image-20220429114638247"}})]),s._v(" "),t("p",[s._v("ä½†æ˜¯æˆ‘ä»¬ä¼šå‘ç°ï¼Œå¦‚æœæˆ‘ä»¬ä¸æ–­çš„åˆ›å»ºç±»ä¼¼çš„ç»“æ„ï¼Œæ•°æ®ä¼šä¿å­˜å¾ˆå¤šæ¬¡ï¼Œ1ä¸ªGçš„æ•°æ®å¯ä»¥è†¨èƒ€ä¸º5Gç”šè‡³10Gï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿›è¡Œä¼˜åŒ–ï¼Œåœ¨å¶å­èŠ‚ç‚¹ä¸­åªã€ä¿å­˜idã€‘è€Œä¸ä¿å­˜å…¨éƒ¨æ•°æ®ï¼ŒæŸ¥åˆ°idåå†ã€å›è¡¨ã€‘ï¼ˆå›åˆ°åŸæ¥çš„ç»“æ„ä¸­æ ¹æ®idè¿›è¡ŒæŸ¥è¯¢ï¼‰æŸ¥è¯¢æ•´æ¡è®°å½•ï¼Œå…¶ç»“æ„å¦‚ä¸‹ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220429114616461.2471a114.png",alt:"image-20220429114616461"}})]),s._v(" "),t("p",[s._v("å…¶å®è¿™å°±æ˜¯æˆ‘ä»¬æ—¥å¸¸å·¥ä½œä¸­ç»å¸¸åˆ›å»ºçš„ã€ç´¢å¼•ã€‘ã€‚")]),s._v(" "),t("h3",{attrs:{id:"äºŒã€ç´¢å¼•çš„åˆ†ç±»å’Œåˆ›å»º"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€ç´¢å¼•çš„åˆ†ç±»å’Œåˆ›å»º"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#%E4%BA%8C%E3%80%81%E7%B4%A2%E5%BC%95%E7%9A%84%E5%88%86%E7%B1%BB%E5%92%8C%E5%88%9B%E5%BB%BA",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("äºŒã€ç´¢å¼•çš„åˆ†ç±»å’Œåˆ›å»º")]),s._v(" "),t("h4",{attrs:{id:"_1ã€èšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€èšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_1%E3%80%81%E8%81%9A%E7%B0%87%E7%B4%A2%E5%BC%95%E5%92%8C%E9%9D%9E%E8%81%9A%E7%B0%87%E7%B4%A2%E5%BC%95",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("1ã€èšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•")]),s._v(" "),t("p",[s._v("æˆ‘ä»¬åœ¨ä¸Šè¾¹çš„ä¾‹å­ä¸­ï¼Œã€ä¸»é”®å’Œæ•°æ®ã€‘å…±å­˜çš„ç´¢å¼•è¢«ç§°ä¹‹ä¸ºã€èšç°‡ç´¢å¼•ã€‘ï¼Œå…¶ä»–çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬ä½¿ç”¨ã€å§“ååˆ—+ä¸»é”®ã€‘å»ºç«‹çš„ç´¢å¼•ï¼Œå¯ä»¥ç§°ä¸ºã€éèšç°‡ç´¢å¼•ã€‘ï¼Œæˆ–è€…ã€è¾…åŠ©ç´¢å¼•ã€‘ï¼Œæˆ–è€…ã€äºŒçº§ç´¢å¼•ã€‘ï¼ŒåŒæ—¶èšç°‡ç´¢å¼•åªæœ‰åœ¨innodbå¼•æ“ä¸­æ‰å­˜åœ¨ï¼Œè€Œåœ¨myIsamä¸­æ˜¯ä¸å­˜åœ¨çš„ï¼Œå¦‚ä¸‹å›¾ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220513141318848.e4599efe.png",alt:"image-20220513141318848"}})]),s._v(" "),t("p",[s._v("InnoDBä½¿ç”¨çš„æ˜¯ã€èšç°‡ç´¢å¼•ã€‘ï¼Œä»–ä¼šå°†ã€ä¸»é”®ã€‘ç»„ç»‡åˆ°ä¸€æ£µB+æ ‘ä¸­ï¼Œè€Œã€è¡Œæ•°æ®ã€‘å°±å‚¨å­˜åœ¨å¶å­èŠ‚ç‚¹ä¸Šï¼Œè‹¥ä½¿ç”¨"),t("code",[s._v("where id = 14")]),s._v("è¿™æ ·çš„æ¡ä»¶æŸ¥æ‰¾ä¸»é”®ï¼Œåˆ™æŒ‰ç…§B+æ ‘çš„æ£€ç´¢ç®—æ³•å³å¯æŸ¥æ‰¾åˆ°å¯¹åº”çš„å¶èŠ‚ç‚¹ï¼Œä¹‹åè·å¾—è¡Œæ•°æ®ã€‚")]),s._v(" "),t("p",[s._v("è‹¥å¯¹Nameåˆ—è¿›è¡Œæ¡ä»¶æœç´¢ï¼Œä¸”nameåˆ—å·²å»ºç«‹ã€ç´¢å¼•ã€‘ï¼Œåˆ™éœ€è¦ä¸¤ä¸ªæ­¥éª¤ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("ç¬¬ä¸€æ­¥åœ¨è¾…åŠ©ç´¢å¼•B+æ ‘ä¸­æ£€ç´¢Nameï¼Œåˆ°è¾¾å…¶å¶å­èŠ‚ç‚¹è·å–å¯¹åº”çš„ä¸»é”®ã€‚")]),s._v(" "),t("li",[s._v("ç¬¬äºŒæ­¥ä½¿ç”¨ä¸»é”®åœ¨ä¸»ç´¢å¼•B+æ ‘ç§å†æ‰§è¡Œä¸€æ¬¡B+æ ‘æ£€ç´¢æ“ä½œï¼Œæœ€ç»ˆåˆ°è¾¾å¶å­èŠ‚ç‚¹å³å¯è·å–æ•´è¡Œæ•°æ®ã€‚ï¼ˆé‡ç‚¹åœ¨äºé€šè¿‡å…¶ä»–é”®éœ€è¦å»ºç«‹è¾…åŠ©ç´¢å¼•ï¼‰")])]),s._v(" "),t("p",[s._v("å¦‚ä¸‹å›¾ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220429171436220.e060a1c3.png",alt:"image-20220429171436220"}})]),s._v(" "),t("p",[s._v("MyIsamä½¿ç”¨çš„æ˜¯ã€éèšç°‡ç´¢å¼•ã€‘ï¼Œéèšç°‡ç´¢å¼•çš„ä¸¤æ£µB+æ ‘çœ‹ä¸Šå»æ²¡ä»€ä¹ˆä¸åŒï¼ŒèŠ‚ç‚¹çš„ç»“æ„å®Œå…¨ä¸€è‡´åªæ˜¯å­˜å‚¨çš„å†…å®¹ä¸åŒè€Œå·²ï¼Œä¸»é”®ç´¢å¼•B+æ ‘çš„èŠ‚ç‚¹å­˜å‚¨äº†ä¸»é”®ï¼Œè¾…åŠ©é”®ç´¢å¼•B+æ ‘å­˜å‚¨äº†è¾…åŠ©åˆ—ã€‚è¡¨æ•°æ®å­˜å‚¨åœ¨ç‹¬ç«‹çš„åœ°æ–¹ï¼Œè¿™ä¸¤é¢—B+æ ‘çš„å¶å­èŠ‚ç‚¹éƒ½ä½¿ç”¨ä¸€ä¸ªã€åœ°å€æŒ‡å‘çœŸæ­£çš„è¡¨æ•°æ®ã€‘ï¼Œå¯¹äºè¡¨æ•°æ®æ¥è¯´ï¼Œè¿™ä¸¤ä¸ªé”®æ²¡æœ‰ä»»ä½•å·®åˆ«ã€‚ç”±äºç´¢å¼•æ ‘æ˜¯ç‹¬ç«‹çš„ï¼Œé€šè¿‡è¾…åŠ©é”®æ£€ç´¢æ— éœ€è®¿é—®ä¸»é”®çš„ç´¢å¼•æ ‘ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("tipsï¼š")])]),s._v(" "),t("ul",[t("li",[s._v("èšç°‡ç´¢å¼•ã€é»˜è®¤ä½¿ç”¨ä¸»é”®ã€‘ï¼Œå¦‚æœè¡¨ä¸­æ²¡æœ‰å®šä¹‰ä¸»é”®ï¼ŒInnoDB ä¼šé€‰æ‹©ä¸€ä¸ªã€å”¯ä¸€ä¸”éç©ºã€‘çš„åˆ—ä»£æ›¿ã€‚å¦‚æœæ²¡æœ‰è¿™æ ·çš„åˆ—ï¼ŒInnoDB ä¼šéšå¼å®šä¹‰ä¸€ä¸ªä¸»é”®ã€ç±»ä¼¼oracleä¸­çš„RowIdã€‘rowidæ¥ä½œä¸ºèšç°‡ç´¢å¼•çš„åˆ—ã€‚")]),s._v(" "),t("li",[s._v("å¦‚æœæ¶‰åŠåˆ°å¤§æ•°æ®é‡çš„æ’åºã€å…¨è¡¨æ‰«æã€countä¹‹ç±»çš„æ“ä½œçš„è¯ï¼Œè¿˜æ˜¯MyIsamå ä¼˜åŠ¿äº›ï¼Œå› ä¸ºç´¢å¼•æ‰€å ç©ºé—´å°ï¼Œè¿™äº›æ“ä½œæ˜¯éœ€è¦åœ¨å†…å­˜ä¸­å®Œæˆçš„ã€‚")])]),s._v(" "),t("p",[t("strong",[s._v("å°é—®é¢˜ï¼šä¸»é”®ä¸ºä»€ä¹ˆå»ºè®®ä½¿ç”¨è‡ªå¢id?")])]),s._v(" "),t("ul",[t("li",[s._v("ä¸»é”®æœ€å¥½ä¸è¦ä½¿ç”¨uuidï¼Œå› ä¸ºuuidçš„å€¼å¤ªè¿‡ç¦»æ•£ï¼Œä¸é€‚åˆæ’åºä¸”å¯èƒ½å‡ºç°æ–°å¢åŠ è®°å½•çš„uuidï¼Œä¼šæ’å…¥åœ¨ç´¢å¼•æ ‘ä¸­é—´çš„ä½ç½®ï¼Œå‡ºç°é¡µåˆ†è£‚ï¼Œå¯¼è‡´ç´¢å¼•æ ‘è°ƒæ•´å¤æ‚åº¦å˜å¤§ï¼Œæ¶ˆè€—æ›´å¤šçš„æ—¶é—´å’Œèµ„æºã€‚")]),s._v(" "),t("li",[s._v("èšç°‡ç´¢å¼•çš„æ•°æ®çš„ç‰©ç†å­˜æ”¾é¡ºåºä¸ç´¢å¼•é¡ºåºæ˜¯ä¸€è‡´çš„ï¼Œå³ï¼šåªè¦ç´¢å¼•æ˜¯ç›¸é‚»çš„ï¼Œé‚£ä¹ˆå¯¹åº”çš„æ•°æ®ä¸€å®šä¹Ÿæ˜¯ç›¸é‚»åœ°å­˜æ”¾åœ¨ç£ç›˜ä¸Šçš„ã€‚å¦‚æœä¸»é”®ä¸æ˜¯è‡ªå¢idï¼Œå®ƒä¼šä¸æ–­åœ°è°ƒæ•´æ•°æ®çš„ç‰©ç†åœ°å€ã€åˆ†é¡µï¼Œå½“ç„¶ä¹Ÿæœ‰å…¶ä»–ä¸€äº›æªæ–½æ¥å‡å°‘è¿™äº›æ“ä½œï¼Œä½†å´æ— æ³•å½»åº•é¿å…ã€‚ä½†å¦‚æœæ˜¯è‡ªå¢çš„idï¼Œå®ƒåªéœ€è¦ä¸€ é¡µä¸€é¡µåœ°å†™ï¼Œç´¢å¼•ç»“æ„ç›¸å¯¹ç´§å‡‘ï¼Œç£ç›˜ç¢ç‰‡å°‘ï¼Œæ•ˆç‡ä¹Ÿé«˜ã€‚")])]),s._v(" "),t("p",[s._v("æœ¬ç« èŠ‚ä¸­è®²è¿°äº†èšç°‡ç´¢å¼•å’ŒäºŒçº§é”®ç´¢å¼•ï¼Œå¯¹äºã€äºŒçº§ç´¢å¼•ã€‘è€Œè¨€ï¼Œæ ¹æ®å…¶ä¸åŒçš„ç‰¹æ€§ï¼Œæˆ‘ä»¬åˆå¯ä»¥åˆ†ä¸ºæ™®é€šç´¢å¼•ã€å”¯ä¸€ç´¢å¼•ã€å¤åˆç´¢å¼•ç­‰ï¼Œæ¥ä¸‹æ¥ä¼šä¸€ä¸€è®²è§£ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_2ã€æ™®é€šç´¢å¼•-å¸¸è§„ç´¢å¼•-normal"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€æ™®é€šç´¢å¼•-å¸¸è§„ç´¢å¼•-normal"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_2%E3%80%81%E6%99%AE%E9%80%9A%E7%B4%A2%E5%BC%95-%E5%B8%B8%E8%A7%84%E7%B4%A2%E5%BC%95-normal",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("2ã€æ™®é€šç´¢å¼• ï¼ˆå¸¸è§„ç´¢å¼•ï¼‰(normal)")]),s._v(" "),t("p",[s._v("å°±æ˜¯æ™®æ™®é€šé€šçš„ç´¢å¼•ï¼Œæ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šè¦æ±‚ï¼Œç†è®ºä¸Šä»»ä½•åˆ—éƒ½å¯ä»¥å½“åšæ™®é€šç´¢å¼•ï¼Œåˆ›å»ºæ–¹å¼å¦‚ä¸‹ï¼š")]),s._v(" "),t("p",[s._v("**ç¬¬ä¸€æ­¥ï¼š**åˆ›å»ºç´¢å¼•å‰å…ˆæ‰§è¡Œä¸‹åˆ—è¯­å¥ï¼Œè§‚å¯Ÿæ‰§è¡Œæ—¶é—´ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" user_name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Dorothy William Harris'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- æ•´ä¸ªæ‰§è¡Œæ—¶é—´ä¸º4.297s")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("ç¬¬äºŒæ­¥ï¼šåˆ›å»ºuser_nameåˆ—çš„ç´¢å¼•ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),s._v(" idx_user_name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("user_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- æ•´ä¸ªç´¢å¼•åˆ›å»ºæ—¶é—´ä¸º24.502s")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("**ç»“è®ºï¼š**åˆ›å»ºç´¢å¼•æ˜¯ä¸€ä¸ªå¾ˆè´¹æ—¶é—´çš„æ“ä½œã€‚")]),s._v(" "),t("p",[s._v("**ç¬¬ä¸‰æ­¥ï¼š**å†æ¬¡æ‰§è¡Œä¸‹åˆ—è¯­å¥")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" ydl_user "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" user_name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Dorothy William Harris'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- æ‰§è¡Œæ—¶é—´0.031s")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("**ç»“è®ºï¼š**åˆ›å»ºç´¢å¼•åï¼Œæˆ‘ä»¬çš„æ‰§è¡Œæ•ˆç‡æå‡äº†138å€ã€‚")]),s._v(" "),t("p",[s._v("**ç¬¬å››éƒ¨ï¼š**åˆ é™¤ç´¢å¼•")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),s._v(" idx_user_name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" ydl_user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("å…¶ä»–åˆ›å»ºç´¢å¼•çš„æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š")]),s._v(" "),t("p",[s._v("ï¼ˆ1ï¼‰åˆ›å»ºemailåˆ—çš„ç´¢å¼•ï¼Œç´¢å¼•å¯ä»¥æˆªå–lengthé•¿åº¦ï¼Œåªä½¿ç”¨è¿™ä¸€åˆ—çš„å‰å‡ ä¸ªå­—ç¬¦")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),s._v(" idx_email "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("email"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--æ‰§è¡Œæ—¶é—´16.174s")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("strong",[s._v("é‡ç‚¹ï¼š")])]),s._v(" "),t("p",[s._v("æœ‰çš„åˆ—ã€æ•°æ®é‡æ¯”è¾ƒå¤§ã€‘ï¼Œä½¿ç”¨å‰å‡ ä¸ªå­—ç¬¦å°±èƒ½ã€å¾ˆå¿«æ ‡è¯†ã€‘å‡ºæ¥ä¸€è¡Œæ•°æ®ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼å»ºç«‹ç´¢å¼•ï¼Œæ¯”å¦‚æˆ‘ä»¬çš„é‚®ç®±ï¼Œé‚®ç®±å¾ˆå¤šåç¼€æ˜¯ç›¸åŒçš„æˆ‘ä»¬å®Œå…¨å¯ä»¥å¿½ç•¥ã€‚")]),s._v(" "),t("p",[s._v("ï¼ˆ2ï¼‰ä½¿ç”¨ä¿®æ”¹è¡¨çš„æ–¹å¼æ·»åŠ ç´¢å¼•")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("alter")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),s._v(" idx_email "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("email"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("ï¼ˆ3ï¼‰å»ºè¡¨æ—¶æ—¶ï¼ŒåŒæ—¶åˆ›å»ºç´¢å¼•")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" tbl_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    tid "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    tname "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    gender "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("indexName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fieldName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("length"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h4",{attrs:{id:"_3ã€å”¯ä¸€ç´¢å¼•-unique"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3ã€å”¯ä¸€ç´¢å¼•-unique"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_3%E3%80%81%E5%94%AF%E4%B8%80%E7%B4%A2%E5%BC%95-unique",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("3ã€å”¯ä¸€ç´¢å¼•ï¼ˆUNIQUE ï¼‰")]),s._v(" "),t("p",[s._v("å¯¹åˆ—çš„è¦æ±‚ï¼šç´¢å¼•åˆ—çš„å€¼ä¸èƒ½é‡å¤")]),s._v(" "),t("p",[s._v("åˆ›å»ºè¡¨çš„åŒæ—¶ï¼Œåˆ›å»ºç´¢å¼•ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" tbl_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    tid "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    tname "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    gender "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("unique")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),s._v(" unique_index_tname "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("tname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("ç‹¬ç«‹çš„sqlè¯­å¥åˆ›å»ºç´¢å¼•ï¼Œæˆ‘ä»¬çš„é‚®ç®±ï¼Œç”¨æˆ·åå°±åº”è¯¥åˆ›å»ºå”¯ä¸€ç´¢å¼•ï¼Œå§“åå°±åº”è¯¥æ˜¯æ™®é€šç´¢å¼•ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("unique")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),s._v(" idx_email "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("email"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("é€šè¿‡alterè¯­å¥æ·»åŠ ç´¢å¼•ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" mytable "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ADD")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNIQUE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ux_indexName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("username"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("length"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("å”¯ä¸€ç´¢å¼•å’Œä¸»é”®çš„åŒºåˆ«ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("å”¯ä¸€ç´¢å¼•åˆ—å…è®¸ç©ºå€¼ï¼Œè€Œä¸»é”®åˆ—ä¸å…è®¸ä¸ºç©ºå€¼ã€‚")]),s._v(" "),t("li",[s._v("ä¸»é”®åˆ—åœ¨åˆ›å»ºæ—¶ï¼Œå·²ç»é»˜è®¤ä¸ºéç©ºå€¼ + å”¯ä¸€ç´¢å¼•äº†ã€‚")]),s._v(" "),t("li",[s._v("ä¸»é”®å¯ä»¥è¢«å…¶ä»–è¡¨å¼•ç”¨ä¸ºå¤–é”®ï¼Œè€Œå”¯ä¸€ç´¢å¼•ä¸èƒ½ã€‚")]),s._v(" "),t("li",[s._v("ä¸€ä¸ªè¡¨æœ€å¤šåªèƒ½åˆ›å»ºä¸€ä¸ªä¸»é”®ï¼Œä½†å¯ä»¥åˆ›å»ºå¤šä¸ªå”¯ä¸€ç´¢å¼•ã€‚")]),s._v(" "),t("li",[s._v("ä¸»é”®æ›´é€‚åˆé‚£äº›ä¸å®¹æ˜“æ›´æ”¹çš„å”¯ä¸€æ ‡è¯†ï¼Œå¦‚è‡ªåŠ¨é€’å¢åˆ—ã€èº«ä»½è¯å·ç­‰ã€‚")])]),s._v(" "),t("p",[s._v("å”¯ä¸€çº¦æŸå’Œå”¯ä¸€ç´¢å¼•çš„åŒºåˆ«ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("å”¯ä¸€çº¦æŸå’Œå”¯ä¸€ç´¢å¼•ï¼Œéƒ½å¯ä»¥å®ç°åˆ—æ•°æ®çš„å”¯ä¸€ï¼Œåˆ—å€¼å¯ä»¥ä¸ºnullã€‚")]),s._v(" "),t("li",[s._v("åˆ›å»ºå”¯ä¸€çº¦æŸï¼Œä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªåŒåçš„å”¯ä¸€ç´¢å¼•ï¼Œè¯¥ç´¢å¼•ä¸èƒ½å•ç‹¬åˆ é™¤ï¼Œåˆ é™¤çº¦æŸä¼šè‡ªåŠ¨åˆ é™¤ç´¢å¼•ã€‚å”¯ä¸€çº¦æŸæ˜¯é€šè¿‡å”¯ä¸€ç´¢å¼•æ¥å®ç°æ•°æ®å”¯ä¸€ã€‚")]),s._v(" "),t("li",[s._v("åˆ›å»ºä¸€ä¸ªå”¯ä¸€ç´¢å¼•ï¼Œè¿™ä¸ªç´¢å¼•å°±æ˜¯ç‹¬ç«‹çš„ç´¢å¼•ï¼Œå¯ä»¥å•ç‹¬åˆ é™¤ã€‚")]),s._v(" "),t("li",[s._v("å¦‚æœä¸€ä¸ªåˆ—ä¸Šæƒ³æœ‰çº¦æŸå’Œç´¢å¼•ï¼Œä¸”ä¸¤è€…å¯ä»¥å•ç‹¬çš„åˆ é™¤ã€‚å¯ä»¥å…ˆå»ºå”¯ä¸€ç´¢å¼•ï¼Œå†å»ºåŒåçš„å”¯ä¸€çº¦æŸã€‚")])]),s._v(" "),t("h4",{attrs:{id:"_4ã€å¤šä¸ªäºŒçº§ç´¢å¼•çš„ç»„åˆä½¿ç”¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4ã€å¤šä¸ªäºŒçº§ç´¢å¼•çš„ç»„åˆä½¿ç”¨"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_4%E3%80%81%E5%A4%9A%E4%B8%AA%E4%BA%8C%E7%BA%A7%E7%B4%A2%E5%BC%95%E7%9A%84%E7%BB%84%E5%90%88%E4%BD%BF%E7%94%A8",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("4ã€å¤šä¸ªäºŒçº§ç´¢å¼•çš„ç»„åˆä½¿ç”¨")]),s._v(" "),t("p",[t("strong",[s._v("è®°ä½ä¸€ç‚¹")]),s._v("ï¼šmysqlåœ¨æ‰§è¡ŒæŸ¥è¯¢è¯­å¥çš„æ—¶å€™ä¸€èˆ¬åªä¼šä½¿ç”¨ã€ä¸€ä¸ªç´¢å¼•ã€‘ï¼Œé™¤éæ˜¯ä½¿ã€ç”¨orè¿æ¥çš„ä¸¤ä¸ªç´¢å¼•åˆ—ã€‘ä¼šäº§ç”Ÿç´¢å¼•åˆå¹¶ã€‚")]),s._v(" "),t("p",[s._v("æˆ‘ä»¬é’ˆå¯¹æŸç”µå•†å¹³å°çš„æ£€ç´¢åŠŸèƒ½åšäº†ä¼˜åŒ–ï¼Œæ·»åŠ äº†ä¸‰ä¸ªç´¢å¼•ï¼Œä¸‰ä¸ªå­—æ®µåˆ†åˆ«ä¸ºã€å“ç‰Œã€‘ã€ã€ä»·æ ¼ã€‘ã€ã€é”€é‡ã€‘è¿™ä¸‰ä¸ªçš„ç´¢å¼•ç»“æ„å¦‚ä¸‹:")]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ1ï¼‰å“ç‰Œçš„ç´¢å¼•ç»“æ„ï¼š")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220517162932935.819a308c.png",alt:"image-20220517162932935"}})]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ2ï¼‰ä»·æ ¼çš„ç´¢å¼•ç»“æ„ï¼š")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220516145308003.e5328734.png",alt:"image-20220516145308003"}})]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ3ï¼‰é”€é‡çš„ç´¢å¼•ç»“æ„ï¼š")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220516145354413.ca508ef0.png",alt:"image-20220516145354413"}})]),s._v(" "),t("p",[s._v("é’ˆå¯¹ä»¥ä¸Šçš„ç´¢å¼•æˆ‘ä»¬è¿›è¡Œå¦‚ä¸‹çš„æŸ¥è¯¢ï¼Œåˆ†ææ£€ç´¢è¿‡ç¨‹ï¼š")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("æˆ‘ä»¬è¦æ£€ç´¢å“ç‰Œä¸ºé˜¿ç›å°¼ï¼ˆArmaniï¼‰çš„åŒ…åŒ…")]),s._v(" "),t("p",[s._v("**ç¬¬ä¸€æ­¥ï¼š**é€šè¿‡ã€å“ç‰Œç´¢å¼•ã€‘æ£€ç´¢å‡ºæ‰€æœ‰é˜¿ç›å°¼çš„å•†å“idï¼Œå›è¡¨æŸ¥è¯¢ï¼Œå¾—åˆ°ç»“æœã€‚")]),s._v(" "),t("p",[s._v("**ç»“è®ºï¼š**ä¼šä½¿ç”¨ä¸€ä¸ªç´¢å¼•ã€‚")])]),s._v(" "),t("li",[t("p",[s._v("æˆ‘ä»¬è¦æ£€ç´¢åç§°ä¸ºé˜¿ç›å°¼ï¼ˆArmaniï¼‰ï¼Œä»·æ ¼åœ¨1ä¸‡åˆ°3ä¸‡ä¹‹é—´çš„åŒ…åŒ…")]),s._v(" "),t("p",[s._v("æŸ¥è¯¢çš„æ­¥éª¤å¦‚ä¸‹ï¼š")]),s._v(" "),t("p",[s._v("**ç¬¬ä¸€æ­¥ï¼š**é€šè¿‡ã€å“ç‰Œç´¢å¼•ã€‘æ£€ç´¢å‡ºæ‰€æœ‰é˜¿ç›å°¼çš„å•†å“idã€‚")]),s._v(" "),t("p",[s._v("**ç¬¬äºŒæ­¥ï¼š**ç›´æ¥å›è¡¨æ‰«æï¼Œæ ¹æ®å‰©ä½™æ¡ä»¶æ£€ç´¢ç»“æœã€‚")]),s._v(" "),t("p",[s._v("**ç»“è®ºï¼š**åªä¼šä½¿ç”¨ç¬¬ä¸€ä¸ªç´¢å¼•ã€‚")])]),s._v(" "),t("li",[t("p",[s._v("æˆ‘ä»¬è¦æ£€ç´¢åç§°ä¸ºé˜¿ç›å°¼ï¼ˆArmaniï¼‰ï¼Œä»·æ ¼ä¸º26800ï¼Œä¸”é”€é‡åœ¨50ä»¥ä¸Šçš„åŒ…åŒ…")]),s._v(" "),t("p",[s._v("æŸ¥è¯¢çš„æ­¥éª¤å¦‚ä¸‹ï¼š")]),s._v(" "),t("p",[s._v("**ç¬¬ä¸€æ­¥ï¼š**é€šè¿‡ã€å“ç‰Œç´¢å¼•ã€‘æ£€ç´¢å‡ºæ‰€æœ‰é˜¿ç›å°¼çš„å•†å“idï¼Œè¿›è¡Œç¼“å­˜ã€‚")]),s._v(" "),t("p",[s._v("**ç¬¬äºŒæ­¥ï¼š**ç›´æ¥å›è¡¨æ‰«æï¼Œæ ¹æ®å‰©ä½™æ¡ä»¶æ£€ç´¢ç»“æœã€‚")]),s._v(" "),t("p",[s._v("**ç»“è®ºï¼š**åªä¼šä½¿ç”¨ç¬¬ä¸€ä¸ªç´¢å¼•ã€‚")])]),s._v(" "),t("li",[t("p",[s._v("æˆ‘ä»¬è¦æ£€ç´¢åç§°ä¸ºé˜¿ç›å°¼ï¼ˆArmaniï¼‰æˆ–åç§°ä¸ºLVçš„åŒ…åŒ…")]),s._v(" "),t("p",[s._v("**ç¬¬ä¸€æ­¥ï¼š**é€šè¿‡ã€å“ç‰Œç´¢å¼•ã€‘æ£€ç´¢å‡ºæ‰€æœ‰é˜¿ç›å°¼çš„å•†å“idï¼Œå¾—åˆ°ç»“æœã€‚")]),s._v(" "),t("p",[s._v("**ç»“è®ºï¼š**æˆ‘ä»¬ç»å¸¸å¬è¯´ï¼Œæœ‰orç´¢å¼•ä¼šå¤±æ•ˆï¼Œä½†æ˜¯åƒè¿™æ ·çš„ã€type =â€˜Armaniâ€™ or type = â€˜LVâ€™ã€‘å¹¶ä¸ä¼šï¼Œä»–ç›¸å½“äºä¸€ä¸ªinå…³é”®å­—ï¼Œä¼šä½¿ç”¨ä¸€ä¸ªç´¢å¼•ã€‚")])]),s._v(" "),t("li",[t("p",[s._v("æˆ‘ä»¬è¦æ£€ç´¢åç§°ä¸ºé˜¿ç›å°¼ï¼ˆArmaniï¼‰æˆ–ä»·æ ¼å¤§äº8000çš„åŒ…åŒ…")]),s._v(" "),t("p",[s._v("**ç¬¬ä¸€æ­¥ï¼š**é€šè¿‡ã€å“ç‰Œç´¢å¼•ã€‘æ£€ç´¢å‡ºæ‰€æœ‰é˜¿ç›å°¼çš„å•†å“idï¼Œè¿›è¡Œç¼“å­˜ã€‚")]),s._v(" "),t("p",[s._v("**ç¬¬äºŒæ­¥ï¼š**é€šè¿‡ã€ä»·æ ¼ç´¢å¼•ã€‘æ£€ç´¢å‡ºä»·æ ¼åœ¨5ä¸‡åˆ°7ä¸‡ä¹‹é—´çš„å•†å“idï¼Œè¿™æ˜¯ä¸€ä¸ªè¿æ¥æ¡ä»¶å¸¦æœ‰ã€orçš„æŸ¥è¯¢ã€‘ï¼Œæ‰€ä»¥éœ€è¦å’Œä¸Šä¸€æ­¥çš„ç»“æœè¿›è¡Œã€å¹¶é›†ã€‘ï¼Œå¾—åˆ°ç»“æœã€‚")]),s._v(" "),t("p",[s._v("**ç»“è®ºï¼š**è¿™ä¸ªè¿‡ç¨‹å«ã€ç´¢å¼•åˆå¹¶ã€‘å½“æ£€ç´¢æ¡ä»¶æœ‰orä½†æ˜¯æ‰€æœ‰çš„æ¡ä»¶éƒ½æœ‰ç´¢å¼•æ—¶ï¼Œç´¢å¼•ä¸å¤±æ•ˆï¼Œå¯ä»¥èµ°ã€ä¸¤ä¸ªç´¢å¼•ã€‘ã€‚")])]),s._v(" "),t("li",[t("p",[s._v("æˆ‘ä»¬è¦æ£€ç´¢åç§°ä¸ºé˜¿ç›å°¼ï¼ˆArmaniï¼‰ï¼Œä¸”ä»·æ ¼å¤§äº8000ï¼Œä¸”ã€äº§åœ°ï¼ˆè¯¥åˆ—æ— ç´¢å¼•ï¼‰ã€‘åœ¨åŒ—äº¬çš„åŒ…åŒ…")]),s._v(" "),t("p",[s._v("**ç¬¬ä¸€æ­¥ï¼š**é€šè¿‡ã€å“ç‰Œç´¢å¼•ã€‘æ£€ç´¢å‡ºæ‰€æœ‰é˜¿ç›å°¼çš„å•†å“idã€‚")]),s._v(" "),t("p",[s._v("**ç¬¬äºŒæ­¥ï¼š**ç›´æ¥å›è¡¨æ‰«æï¼Œæ ¹æ®å‰©ä½™æ¡ä»¶æ£€ç´¢ç»“æœã€‚")]),s._v(" "),t("p",[s._v("**ç»“è®ºï¼š**åªä¼šä½¿ç”¨ç¬¬ä¸€ä¸ªç´¢å¼•ã€‚")])]),s._v(" "),t("li",[t("p",[s._v("æˆ‘ä»¬è¦æ£€ç´¢åç§°ä¸ºé˜¿ç›å°¼ï¼ˆArmaniï¼‰æˆ–ä»·æ ¼å¤§äº8000ï¼Œæˆ–ã€äº§åœ°ï¼ˆè¯¥åˆ—æ— ç´¢å¼•ï¼‰ã€‘åœ¨åŒ—äº¬çš„åŒ…åŒ…")]),s._v(" "),t("p",[s._v("**ç¬¬ä¸€æ­¥ï¼š**ä¼˜åŒ–å™¨å‘ç°ã€äº§åœ°åˆ—ã€‘æ— ç´¢å¼•ï¼ŒåŒæ—¶è¿æ¥çš„é€»è¾‘æ˜¯ã€orã€‘æ²¡æœ‰åŠæ³•åˆ©ç”¨ã€ç´¢å¼•ã€‘ä¼˜åŒ–ï¼Œåªèƒ½å…¨è¡¨æ‰«æï¼Œç´¢å¼•å¤±æ•ˆã€‚")]),s._v(" "),t("p",[s._v("**ç»“è®ºï¼š**å‘ç”Ÿå…¨è¡¨æ‰«æï¼Œç´¢å¼•å¤±æ•ˆï¼Œæ¡ä»¶ä¸­æœ‰æ²¡å»ºç«‹ç´¢å¼•çš„åˆ—ï¼ŒåŒæ—¶å…³è”æ¡ä»¶æ˜¯orã€‚")])])]),s._v(" "),t("h4",{attrs:{id:"_5ã€å¤åˆç´¢å¼•-è”åˆç´¢å¼•-é‡è¦"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5ã€å¤åˆç´¢å¼•-è”åˆç´¢å¼•-é‡è¦"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_5%E3%80%81%E5%A4%8D%E5%90%88%E7%B4%A2%E5%BC%95-%E8%81%94%E5%90%88%E7%B4%A2%E5%BC%95-%E9%87%8D%E8%A6%81",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("5ã€å¤åˆç´¢å¼•ï¼ˆè”åˆç´¢å¼•ï¼‰é‡è¦")]),s._v(" "),t("p",[s._v("å½“ã€æŸ¥è¯¢è¯­å¥ã€‘ä¸­åŒ…å«ã€å¤šä¸ªæŸ¥è¯¢æ¡ä»¶ï¼Œä¸”æŸ¥è¯¢çš„é¡ºåºåŸºæœ¬ä¿æŒä¸€è‡´ã€‘æ—¶ï¼Œæˆ‘ä»¬æ¨èä½¿ç”¨å¤åˆç´¢å¼•ï¼Œç´¢å¼•çš„ã€ç»„åˆä½¿ç”¨ã€‘æ•ˆç‡æ˜¯ä½äºã€å¤åˆç´¢å¼•ã€‘çš„ã€‚")]),s._v(" "),t("p",[s._v("æ¯”å¦‚ï¼šæˆ‘ä»¬ç»å¸¸æŒ‰ç…§Aåˆ—ã€Båˆ—ã€Cåˆ—è¿›è¡ŒæŸ¥è¯¢æ—¶ï¼Œé€šå¸¸çš„åšæ³•æ˜¯å»ºç«‹ä¸€ä¸ªç”±ä¸‰ä¸ªåˆ—å…±åŒç»„æˆçš„ã€å¤åˆç´¢å¼•ã€‘è€Œä¸æ˜¯å¯¹æ¯ä¸€ä¸ªåˆ—å»ºç«‹ã€æ™®é€šç´¢å¼•ã€‘ã€‚")]),s._v(" "),t("p",[s._v("åˆ›å»ºè”åˆç´¢å¼•çš„æ–¹å¼å¦‚ä¸‹ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v("alert "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" test "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add")]),s._v(" idx_a1_a2_a3 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("a2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("a3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 28.531s")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),s._v(" idx_user_nick_name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" ydl_user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("user_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("nick_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("email"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("å¤åˆç´¢å¼•çš„ç»“æ„å¦‚ä¸‹ï¼Œå¤åˆç´¢å¼•ä¼šä¼˜å…ˆæŒ‰ç…§ç¬¬ä¸€åˆ—æ’åºï¼Œç¬¬ä¸€åˆ—ç›¸åŒçš„æƒ…å†µä¸‹ä¼šæŒ‰ç…§ç¬¬äºŒåˆ—æ’åºï¼Œä»¥æ­¤ç±»æ¨ï¼Œå¦‚ä¸‹å›¾ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220516130601156.241ed88b.png",alt:"image-20220516130601156"}})]),s._v(" "),t("p",[s._v("æˆ‘ä»¬ä¸å¦¨æŠŠä¸Šè¾¹çš„å›¾ï¼Œè½¬åŒ–ä¸ºä¸‹è¾¹çš„è¡¨æ ¼ï¼Œçœ‹èµ·æ¥ä¼šå¥½ä¸€äº›ï¼š")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("å“ç‰Œ")]),s._v(" "),t("th",[s._v("ä»·æ ¼")]),s._v(" "),t("th",[s._v("é”€é‡")]),s._v(" "),t("th",[s._v("id")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("Armani")]),s._v(" "),t("td",[s._v("16800")]),s._v(" "),t("td",[s._v("35")]),s._v(" "),t("td",[s._v("13,24,76")])]),s._v(" "),t("tr",[t("td",[s._v("Armani")]),s._v(" "),t("td",[s._v("26800")]),s._v(" "),t("td",[s._v("35")]),s._v(" "),t("td",[s._v("12,14,16")])]),s._v(" "),t("tr",[t("td",[s._v("Armani")]),s._v(" "),t("td",[s._v("26800")]),s._v(" "),t("td",[s._v("100")]),s._v(" "),t("td",[s._v("34,56,17")])]),s._v(" "),t("tr",[t("td",[s._v("Armani")]),s._v(" "),t("td",[s._v("68888")]),s._v(" "),t("td",[s._v("15")]),s._v(" "),t("td",[s._v("1,4,5,6,7")])]),s._v(" "),t("tr",[t("td",[s._v("GUCCI")]),s._v(" "),t("td",[s._v("8999")]),s._v(" "),t("td",[s._v("135")]),s._v(" "),t("td",[s._v("78,92")])]),s._v(" "),t("tr",[t("td",[s._v("LV")]),s._v(" "),t("td",[s._v("9999")]),s._v(" "),t("td",[s._v("326")]),s._v(" "),t("td",[s._v("55,63")])]),s._v(" "),t("tr",[t("td",[s._v("LV")]),s._v(" "),t("td",[s._v("12888")]),s._v(" "),t("td",[s._v("99")]),s._v(" "),t("td",[s._v("57,99")])]),s._v(" "),t("tr",[t("td",[s._v("LV")]),s._v(" "),t("td",[s._v("42888")]),s._v(" "),t("td",[s._v("69")]),s._v(" "),t("td",[s._v("11,22")])]),s._v(" "),t("tr",[t("td",[s._v("PRADA")]),s._v(" "),t("td",[s._v("9588")]),s._v(" "),t("td",[s._v("125")]),s._v(" "),t("td",[s._v("111,202")])])])]),s._v(" "),t("p",[s._v("è®¤çœŸé˜…è¯»äº†ä¸Šè¾¹çš„ä»‹ç»å’Œå›¾å½¢ï¼Œæˆ‘ä»¬å†æ¬¡æ€è€ƒä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("æˆ‘ä»¬è¦æ£€ç´¢åç§°ä¸ºé˜¿ç›å°¼ï¼ˆArmaniï¼‰çš„åŒ…åŒ…")]),s._v(" "),t("p",[s._v("**ç¬¬ä¸€æ­¥ï¼š**é€šè¿‡ã€å“ç‰Œç´¢å¼•ã€‘æ£€ç´¢å‡ºæ‰€æœ‰é˜¿ç›å°¼çš„å•†å“idï¼Œå›è¡¨æŸ¥è¯¢ï¼Œå¾—åˆ°ç»“æœã€‚")]),s._v(" "),t("p",[s._v("**ç»“è®ºï¼š**ä¼šä½¿ç”¨ç¬¬ä¸€éƒ¨åˆ†ç´¢å¼•ã€‚")])]),s._v(" "),t("li",[t("p",[s._v("æˆ‘ä»¬è¦æ£€ç´¢åç§°ä¸ºé˜¿ç›å°¼ï¼ˆArmaniï¼‰ï¼Œä»·æ ¼åœ¨1ä¸‡åˆ°3ä¸‡ä¹‹é—´çš„åŒ…åŒ…")]),s._v(" "),t("p",[s._v("æŸ¥è¯¢çš„æ­¥éª¤å¦‚ä¸‹ï¼š")]),s._v(" "),t("p",[s._v("**ç¬¬ä¸€æ­¥ï¼š**é€šè¿‡ã€å“ç‰Œç´¢å¼•ã€‘æ£€ç´¢å‡ºæ‰€æœ‰é˜¿ç›å°¼çš„å¶å­èŠ‚ç‚¹ã€‚")]),s._v(" "),t("p",[s._v("**ç¬¬äºŒæ­¥ï¼š**åœ¨ã€æ»¡è¶³ä¸Šä¸€æ­¥æ¡ä»¶çš„å¶å­èŠ‚ç‚¹ä¸­ã€‘æŸ¥è¯¢ä»·æ ¼åœ¨1ä¸‡åˆ°3ä¸‡ä¹‹é—´çš„åŒ…åŒ…çš„åˆ—ï¼ŒæŸ¥è¯¢å‡ºå¯¹åº”çš„idï¼Œå›è¡¨æŸ¥è¯¢åˆ—æ•°æ®ã€‚")]),s._v(" "),t("p",[s._v("**ç»“è®ºï¼š**ä¼šä½¿ç”¨å¤åˆç´¢å¼•çš„ä¸¤ä¸ªéƒ¨åˆ†ã€‚")])]),s._v(" "),t("li",[t("p",[s._v("æˆ‘ä»¬è¦æ£€ç´¢åç§°ä¸ºé˜¿ç›å°¼ï¼ˆArmaniï¼‰æˆ–ä»·æ ¼å¤§äº8000çš„åŒ…åŒ…")]),s._v(" "),t("p",[s._v("**ç¬¬ä¸€æ­¥ï¼š**ä¼˜åŒ–å™¨å‘ç°æˆ‘ä»¬å¹¶æ²¡æœ‰ä¸€ä¸ªã€ä»·æ ¼åˆ—ã€‘çš„å•ç‹¬çš„äºŒçº§ç´¢å¼•ï¼Œæ­¤æ—¶è¦æŸ¥è¯¢ä»·æ ¼å¤§äº8000çš„åŒ…ï¼Œå¿…é¡»è¿›è¡Œå…¨è¡¨æ‰«æã€‚")]),s._v(" "),t("p",[s._v("**ç»“è®ºï¼š**ä½†å‡¡æŸ¥è¯¢çš„æ¡ä»¶ä¸­æ²¡æœ‰ã€å¤åˆç´¢å¼•çš„ç¬¬ä¸€éƒ¨åˆ†ã€‘ï¼Œç´¢å¼•ç›´æ¥ã€å¤±æ•ˆã€‘ï¼Œå…¨è¡¨æ‰«æã€‚")])]),s._v(" "),t("li",[t("p",[s._v("æˆ‘ä»¬è¦æ£€ç´¢åç§°ä¸ºé˜¿ç›å°¼ï¼ˆArmaniï¼‰ï¼Œä¸”ä»·æ ¼å¤§äº8000ï¼Œä¸”ã€äº§åœ°ï¼ˆè¯¥åˆ—æ— ç´¢å¼•ï¼‰ã€‘åœ¨åŒ—äº¬çš„åŒ…åŒ…")]),s._v(" "),t("p",[s._v("**ç¬¬ä¸€æ­¥ï¼š**é€šè¿‡ã€å“ç‰Œç´¢å¼•ã€‘æ£€ç´¢å‡ºæ‰€æœ‰é˜¿ç›å°¼çš„å¶å­èŠ‚ç‚¹ã€‚")]),s._v(" "),t("p",[s._v("**ç¬¬äºŒæ­¥ï¼š**åœ¨ã€æ»¡è¶³ä¸Šä¸€æ­¥æ¡ä»¶çš„å¶å­èŠ‚ç‚¹ä¸­ã€‘æŸ¥è¯¢ä»·æ ¼å¤§äº8000å…ƒçš„åŒ…åŒ…çš„å¶å­èŠ‚ç‚¹ã€‚")]),s._v(" "),t("p",[s._v("**ç¬¬ä¸‰æ­¥ï¼š**å› ä¸ºã€äº§åœ°åˆ—ã€‘æ— ç´¢å¼•ï¼Œä½†æ˜¯æ˜¯ã€andã€‘çš„å…³ç³»ï¼Œæˆ‘ä»¬åªéœ€è¦å°†ä¸Šä¸€æ­¥å¾—åˆ°çš„ç»“æœå›è¡¨æŸ¥è¯¢ï¼Œåœ¨è¿™ä¸ªå¾ˆå°çš„èŒƒå›´å†…ï¼Œæ£€ç´¢äº§åœ°æ˜¯ä¸æ˜¯åŒ—äº¬å³å¯ã€‚")]),s._v(" "),t("p",[s._v("**ç»“è®ºï¼š**å¯ä»¥ä½¿ç”¨å¤åˆç´¢å¼•çš„ä¸¤ä¸ªéƒ¨åˆ†ã€‚")])]),s._v(" "),t("li",[t("p",[s._v("æˆ‘ä»¬è¦æ£€ç´¢åç§°ä¸ºé˜¿ç›å°¼ï¼ˆArmaniï¼‰å’ŒLVä¹‹é—´ï¼Œä»·æ ¼ä¸ºåœ¨1ä¸‡åˆ°3ä¸‡çš„åŒ…åŒ…")]),s._v(" "),t("p",[s._v("æŸ¥è¯¢çš„æ­¥éª¤å¦‚ä¸‹ï¼š")]),s._v(" "),t("p",[s._v("**ç¬¬ä¸€æ­¥ï¼š**é€šè¿‡ã€å“ç‰Œç´¢å¼•ã€‘æ£€ç´¢å‡ºæ‰€æœ‰é˜¿ç›å°¼å’ŒLVçš„æ‰€æœ‰å¶å­èŠ‚ç‚¹ã€‚")]),s._v(" "),t("p",[s._v("**ç¬¬äºŒæ­¥ï¼š**æˆ‘ä»¬æœ¬æƒ³åœ¨ç¬¬ä¸€æ­¥çš„ç»“æœä¸­ï¼Œå¿«é€Ÿå®šä½ä»·æ ¼çš„èŒƒå›´ï¼Œä½†æ˜¯å‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œç”±äºç¬¬ä¸€æ­¥ä¸æ˜¯ç­‰å€¼æŸ¥è¯¢ï¼Œä¼šå¯¼è‡´åè¾¹çš„ç»“æœä¸è¿ç»­ï¼Œå¿…é¡»å¯¹ã€ä¸Šä¸€æ­¥çš„ç»“æœã€‘å…¨éƒ¨éå†ï¼Œæ‰èƒ½æ‹¿åˆ°å¯¹åº”çš„ç»“æœã€‚")]),s._v(" "),t("p",[s._v("**ç»“è®ºï¼š**åªä¼šä½¿ç”¨å¤åˆç´¢å¼•çš„ç¬¬ä¸€ä¸ªéƒ¨åˆ†ï¼Œè¿™ä¸ªå°±å¼•å‡ºäº†ã€å¤åˆç´¢å¼•ä¸­ç‰¹åˆ«é‡è¦çš„ä¸€ä¸ªæ¦‚å¿µã€‘-ã€æœ€å·¦å‰ç¼€åŸåˆ™ã€‘ã€‚")])])]),s._v(" "),t("p",[s._v("**é‡ç‚¹ï¼š**æœ€å·¦å‰ç¼€åŸåˆ™ï¼š")]),s._v(" "),t("p",[s._v("ï¼ˆ1ï¼‰æœ€å·¦å‰ç¼€åŒ¹é…åŸåˆ™ï¼Œéå¸¸é‡è¦çš„åŸåˆ™ï¼Œmysqlä¼šä¸€ç›´å‘å³åŒ¹é…ç›´åˆ°é‡åˆ°èŒƒå›´æŸ¥è¯¢ï¼ˆ>ã€<ã€betweenã€likeï¼‰å°±åœæ­¢åŒ¹é…ï¼Œæ¯”å¦‚a = 1 and b = 2 and c > 3 and d = 4 ï¼Œå¦‚æœå»ºç«‹ï¼ˆa,b,c,dï¼‰é¡ºåºçš„è”åˆç´¢å¼•ï¼Œdæ˜¯ç”¨ä¸åˆ°ç´¢å¼•çš„ï¼Œå¦‚æœå»ºç«‹(a,b,d,c)çš„ç´¢å¼•åˆ™éƒ½å¯ä»¥ç”¨åˆ°ï¼Œa,b,dçš„é¡ºåºå¯ä»¥ä»»æ„è°ƒæ•´ã€‚")]),s._v(" "),t("p",[s._v("ï¼ˆ2ï¼‰=å’Œinå¯ä»¥ä¹±åºï¼Œæ¯”å¦‚a = 1 and b < 2 and c = 3 ï¼Œå’±ä»¬å»ºç«‹çš„ç´¢å¼•å°±å¯ä»¥æ˜¯ï¼ˆa,c,bï¼‰æˆ–è€…ï¼ˆc,a,bï¼‰ã€‚")]),s._v(" "),t("p",[s._v("**æ€è€ƒï¼š**ä¸ºä»€ä¹ˆè”åˆç´¢å¼•çš„æ€§èƒ½ä¼šæ¯”ç´¢å¼•çš„ç»„åˆä½¿ç”¨æ•ˆç‡é«˜ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_6ã€å…¨æ–‡ç´¢å¼•-fulltext"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6ã€å…¨æ–‡ç´¢å¼•-fulltext"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_6%E3%80%81%E5%85%A8%E6%96%87%E7%B4%A2%E5%BC%95-fulltext",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("6ã€å…¨æ–‡ç´¢å¼•ï¼ˆFULLTEXTï¼‰")]),s._v(" "),t("p",[s._v("åšå…¨æ–‡æ£€ç´¢ï¼ˆä¸å¦‚ç™¾åº¦çš„æœç´¢åŠŸèƒ½ï¼‰ä½¿ç”¨çš„ç´¢å¼•ï¼Œä½†æ˜¯è¿™ç§åœºæ™¯ï¼Œæˆ‘ä»¬æœ‰æ›´å¥½çš„æ›¿ä»£å“ï¼Œå¦‚ï¼šElacticSearchï¼Œæ‰€ä»¥å®é™…ä½¿ç”¨ä¸å¤šï¼Œåªå½“äº†è§£ã€‚")]),s._v(" "),t("p",[s._v("ä½¿ç”¨ like + % å®ç°çš„æ¨¡ç³ŠåŒ¹é…æœ‰ç‚¹ç±»ä¼¼å…¨æ–‡ç´¢å¼•ã€‚ä½†æ˜¯å¯¹äºå¤§é‡çš„æ–‡æœ¬æ•°æ®æ£€ç´¢ï¼Œå…¨æ–‡ç´¢å¼•æ¯” like + % å¿« N å€ï¼Œé€Ÿåº¦ä¸æ˜¯ä¸€ä¸ªæ•°é‡çº§ï¼Œä½†æ˜¯å…¨æ–‡ç´¢å¼•å¯èƒ½å­˜åœ¨ã€ç²¾åº¦é—®é¢˜ã€‘ã€‚åŒæ—¶æ™®é€šç´¢å¼•åœ¨ä½¿ç”¨likeæ—¶å¦‚æœ%æ”¾åœ¨é¦–ä½ï¼Œç´¢å¼•ä¼šå¤±æ•ˆã€‚")]),s._v(" "),t("blockquote",[t("p",[s._v("å…¨æ–‡ç´¢å¼•çš„ç‰ˆæœ¬æ”¯æŒ")])]),s._v(" "),t("ol",[t("li",[s._v("MySQL 5.6 ä»¥å‰çš„ç‰ˆæœ¬ï¼Œåªæœ‰ MyIsam å­˜å‚¨å¼•æ“æ”¯æŒå…¨æ–‡ç´¢å¼•ã€‚")]),s._v(" "),t("li",[s._v("MySQL 5.6 åŠä»¥åçš„ç‰ˆæœ¬ï¼ŒMyIsam å’Œ InnoDB å­˜å‚¨å¼•æ“å‡æ”¯æŒå…¨æ–‡ç´¢å¼•ã€‚")]),s._v(" "),t("li",[s._v("åªæœ‰å­—æ®µçš„æ•°æ®ç±»å‹ä¸º charã€varcharã€text åŠå…¶ç³»åˆ—æ‰å¯ä»¥å»ºå…¨æ–‡ç´¢å¼•ã€‚")])]),s._v(" "),t("blockquote",[t("p",[s._v("ä½¿ç”¨å…¨æ–‡ç´¢å¼•çš„æ³¨æ„")])]),s._v(" "),t("ol",[t("li",[s._v("ä½¿ç”¨å…¨æ–‡ç´¢å¼•å‰ï¼Œææ¸…æ¥šç‰ˆæœ¬æ”¯æŒæƒ…å†µã€‚")]),s._v(" "),t("li",[s._v("å…¨æ–‡ç´¢å¼•æ¯” like + % å¿« N å€ï¼Œä½†æ˜¯å¯èƒ½å­˜åœ¨ç²¾åº¦é—®é¢˜ã€‚")]),s._v(" "),t("li",[s._v("å¦‚æœéœ€è¦å…¨æ–‡ç´¢å¼•çš„æ˜¯å¤§é‡æ•°æ®ï¼Œå»ºè®®å…ˆæ·»åŠ æ•°æ®ï¼Œå†åˆ›å»ºç´¢å¼•ã€‚")]),s._v(" "),t("li",[s._v("å¯¹äºä¸­æ–‡ï¼Œå¯ä»¥ä½¿ç”¨ MySQL 5.7.6 ä¹‹åçš„ç‰ˆæœ¬ï¼Œæˆ–è€…ç¬¬ä¸‰æ–¹æ’ä»¶ã€‚")])]),s._v(" "),t("p",[s._v("ï¼ˆ1ï¼‰åˆ›å»ºè¡¨æ—¶åˆ›å»ºå…¨æ–‡ç´¢å¼•")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" ydlclass_user "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("    \n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("   \n    FULLTEXT "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" fulltext_text"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("text")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("ï¼ˆ2ï¼‰åœ¨å·²å­˜åœ¨çš„è¡¨ä¸Šåˆ›å»ºå…¨æ–‡ç´¢å¼•")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" fulltext "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),s._v(" fulltext_text  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" ydlclass_user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("text")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("æœ¬æ¬¡åˆ›å»ºç”¨æ—¶143sï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220517172713080.7a8ee702.png",alt:"image-20220517172713080"}})]),s._v(" "),t("p",[s._v("ï¼ˆ3ï¼‰é€šè¿‡ SQL è¯­å¥ ALTER TABLE åˆ›å»ºå…¨æ–‡ç´¢å¼•")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("alter")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" ydlclass_user "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add")]),s._v(" fulltext "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),s._v(" fulltext_text"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("text")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("ï¼ˆ4ï¼‰ç›´æ¥ä½¿ç”¨ DROP INDEX åˆ é™¤å…¨æ–‡ç´¢å¼•")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),s._v(" fulltext "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" ydlclass_user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("ï¼ˆ5ï¼‰å…¨æ–‡æ£€ç´¢çš„è¯­æ³•")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" ydlclass_user "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("match")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("text")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" against"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'é«˜å·ä¾¿æ³•è¿˜å†åªåŠäºŒä¸»å‚å‘é™…'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"_8ã€hashç´¢å¼•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_8ã€hashç´¢å¼•"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_8%E3%80%81hash%E7%B4%A2%E5%BC%95",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("8ã€hashç´¢å¼•")]),s._v(" "),t("p",[s._v("hashç´¢å¼•æ˜¯Memoryå­˜å‚¨å¼•æ“çš„é»˜è®¤æ–¹å¼ï¼Œè€Œä¸”åªæœ‰memoryå¼•æ“æ”¯æŒhashç´¢å¼•ï¼Œmemoryçš„æ•°æ®æ˜¯æ”¾åœ¨å†…å­˜ä¸­çš„ï¼Œä¸€æ—¦æœåŠ¡å…³é—­ï¼Œè¡¨ä¸­çš„æ•°æ®å°±ä¼šä¸¢å¤±ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„sqlåˆ›å»ºä¸€å¼ è¡¨:")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("hash_user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v("  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("user_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("bigint")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AUTO_INCREMENT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COMMENT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ç”¨æˆ·ID'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("user_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHARACTER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" utf8mb4 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLLATE")]),s._v(" utf8mb4_0900_ai_ci "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COMMENT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ç”¨æˆ·è´¦å·'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ENGINE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Memory "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHARACTER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" utf8mb4 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLLATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" utf8mb4_0900_ai_ci "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COMMENT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ç”¨æˆ·ä¿¡æ¯è¡¨'")]),s._v(" ROW_FORMAT "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Dynamic"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("åˆç†çš„ä½¿ç”¨memoryå¼•æ“å¯ä»¥æå¤§çš„æå‡æ€§èƒ½ï¼Œé’ˆå¯¹memoryå¼•æ“çš„ç‰¹ç‚¹é‡å¯ä¸¢å¤±ï¼‰ï¼Œæˆ‘ä»¬æœ€å¥½åœ¨å…¶ä¸­å­˜å‚¨ä¸€äº›å…¬å…±çš„ã€å¸¸ç”¨çš„ã€ä¸ç»å¸¸å‘ç”Ÿæ”¹å˜çš„æ•°æ®ï¼Œæ¯”å¦‚ä¸€äº›å­—å…¸æ•°æ®ã€é…ç½®æ•°æ®ç­‰ã€‚åŒæ—¶ï¼Œè¿™äº›æ•°æ®æœ€å¥½æŒä¹…åŒ–åœ¨ä¸€äº›å…¶ä»–çš„åœ°æ–¹ï¼Œæ¯”å¦‚é…ç½®æ–‡ä»¶ã€å…¶ä»–çš„è¡¨ï¼Œåœ¨ç¨‹åºå¯åŠ¨çš„æ—¶å€™ï¼Œä¸»åŠ¨çš„è¿›è¡ŒåŠ è½½ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹sqlï¼Œå°†ä¸€å¼ è¡¨çš„æ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" hash_user "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" ydl_user "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" user_id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2000000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("æˆ‘ä»¬åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ç§ï¼Œå¯èƒ½æœ‰å¦‚ä¸‹é”™è¯¯ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAxgAAABCCAYAAADUgHBoAAANZElEQVR4nO3dPXa6Th+G8ZtnLZLC4wpwBZomla0dltL8O8t0vwZK7dJa2QRWoCvwWAh7mafAFzCCiGhMcn3OsUjIMMMwGL7MDGMZY4wAAAAAoAH/++4CAAAAAPg9CDAAAAAANIYAAwAAAEBjCDAAAAAANIYAAwAAAEBj8gFGEqhrWRpF31SaJvyGYwCAZ8N3KwCgoiftwYg0skZ63P+xpvO7R/kfXSfPJFHQtWRZlqynOU+RRt1AydXpssdiyXr6u7VsHd3rPDyLv3yNNeUBdbgLdCzLknV6DWa3WV0FyZNuA4BfLh9gtMZaGqNp75tK04TfcAw40dJ4aWRMKPe7i7K7ye4GUnvwonh0ZZAQ/ZPXCWWMST8/qqE+03nAw93xuzUaVe0ZSRQMN5rsrp+w42l4uHOPNLI9dcLdtRUPNLf3wc4zbQOAP8AYY4yJje/ISDKSa0KTFRpXrvF9Z7ddxvHj4+bYN450fpsJjZvZ5mZ2HLqO8cNMWsc3sTEmdI9/f/i4+RKdV+8YLuZ3cnyVinImv/yx5/PL7bOwPsv3eaksYdHPDZ+/i2rmd/5YqqXL1fduY/12tj8M54pzkE+XP+Z9GUvqs6gNhq5xXDfd5vjGdyu2i9g3Tq4e02vnkO4kv6LrqfqhP08bPFf/x99dusbqluVSuz7neeqs/Lv1a1nO/s2FfZ+7Jiql9p3jdRu6uePJXaPPtA0A/oBdD8alJ5MzeZvJ7kmML80/d93SiYLhXIPYHJ7ILsetXZpEQXeht/2TWhNK/ewTnJW8d+kj8yTqXyT1pvtyuAqvespb7xjK84s0sjPHF/ta96t2defzW78fu/LTPLP7zAxBKazP8n3W0/z5u19+JfssSReNLPX1tcegfjtLezCGmsj3Q70tqvVgJEFXlmXJ9lZaefaZYRNF9VneBlczaWJCuStP83as2He03l5oFa1XDZyZFvtiJ5+ad8Ldk+mT/O7eW/HYNth66Wi1iXU6lKfzss+z6BqrW5a67fp56qz8u/WW9hJpZNmaD+KT77nq4s1K7lt63SbbtdR5UUvpdW/PB/J3hXmmbQDwF1Scg+Eq3N98tV7UWW0Upz/odSB5tqXu6V138qn5aqb+YQxqXzOtlb33cSdj7f+t9Kb3HtZUdAwlooVm7kSH/32tsSbuSpuLCS/kF42OY/BtT6tDmpL6rHsMpR59/m7L76zSdJEWM0f+f002rPRmazmWNvOt7Gm1wKQ1XsoYo9h35Pjx7mZsqex91dn6vNQG3TelubuaVL5Ja2k8cTXbRRjRv7kG+zo6ze/uHtwG7bYcSUq2krPWIpLijdS2D3s8f43VLUvddl3qib5367aXJFDX6kvh6UOUa3bRVX/tK3t5O20p6Fp6b8cyy7Fe9JzbAOC3u3mS9/7G6UPDr5NWHV+xOT5lO72h+psijfpr+QVP/Err8w4eff7ukl9puo5e7tLmepoujzdqP07vTe5soUiRFuuBXr/xQB7+HbLeKvrcqD0ZSNtI23XFdHdpn/X8+O/d1lhLE0r9oocp5ZKgK3s+UJy5BlsvHa28vjaTfdCSHM7tM20DgL+gsbdItcZLmdiXs96mQwpaL+qsqnS/F7n1KV8D+dltObP34zCWJND7zMk87bxdNOprdub3X+rzJsdjq5zfzeevXGP5labr6c2d6b30BubR7exKd2uDad0sRgsp80Q7zW+ReWvU+fZyvSdpg7teiYXaeu29qr1ZaFMlCL1L+7zkSeqszE3tpaepiTWY21cFGeeCi3R3b3KVuTaif/K06+F4pm0A8BekUzHykwKVm/xXNtnwNJ1jcnP1Tif/ZSa9hW75hLc4M9Gy2uTbusdwIb/QLT6+0rIU55edYOz4fsX6vHwMReLc5Paq+Zmbzl9xvdTJr+zclpfzS9qTQl/fzm5TPMm7pD6L2mDo7sp8bAtF+y8ozMlk72MZ9/m5Ydn1Xn1y//O0wd2E5exk/6rfE3XLUto+S0r6NHVWft6L28sVOVQu15myFJ6jk3I80zYA+OUsY4ypF5oA+MmSoKuhPmqPgQcAADjnSRfaQ3WRRocJnSefp1/EDd/h8EarzaSh4II2+LNx/gAAzaIHAwAAAEBj6MEAAAAA0BgCDAAAAACNIcAAHikJ1LUsMbQdAAD8Vg0EGImCbjoh8OtNU91t2e0j3fVeLLuq9uHT3a07EGl0l/zr7LcszbEuG6+vJFD3UB9VylLXver6Ts7Wy3fJnv8qE3PL2ssd2xIAAPgTDgFGNKqzomqioDuUPmL5TlPbdn8RDOV13Nwq13fRm2ZW1HYVPuvKt6VaGi+/rgqOJ9Qaa2mMpk0uuBX9k9cJjys3X9x5WXuhLQEAgNscAozeNF1R9brXErY0XhbdjNfdJikJNPQ6CqdvV5Tlfra713p+7W3Jv96xStVFI0uW1ddMM/XPPHFOtxfvM1uW6gHh9eU8aL2oU7DScVG9lB7DbohQ0TEU13XZsWWftJ/8XJpfcb1Eo66CKJO2G+RXVC+pl/Mu9AxcqJfSPW/Xcr4s7X2hXgAAAO4kM0QqfXIZt9+/eWhEomDoqRNO1eRD3vpm8jaT9Mlw7Gv9vr/RTBR0F3rbPzU2odS/XG+96WlvSf6Jc7rdHPPL7TNTFhOq4w0rDNGpV85MiTU1585FUb2UHUOiYDjXID5uz6/DULzPesryu1QvK3nv0sdue9jx9C9XaUX1UqSsZ+BSvRQc3X49C2+llWefDO8DAAD4Hl/mYLTGS5lQ6n/TjUo6NCqsNYQkyTz9bi5IchXuC9N6UWe1USxJyafmq0wvhNXXTGttb62z7JwQ29OqqCyy1XZW2sQX9nevchbVS+kxtPQ6kDy76Al9yT5rKcmvQr24k7H2t/m9acPDmqqWsyzVeCljjGLfkePHu+Dkpw3vAwAAv82XACMJurL6UvgtNyqJPucradbP3PSlN4FVhsvsb7jSzwN6QBxfsck8rb+5ziKN+mv58fGpevk4eEdfRsY8pJxlyo9hf44+NHzISsGl+T20Xm4oJwAAwA+SCzCikSV7M3nMzflZ+2Ek2ZvTdCjR/Z4e19R6UWd1OmzmGpd7EaJRX7PCjf/krSrMAbi5nLcpOobWeCkT+3LW2xuHQUnZuqyc3zfXS5FH1wsAAEDTcm+Rem/HFd5Ak7WfuGrLW0mzfnZoUt1tP0VP09jXup+Z0Hw6Ebgk7X9+OiQm/7S6pzd3dfj9e9s/6cHIDOnpS+EhENxPVs5MHj+U5ZZy1lF2DPlJ1ZY91+DjOAypbn7Zuqye36PrpewcfVe9lJXl3DYAAIDLLGOM+e5CAAAAAPgdWMkbT+7k6X72wzwFAACAp0MPBgAAAIDG0IMBAAAAoDH3DzCSQKNucH4CdzS6blVpAAAAAE+t0QAjSc6/a2bdeTn/2tveVG+LdHGxaFQwzt66bvExAAAAAN/nxgBj/7rZ9GPbdvUeiWgkqxvInhotxy31ptn1L46f2Hc1eG1g9bMkUPcQtFyxSvnFdPs6yL5mN18vV+UHAAAA/GC5dTCu7ylo6aWTLoRnjFHoutLipAfC9rQ6rMydv9F2Bq/pu/6j0Zdei2aHTkUa2Z464S5wiQea21XW3bicLgmG8jruyXoVJwsGhh15z7aiGwAAAHAHhwCjN401mNs3v/rz7bQnIvbluOHu56XGBZ0Rjh8f0oSuq7ey9f6SQN1regWihWaOr/92+0w+51pppsWlQ72ULgk09DoKp2+lu0m2azlt+6T8DAEDAADA75MZIpU+dY/b71euqn1cXbo/S39zdW+I3ZY8+3DDvd9PU5LtWuq8qLUrmz0fyHcvJruQLlEw9NQJp+fnl2TWb7DnA30cIqtEwXCuQXwMwpZFURcAAADww3yZg9EaL2VCqV+5hyA7RCr9TdobMrxq3kEn14Nx4Y9bYy1LekPOcdpS0LX03o5llmO93JguHRoValrY09LTdN+LM9nI7gZKq6Ol14Hk2fRcAAAA4Pf5EmAkQVdWXwqvvIHPa2m8vCV9s1ovHa28vjaTfW9Bou36lnSJPucr6TC3pK/Zrifn7Aiz3pvc1Vyfu3iiNV7KGKMPDVmRGgAAAL9KLsCIRpbszUTGFA37OZVou/46ROpq8Uaza4ZIXTsHo/cmV44O0yCif/J0nFuR/m70dXJ5YbqTSdwmlLvryTnboxEtNHMGOn0ZVmu8TOeorLeiLwMAAAC/Qe4tUu/tWKZ4zE+B4xCp6oHJid705PW0UykIGrzp7mkaDzS3dxOr+1K4HOtyB0vddMf5F5ZlyXpvKz6kO9lmzzX4qLJPAAAA4PlZxhhzlz0ngbq2p5UkNzzzZD8aqbv9r3iC8yG9q7Bu4AIAAADgoe4XYAAAAAD4c25cyRsAAAAAjggwAAAAADSGAAMAAABAYwgwAAAAADSGAAMAAABAYwgwAAAAADSGAAMAAABAYwgwAAAAADSGAAMAAABAYwgwAAAAADSGAAMAAABAYwgwAAAAADSGAAMAAABAYwgwAAAAADSGAAMAAABAYwgwAAAAADSGAAMAAABAYwgwAAAAADSGAAMAAABAYwgwAAAAADSGAAMAAABAY/4PwjlY6BTO+5EAAAAASUVORK5CYII=",alt:"image-20220517192903131"}})]),s._v(" "),t("p",[s._v("ä»–å‘Šè¯‰æˆ‘ï¼Œè¿™ä¸ªè¡¨ä½¿ç”¨çš„å†…å­˜æ»¡äº†ï¼Œæ”¾ä¸ä¸‹äº†ï¼Œæˆ‘ä»¬åªéœ€è¦è°ƒèŠ‚ä¸‹è¾¹ä¸¤ä¸ªå‚æ•°ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶é‡å¯å³å¯ï¼š")]),s._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("tmp_table_size = 4096M\nmax_heap_table_size = 4096M\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("åŸºç¡€å·¥ä½œå®Œæˆï¼Œå†™å‡ ä¸ªsqlè¯­å¥å°è¯•ä¸€ä¸‹ï¼Œæˆ‘ä»¬å‘ç°çœŸçš„ä¸€ä¸ªå­—ï¼šå¿«ã€‚")]),s._v(" "),t("p",[s._v("æˆ‘ä»¬æ‰§è¡Œä¸€ä¸‹çš„sql")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" hash_user "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" email "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'i.jnoyelrsg@rpnglcvh.museum'")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 0.189s")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("åˆ›å»ºä¸€ä¸ªhashç´¢å¼•")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),s._v(" hash_idx_user_name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hash")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" hash_user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("email"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("å†æ¬¡æŸ¥è¯¢")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" hash_user "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" email "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'i.jnoyelrsg@rpnglcvh.museum'")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 0.017s")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("ä¹Ÿæœ‰ä¸é”™çš„æ•ˆæœã€‚")]),s._v(" "),t("p",[s._v("å…³äºhashç´¢å¼•éœ€è¦äº†è§£çš„å‡ ç‚¹ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("hashæ˜¯ä¸€ç§key-valueå½¢å¼çš„æ•°æ®ç»“æ„ã€‚å®ç°ä¸€èˆ¬æ˜¯æ•°ç»„+é“¾è¡¨çš„ç»“æ„ï¼Œé€šè¿‡hashå‡½æ•°è®¡ç®—å‡ºkeyåœ¨æ•°ç»„ä¸­çš„ä½ç½®ï¼Œç„¶åå¦‚æœå‡ºç°hashå†²çªå°±é€šè¿‡é“¾è¡¨æ¥è§£å†³ã€‚å½“ç„¶è¿˜æœ‰å…¶ä»–çš„è§£å†³hashå†²çªçš„æ–¹æ³•ã€‚hashè¿™ç§æ•°æ®ç»“æ„æ˜¯å¾ˆå¸¸ç”¨çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬ç³»ç»Ÿä½¿ç”¨HashMapæ¥æ„å»ºçƒ­ç‚¹æ•°æ®ç¼“å­˜ï¼Œå­˜å–æ•ˆç‡å¾ˆå¥½ã€‚")]),s._v(" "),t("li",[s._v("å³ä½¿æ˜¯ç›¸è¿‘çš„keyï¼Œhashçš„å–å€¼ä¹Ÿå®Œå…¨æ²¡æœ‰è§„å¾‹ï¼Œç´¢å¼•hashç´¢å¼•ä¸æ”¯æŒèŒƒå›´æŸ¥è¯¢ã€‚")]),s._v(" "),t("li",[s._v("hashç´¢å¼•å­˜å‚¨çš„æ˜¯hashå€¼å’Œè¡ŒæŒ‡é’ˆï¼Œæ‰€ä»¥é€šè¿‡hashç´¢å¼•æŸ¥è¯¢æ•°æ®éœ€è¦è¿›è¡Œä¸¤æ¬¡æŸ¥è¯¢ï¼ˆé¦–å…ˆæŸ¥è¯¢è¡Œçš„ä½ç½®ï¼Œç„¶åæ‰¾åˆ°å…·ä½“çš„æ•°æ®ï¼‰ã€‚")]),s._v(" "),t("li",[s._v("hashç´¢å¼•æŸ¥è¯¢æ•°æ®çš„å‰æå°±æ˜¯è®¡ç®—hashå€¼ï¼Œä¹Ÿå°±æ˜¯è¦æ±‚keyä¸ºä¸€ä¸ªèƒ½å‡†ç¡®æŒ‡å‘ä¸€æ¡æ•°æ®çš„keyï¼Œæ‰€ä»¥å¯¹äºlikeç­‰ä¸€ç±»çš„åŒ¹é…æŸ¥è¯¢æ˜¯ä¸æ”¯æŒçš„ã€‚")]),s._v(" "),t("li",[s._v("åªè¦æ˜¯åªéœ€è¦åšç­‰å€¼æ¯”è¾ƒæŸ¥è¯¢ï¼Œè€Œä¸åŒ…å«æ’åºæˆ–èŒƒå›´æŸ¥è¯¢çš„éœ€æ±‚ï¼Œéƒ½é€‚åˆä½¿ç”¨å“ˆå¸Œç´¢å¼•ã€‚")])]),s._v(" "),t("h4",{attrs:{id:"_7ã€ç©ºé—´ç´¢å¼•-spatial"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7ã€ç©ºé—´ç´¢å¼•-spatial"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_7%E3%80%81%E7%A9%BA%E9%97%B4%E7%B4%A2%E5%BC%95-spatial",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("7ã€ç©ºé—´ç´¢å¼•ï¼ˆSPATIALï¼‰")]),s._v(" "),t("p",[s._v("MySQLåœ¨5.7ä¹‹åçš„ç‰ˆæœ¬æ”¯æŒäº†ç©ºé—´ç´¢å¼•ï¼Œè€Œä¸”æ”¯æŒOpenGISå‡ ä½•æ•°æ®æ¨¡å‹ã€‚è¿™æ˜¯åœ¨åœ°ç†ä½ç½®é¢†åŸŸä½¿ç”¨çš„ä¸€ç§ç´¢å¼•ï¼Œå…¶ä»–åœºæ™¯ç”¨çš„å¾ˆå°‘ï¼Œæ‰€ä»¥ä¸éœ€è¦æ·±å…¥å­¦ä¹ ã€‚")]),s._v(" "),t("h3",{attrs:{id:"ä¸‰ã€explainçš„ç”¨æ³•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰ã€explainçš„ç”¨æ³•"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#%E4%B8%89%E3%80%81explain%E7%9A%84%E7%94%A8%E6%B3%95",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ä¸‰ã€explainçš„ç”¨æ³•")]),s._v(" "),t("p",[s._v("explainå…³é”®å­—å¯ä»¥æ¨¡æ‹ŸMySQLä¼˜åŒ–å™¨æ‰§è¡ŒSQLè¯­å¥ï¼Œå¯ä»¥å¾ˆå¥½çš„åˆ†æSQLè¯­å¥æˆ–è¡¨ç»“æ„çš„æ€§èƒ½ç“¶é¢ˆã€‚")]),s._v(" "),t("p",[s._v("explainçš„ä½¿ç”¨å¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨ç›®æ ‡sqlå‰åŠ ä¸Šè¿™ä¸ªå…³é”®å­—å°±å¯ä»¥äº†ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220513190241307.0f115ff8.png",alt:"image-20220513190241307"}})]),s._v(" "),t("p",[t("strong",[s._v("æ‰§è¡Œexplainä¼šäº§ç”Ÿä»¥ä¸‹11åˆ—å†…å®¹ï¼Œå¦‚ä¸‹ï¼š")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("åˆ—å·")]),s._v(" "),t("th",[s._v("åˆ—")]),s._v(" "),t("th",[s._v("è¯´æ˜")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("1")]),s._v(" "),t("td",[s._v("id")]),s._v(" "),t("td",[s._v("selectæŸ¥è¯¢çš„åºåˆ—å·ï¼ŒåŒ…å«ä¸€ç»„æ•°å­—ï¼Œè¡¨ç¤ºæŸ¥è¯¢ä¸­æ‰§è¡Œselectå­å¥æˆ–æ“ä½œè¡¨çš„é¡ºåº")])]),s._v(" "),t("tr",[t("td",[s._v("2")]),s._v(" "),t("td",[s._v("select_type")]),s._v(" "),t("td",[s._v("æŸ¥è¯¢ç±»å‹")])]),s._v(" "),t("tr",[t("td",[s._v("3")]),s._v(" "),t("td",[s._v("table")]),s._v(" "),t("td",[s._v("æ­£åœ¨è®¿é—®å“ªä¸ªè¡¨")])]),s._v(" "),t("tr",[t("td",[s._v("4")]),s._v(" "),t("td",[s._v("partitions")]),s._v(" "),t("td",[s._v("åŒ¹é…çš„åˆ†åŒº")])]),s._v(" "),t("tr",[t("td",[s._v("5")]),s._v(" "),t("td",[s._v("type")]),s._v(" "),t("td",[s._v("/è®¿é—®çš„ç±»å‹")])]),s._v(" "),t("tr",[t("td",[s._v("6")]),s._v(" "),t("td",[s._v("possible_keys")]),s._v(" "),t("td",[s._v("æ˜¾ç¤ºå¯èƒ½åº”ç”¨åœ¨è¿™å¼ è¡¨ä¸­çš„ç´¢å¼•ï¼Œä¸€ä¸ªæˆ–å¤šä¸ªï¼Œä½†ä¸ä¸€å®šå®é™…ä½¿ç”¨åˆ°")])]),s._v(" "),t("tr",[t("td",[s._v("7")]),s._v(" "),t("td",[s._v("key")]),s._v(" "),t("td",[s._v("å®é™…ä½¿ç”¨åˆ°çš„ç´¢å¼•ï¼Œå¦‚æœä¸ºNULLï¼Œåˆ™æ²¡æœ‰ä½¿ç”¨ç´¢å¼•")])]),s._v(" "),t("tr",[t("td",[s._v("8")]),s._v(" "),t("td",[s._v("key_len")]),s._v(" "),t("td",[s._v("è¡¨ç¤ºç´¢å¼•ä¸­ä½¿ç”¨çš„å­—èŠ‚æ•°ï¼Œå¯é€šè¿‡è¯¥åˆ—è®¡ç®—æŸ¥è¯¢ä¸­ä½¿ç”¨çš„ç´¢å¼•çš„é•¿åº¦")])]),s._v(" "),t("tr",[t("td",[s._v("9")]),s._v(" "),t("td",[s._v("ref")]),s._v(" "),t("td",[s._v("æ˜¾ç¤ºç´¢å¼•çš„å“ªä¸€åˆ—è¢«ä½¿ç”¨äº†ï¼Œå¦‚æœå¯èƒ½çš„è¯ï¼Œæ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œå“ªäº›åˆ—æˆ–å¸¸é‡è¢«ç”¨äºæŸ¥æ‰¾ç´¢å¼•åˆ—ä¸Šçš„å€¼")])]),s._v(" "),t("tr",[t("td",[s._v("10")]),s._v(" "),t("td",[s._v("rows")]),s._v(" "),t("td",[s._v("æ ¹æ®è¡¨ç»Ÿè®¡ä¿¡æ¯åŠç´¢å¼•é€‰ç”¨æƒ…å†µï¼Œå¤§è‡´ä¼°ç®—å‡ºæ‰¾åˆ°æ‰€éœ€çš„è®°å½•æ‰€éœ€è¯»å–çš„è¡Œæ•° filtered //æŸ¥è¯¢çš„è¡¨è¡Œå è¡¨çš„ç™¾åˆ†æ¯”")])]),s._v(" "),t("tr",[t("td",[s._v("11")]),s._v(" "),t("td",[s._v("filtered")]),s._v(" "),t("td",[s._v("æŸ¥è¯¢çš„è¡¨è¡Œå è¡¨çš„ç™¾åˆ†æ¯”")])]),s._v(" "),t("tr",[t("td",[s._v("12")]),s._v(" "),t("td",[s._v("Extra")]),s._v(" "),t("td",[s._v("åŒ…å«ä¸é€‚åˆåœ¨å…¶å®ƒåˆ—ä¸­æ˜¾ç¤ºä½†ååˆ†é‡è¦çš„é¢å¤–ä¿¡æ¯")])])])]),s._v(" "),t("h4",{attrs:{id:"_1ã€idå­—æ®µ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€idå­—æ®µ"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_1%E3%80%81id%E5%AD%97%E6%AE%B5",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("1ã€idå­—æ®µ")]),s._v(" "),t("p",[s._v("selectæŸ¥è¯¢çš„åºåˆ—å·ï¼ŒåŒ…å«ä¸€ç»„æ•°å­—ï¼Œè¡¨ç¤ºæŸ¥è¯¢ä¸­æ‰§è¡Œselectå­å¥æˆ–æ“ä½œè¡¨çš„é¡ºåº")]),s._v(" "),t("p",[s._v("ï¼ˆ1ï¼‰ idç›¸åŒ")]),s._v(" "),t("p",[s._v("idå¦‚æœç›¸åŒï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ç»„ï¼Œæ‰§è¡Œé¡ºåºä»ä¸Šè‡³ä¸‹ï¼Œå¦‚ä¸‹æŸ¥è¯¢è¯­å¥ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" scores sc "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" sc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("s_id\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220516175632471.aec555f3.png",alt:"image-20220516175632471"}})]),s._v(" "),t("p",[s._v("ï¼ˆ2ï¼‰ idä¸åŒ")]),s._v(" "),t("p",[s._v("å¦‚æœæ˜¯å­æŸ¥è¯¢ï¼Œidçš„åºå·ä¼šé€’å¢ï¼Œidçš„å€¼è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜ï¼Œè¶Šå…ˆè¢«æ‰§è¡Œä¾‹å­")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" age "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" age "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'è¿å®‡æ ‹'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220516180258900.0f568bab.png",alt:"image-20220516180258900"}})]),s._v(" "),t("p",[s._v("ï¼ˆ3ï¼‰idéƒ¨åˆ†ç›¸åŒéƒ¨åˆ†ä¸åŒ")]),s._v(" "),t("p",[s._v("idå¦‚æœç›¸åŒï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ç»„ï¼Œä»ä¸Šå¾€ä¸‹é¡ºåºæ‰§è¡Œåœ¨æ‰€æœ‰ç»„ä¸­ï¼Œidå€¼è¶Šå¤§ï¼Œä¼˜å…ˆçº§è¶Šé«˜ï¼Œè¶Šå…ˆæ‰§è¡Œä¾‹å­ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" scores sc "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" sc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("s_id\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("union")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" scores sc "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" sc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("s_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220516180459139.b4df1b84.png",alt:"image-20220516180459139"}})]),s._v(" "),t("h4",{attrs:{id:"_2ã€select-typeå­—æ®µ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€select-typeå­—æ®µ"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_2%E3%80%81select-type%E5%AD%97%E6%AE%B5",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("2ã€select_typeå­—æ®µ")]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ1ï¼‰SIMPLE")])]),s._v(" "),t("p",[s._v("ç®€å•æŸ¥è¯¢ï¼Œä¸åŒ…å«å­æŸ¥è¯¢æˆ–UnionæŸ¥è¯¢çš„sqlè¯­å¥ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ2ï¼‰PRIMARY")])]),s._v(" "),t("p",[s._v("æŸ¥è¯¢ä¸­è‹¥åŒ…å«ä»»ä½•å¤æ‚çš„å­éƒ¨åˆ†ï¼Œæœ€å¤–å±‚æŸ¥è¯¢åˆ™è¢«æ ‡è®°ä¸ºä¸»æŸ¥è¯¢ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ3ï¼‰ SUBQUERY")])]),s._v(" "),t("p",[s._v("åœ¨selectæˆ–whereä¸­åŒ…å«å­æŸ¥è¯¢ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ4ï¼‰UNION")])]),s._v(" "),t("p",[s._v("è‹¥ç¬¬äºŒä¸ªselectå‡ºç°åœ¨uionä¹‹åï¼Œåˆ™è¢«æ ‡è®°ä¸ºUNIONã€‚")]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ6ï¼‰UNION RESULT")])]),s._v(" "),t("p",[s._v("ä»UNIONè¡¨è·å–ç»“æœçš„åˆå¹¶æ“ä½œã€‚")]),s._v(" "),t("h4",{attrs:{id:"_3ã€typeå­—æ®µ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3ã€typeå­—æ®µ"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_3%E3%80%81type%E5%AD%97%E6%AE%B5",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("3ã€typeå­—æ®µ")]),s._v(" "),t("p",[s._v("æœ€å¥½åˆ°æœ€å·®å¤‡æ³¨ï¼šæŒæ¡ä»¥ä¸‹10ç§å¸¸è§çš„å³å¯NULL>system>const>eq_ref>ref>ref_or_null>index_merge>range>index>ALL")]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ1ï¼‰ NULL")])]),s._v(" "),t("p",[s._v("MySQLèƒ½å¤Ÿåœ¨ä¼˜åŒ–é˜¶æ®µåˆ†è§£æŸ¥è¯¢è¯­å¥ï¼Œåœ¨æ‰§è¡Œé˜¶æ®µç”¨ä¸ç€å†è®¿é—®è¡¨æˆ–ç´¢å¼•ï¼Œæ¯”å¦‚é€šè¿‡idæ²¡æœ‰æ‰¾åˆ°ä¾‹å­ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("min")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220516180830093.f1e439bd.png",alt:"image-20220516180830093"}})]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ2ï¼‰system")])]),s._v(" "),t("p",[s._v("è¡¨åªæœ‰ä¸€è¡Œè®°å½•ï¼ˆç­‰äºç³»ç»Ÿè¡¨ï¼‰ï¼Œè¿™æ˜¯constç±»å‹çš„ç‰¹åˆ—ï¼Œå¹³æ—¶ä¸å¤§ä¼šå‡ºç°ï¼Œå¯ä»¥å¿½ç•¥ï¼Œæˆ‘ä¹Ÿæ²¡æœ‰å®æµ‹å‡ºæ¥ã€‚")]),s._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("explain select * from mysql.proxies_priv\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("æˆ‘å®æµ‹ä¸€ä¸ªåªæœ‰ä¸€è¡Œè®°å½•çš„ç³»ç»Ÿè¡¨ï¼ŒåŒæ ·æ˜¯allã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220518115948496.44153fd6.png",alt:"image-20220518115948496"}})]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ3ï¼‰ const")])]),s._v(" "),t("p",[s._v("è¡¨ç¤ºé€šè¿‡ç´¢å¼•ä¸€æ¬¡å°±æ‰¾åˆ°äº†ï¼Œconstç”¨äºæ¯”è¾ƒprimary keyæˆ–uiqueç´¢å¼•ï¼Œå› ä¸ºåªåŒ¹é…ä¸€è¡Œæ•°æ®ï¼Œæ‰€ä»¥å¾ˆå¿«ï¼Œå¦‚ä¸»é”®ç½®äºwhereåˆ—è¡¨ä¸­ï¼ŒMySQLå°±èƒ½å°†è¯¥æŸ¥è¯¢è½¬æ¢ä¸ºä¸€ä¸ªå¸¸é‡ä¾‹å­ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220516181115548.7e73b3f8.png",alt:"image-20220516181115548"}})]),s._v(" "),t("p",[t("strong",[s._v("4. eq_ref")])]),s._v(" "),t("p",[s._v("å”¯ä¸€æ€§ç´¢å¼•æ‰«æï¼Œå¯¹äºæ¯ä¸ªç´¢å¼•é”®ï¼Œè¡¨ä¸­åªæœ‰ä¸€æ¡è®°å½•ä¸ä¹‹åŒ¹é…ï¼Œå¸¸è§äºä¸»é”®æˆ–å”¯ä¸€ç´¢å¼•æ‰«æä¾‹å­ï¼š")]),s._v(" "),t("p",[s._v("è¢«é©±åŠ¨è¡¨ä½¿ç”¨ä¸»é”®ç´¢é¢ï¼Œç»“æœå”¯ä¸€")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" scores sc "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("left")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" student s "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" sc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("s_id\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220516183031354.2de188ef.png",alt:"image-20220516183031354"}})]),s._v(" "),t("p",[t("strong",[s._v("5. ref")])]),s._v(" "),t("p",[s._v("éå”¯ä¸€æ€§ç´¢å¼•æ‰«æï¼Œè¿”å›åŒ¹é…æŸä¸ªå•ç‹¬å€¼çš„æ‰€æœ‰è¡Œï¼Œæœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ç§ç´¢å¼•è®¿é—®ï¼Œè¿”å›æ‰€æœ‰åŒ¹é…æŸä¸ªå•ç‹¬å€¼çš„è¡Œï¼Œç„¶è€Œå¯èƒ½ä¼šæ‰¾åˆ°å¤šä¸ªç¬¦åˆæ¡ä»¶çš„è¡Œï¼Œåº”è¯¥å±äºæŸ¥æ‰¾å’Œæ‰«æçš„æ··åˆä½“ä¾‹å­ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ç™½æ°'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student s "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("left")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" scores sc "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" sc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("s_id\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220516183118398.d08c2df6.png",alt:"image-20220516183118398"}})]),s._v(" "),t("p",[t("strong",[s._v("6. ref_or_null")])]),s._v(" "),t("p",[s._v("ç±»ä¼¼refï¼Œä½†æ˜¯å¯ä»¥æœç´¢å€¼ä¸ºNULLçš„è¡Œä¾‹å­ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student s "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ç™½æ°'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("or")]),s._v(" name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("is")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("null")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220516183229589.daa35de1.png",alt:"image-20220516183229589"}})]),s._v(" "),t("p",[t("strong",[s._v("7. index_merge")])]),s._v(" "),t("p",[s._v("è¡¨ç¤ºä½¿ç”¨äº†ç´¢å¼•åˆå¹¶çš„ä¼˜åŒ–æ–¹æ³•ä¾‹å­ï¼š")]),s._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("explain select * from student where id = 1 or name ='æå…´';\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220516181626267.12ca24b4.png",alt:"image-20220516181626267"}})]),s._v(" "),t("p",[t("strong",[s._v("8. range")])]),s._v(" "),t("p",[s._v("åªæ£€ç´¢ç»™å®šèŒƒå›´çš„è¡Œï¼Œä½¿ç”¨ä¸€ä¸ªç´¢å¼•æ¥é€‰æ‹©è¡Œï¼Œkeyåˆ—æ˜¾ç¤ºä½¿ç”¨äº†å“ªä¸ªç´¢å¼•ä¸€èˆ¬å°±æ˜¯åœ¨ä½ çš„whereè¯­å¥ä¸­å‡ºç°betweenã€<>ã€inç­‰çš„æŸ¥è¯¢ã€‚ä¾‹å­ï¼š")]),s._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("explain select * from student where id between 4 and 7;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220516181716830.9c6ab949.png",alt:"image-20220516181716830"}})]),s._v(" "),t("p",[t("strong",[s._v("9. index")]),s._v("ï¼ˆå…¨ç´¢å¼•æ‰«æï¼‰")]),s._v(" "),t("p",[s._v("Full index Scanï¼ŒIndexä¸AllåŒºåˆ«ï¼šindexåªéå†ç´¢å¼•æ ‘ï¼Œé€šå¸¸æ¯”Allå¿«å› ä¸ºç´¢å¼•æ–‡ä»¶é€šå¸¸æ¯”æ•°æ®æ–‡ä»¶å°ï¼Œä¹Ÿå°±æ˜¯è™½ç„¶allå’Œindexéƒ½æ˜¯è¯»å…¨è¡¨ï¼Œä½†indexæ˜¯ä»ç´¢å¼•ä¸­è¯»å–çš„ï¼Œè€Œallæ˜¯ä»ç¡¬ç›˜è¯»çš„ã€‚ä¾‹å­ï¼š")]),s._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("explain select name from student;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220516181813844.c49ee252.png",alt:"image-20220516181813844"}})]),s._v(" "),t("p",[t("strong",[s._v("10. ALL")]),s._v("ï¼ˆå…¨è¡¨æ‰«ï¼‰")]),s._v(" "),t("p",[s._v("Full Table Scanï¼Œå°†éå†å…¨è¡¨ä»¥æ‰¾åˆ°åŒ¹é…è¡Œä¾‹å­ï¼š")]),s._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("explain select * from student;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220516181840924.dcb02ba6.png",alt:"image-20220516181840924"}})]),s._v(" "),t("h4",{attrs:{id:"_4ã€tableå­—æ®µ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4ã€tableå­—æ®µ"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_4%E3%80%81table%E5%AD%97%E6%AE%B5",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("4ã€tableå­—æ®µ")]),s._v(" "),t("p",[s._v("è¡¨ç¤ºæ•°æ®æ¥è‡ªå“ªå¼ è¡¨")]),s._v(" "),t("h4",{attrs:{id:"_5ã€possible-keyså­—æ®µ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5ã€possible-keyså­—æ®µ"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_5%E3%80%81possible-keys%E5%AD%97%E6%AE%B5",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("5ã€possible_keyså­—æ®µ")]),s._v(" "),t("p",[s._v("æ˜¾ç¤ºå¯èƒ½åº”ç”¨åœ¨è¿™å¼ è¡¨ä¸­çš„ç´¢å¼•ï¼Œä¸€ä¸ªæˆ–å¤šä¸ªæŸ¥è¯¢æ¶‰åŠåˆ°çš„å­—æ®µè‹¥å­˜åœ¨ç´¢å¼•ï¼Œåˆ™è¯¥ç´¢å¼•å°†è¢«åˆ—å‡ºï¼Œä½†ä¸ä¸€å®šè¢«å®é™…ä½¿ç”¨")]),s._v(" "),t("h4",{attrs:{id:"_6ã€keyå­—æ®µ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6ã€keyå­—æ®µ"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_6%E3%80%81key%E5%AD%97%E6%AE%B5",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("6ã€keyå­—æ®µ")]),s._v(" "),t("p",[s._v("å®é™…ä½¿ç”¨åˆ°çš„ç´¢å¼•ï¼Œå¦‚æœä¸ºNULLï¼Œåˆ™æ²¡æœ‰ä½¿ç”¨ç´¢å¼•æŸ¥è¯¢ä¸­è‹¥ä½¿ç”¨äº†è¦†ç›–ç´¢å¼•ï¼ˆæŸ¥è¯¢çš„åˆ—åˆšå¥½æ˜¯ç´¢å¼•ï¼‰ï¼Œåˆ™è¯¥ç´¢å¼•ä»…å‡ºç°åœ¨keyåˆ—è¡¨")]),s._v(" "),t("h4",{attrs:{id:"_7ã€key-lenå­—æ®µ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7ã€key-lenå­—æ®µ"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_7%E3%80%81key-len%E5%AD%97%E6%AE%B5",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("7ã€key_lenå­—æ®µ")]),s._v(" "),t("p",[s._v("è¡¨ç¤ºç´¢å¼•ä¸­ä½¿ç”¨çš„å­—èŠ‚æ•°ï¼Œå¯é€šè¿‡è¯¥åˆ—è®¡ç®—æŸ¥è¯¢ä¸­ä½¿ç”¨çš„ç´¢å¼•çš„é•¿åº¦åœ¨ä¸æŸå¤±ç²¾ç¡®åº¦çš„æƒ…å†µä¸‹ï¼Œé•¿åº¦è¶ŠçŸ­è¶Šå¥½key_lenæ˜¾ç¤ºçš„å€¼ä¸ºç´¢å¼•å­—æ®µæœ€å¤§çš„å¯èƒ½é•¿åº¦ï¼Œå¹¶éå®é™…ä½¿ç”¨é•¿åº¦å³key_lenæ˜¯æ ¹æ®å®šä¹‰è®¡ç®—è€Œå¾—ï¼Œä¸æ˜¯é€šè¿‡è¡¨å†…æ£€ç´¢å‡ºçš„")]),s._v(" "),t("h4",{attrs:{id:"_8ã€refå­—æ®µ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_8ã€refå­—æ®µ"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_8%E3%80%81ref%E5%AD%97%E6%AE%B5",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("8ã€refå­—æ®µ")]),s._v(" "),t("p",[s._v("å“ªäº›åˆ—æˆ–å¸¸é‡è¢«ç”¨äºæŸ¥æ‰¾ç´¢å¼•åˆ—ä¸Šçš„å€¼")]),s._v(" "),t("h4",{attrs:{id:"_9ã€rowså­—æ®µ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_9ã€rowså­—æ®µ"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_9%E3%80%81rows%E5%AD%97%E6%AE%B5",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("9ã€rowså­—æ®µ")]),s._v(" "),t("p",[s._v("æ ¹æ®è¡¨ç»Ÿè®¡ä¿¡æ¯åŠç´¢å¼•é€‰ç”¨æƒ…å†µï¼Œå¤§è‡´ä¼°ç®—å‡ºæ‰¾åˆ°æ‰€éœ€çš„è®°å½•æ‰€éœ€è¯»å–çš„è¡Œæ•°")]),s._v(" "),t("h4",{attrs:{id:"_10ã€partitionså­—æ®µ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_10ã€partitionså­—æ®µ"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_10%E3%80%81partitions%E5%AD%97%E6%AE%B5",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("10ã€partitionså­—æ®µ")]),s._v(" "),t("p",[s._v("åŒ¹é…çš„åˆ†åŒº")]),s._v(" "),t("h4",{attrs:{id:"_11ã€filteredå­—æ®µ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_11ã€filteredå­—æ®µ"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_11%E3%80%81filtered%E5%AD%97%E6%AE%B5",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("11ã€filteredå­—æ®µ")]),s._v(" "),t("p",[s._v("å®ƒæŒ‡è¿”å›ç»“æœçš„è¡Œå éœ€è¦è¯»åˆ°çš„è¡Œ(rowsåˆ—çš„å€¼)çš„ç™¾åˆ†æ¯”")]),s._v(" "),t("h4",{attrs:{id:"_12ã€extraå­—æ®µ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_12ã€extraå­—æ®µ"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_12%E3%80%81extra%E5%AD%97%E6%AE%B5",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("12ã€Extraå­—æ®µ")]),s._v(" "),t("p",[s._v("è¯¥åˆ—åŒ…å«ä¸é€‚åˆåœ¨å…¶å®ƒåˆ—ä¸­æ˜¾ç¤ºï¼Œä½†ååˆ†é‡è¦çš„é¢å¤–ä¿¡æ¯ï¼Œæˆ‘ä»¬åˆ—ä¸¾å‡ ä¸ªä¾‹å­ï¼š")]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ1ï¼‰Using filesort")])]),s._v(" "),t("p",[s._v("åªè¦ä½¿ç”¨éç´¢å¼•å­—æ®µæ’åºï¼Œå°±ä¼šå‡ºç°è¿™æ ·çš„å†…å®¹ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ2ï¼‰Using temporary")])]),s._v(" "),t("p",[s._v("ä½¿ç”¨äº†ä¸´æ—¶è¡¨ä¿å­˜ä¸­é—´ç»“æœï¼ŒMySQLåœ¨å¯¹ç»“æœæ’åºæ—¶ä½¿ç”¨ä¸´æ—¶è¡¨ï¼Œå¸¸è§äºæ’åºorder by å’Œåˆ†ç»„æŸ¥è¯¢group byä¾‹å­ï¼š")]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ3ï¼‰Using where")])]),s._v(" "),t("p",[s._v("ä½¿ç”¨äº†whereæ¡ä»¶ä¾‹å­ï¼š")]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ4ï¼‰impossible where")])]),s._v(" "),t("p",[s._v("whereå­å¥çš„å€¼æ€»æ˜¯falseï¼Œä¸èƒ½ç”¨æ¥è·å–ä»»ä½•æ•°æ®ï¼š")]),s._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("explain select * from student where name = 'ç™½æ´' and name = 'æå…´';\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220516182510228.1803ac6c.png",alt:"image-20220516182510228"}})]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ5ï¼‰Select tables optimized away")])]),s._v(" "),t("p",[s._v("SELECTæ“ä½œå·²ç»ä¼˜åŒ–åˆ°ä¸èƒ½å†ä¼˜åŒ–äº†ï¼ˆMySQLæ ¹æœ¬æ²¡æœ‰éå†è¡¨æˆ–ç´¢å¼•å°±è¿”å›æ•°æ®äº†ï¼‰ä¾‹å­ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("min")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220516182125161.920194f5.png",alt:"image-20220516182125161"}})]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ6ï¼‰no matching row in const table")])]),s._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("explain select * from student where id &lt; 100 and id > 200;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220516182318832.7e012d1a.png",alt:"image-20220516182318832"}})]),s._v(" "),t("h3",{attrs:{id:"ä¸‰ã€ä½¿ç”¨ç´¢å¼•çš„é—®é¢˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰ã€ä½¿ç”¨ç´¢å¼•çš„é—®é¢˜"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#%E4%B8%89%E3%80%81%E4%BD%BF%E7%94%A8%E7%B4%A2%E5%BC%95%E7%9A%84%E9%97%AE%E9%A2%98",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ä¸‰ã€ä½¿ç”¨ç´¢å¼•çš„é—®é¢˜")]),s._v(" "),t("p",[s._v("è®¾è®¡å¥½MySqlçš„ç´¢å¼•å¯ä»¥è®©ä½ çš„æ•°æ®åº“é£èµ·æ¥ã€‚ä½†æ˜¯ï¼Œä¸åˆç†çš„åˆ›å»ºç´¢å¼•åŒæ ·ä¼šäº§ç”Ÿå¾ˆå¤šé—®é¢˜ï¼Ÿæˆ‘ä»¬åœ¨è®¾è®¡MySqlç´¢å¼•çš„æ—¶å€™æœ‰ä¸€ä¸‹å‡ ç‚¹æ³¨æ„ï¼š")]),s._v(" "),t("h4",{attrs:{id:"_1ã€å“ªäº›æƒ…å†µä¸‹é€‚åˆå»ºç´¢å¼•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€å“ªäº›æƒ…å†µä¸‹é€‚åˆå»ºç´¢å¼•"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_1%E3%80%81%E5%93%AA%E4%BA%9B%E6%83%85%E5%86%B5%E4%B8%8B%E9%80%82%E5%90%88%E5%BB%BA%E7%B4%A2%E5%BC%95",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("1ã€å“ªäº›æƒ…å†µä¸‹é€‚åˆå»ºç´¢å¼•")]),s._v(" "),t("ul",[t("li",[s._v("é¢‘ç¹ä½œä¸ºwhereæ¡ä»¶è¯­å¥æŸ¥è¯¢çš„å­—æ®µ")]),s._v(" "),t("li",[s._v("å…³è”å­—æ®µéœ€è¦å»ºç«‹ç´¢å¼•")]),s._v(" "),t("li",[s._v("åˆ†ç»„ï¼Œæ’åºå­—æ®µå¯ä»¥å»ºç«‹ç´¢å¼•")]),s._v(" "),t("li",[s._v("ç»Ÿè®¡å­—æ®µå¯ä»¥å»ºç«‹ç´¢å¼•ï¼Œä¾‹å¦‚count()ï¼Œmax()ç­‰")])]),s._v(" "),t("p",[t("strong",[s._v("å°æ¡ˆä¾‹")]),s._v("ï¼šè¿˜è®°å¾—åœ¨å­¦ä¹ ä¸´æ—¶è¡¨æ—¶ï¼Œåˆ†æè¿‡group byçš„æ‰§è¡Œæµç¨‹å—ï¼ˆåˆ†ç»„å­—æ®µæ²¡æœ‰ç´¢å¼•ï¼‰ï¼Ÿæœ‰äº†ç´¢å¼•ä¹‹åçš„åˆ†ç»„æ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220512173224645.3b81778d.png",alt:"image-20220512173224645"}})]),s._v(" "),t("p",[s._v("ç›´æ¥ä½¿ç”¨ç´¢å¼•ä¿¡æ¯ï¼Œç»Ÿè®¡æ¯ä¸ªç»„çš„äººæ•°ï¼Œç›´æ¥è¿”å›ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_2ã€å“ªäº›æƒ…å†µä¸‹ä¸é€‚åˆå»ºç´¢å¼•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€å“ªäº›æƒ…å†µä¸‹ä¸é€‚åˆå»ºç´¢å¼•"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_2%E3%80%81%E5%93%AA%E4%BA%9B%E6%83%85%E5%86%B5%E4%B8%8B%E4%B8%8D%E9%80%82%E5%90%88%E5%BB%BA%E7%B4%A2%E5%BC%95",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("2ã€å“ªäº›æƒ…å†µä¸‹ä¸é€‚åˆå»ºç´¢å¼•")]),s._v(" "),t("ul",[t("li",[s._v("é¢‘ç¹æ›´æ–°çš„å­—æ®µä¸é€‚åˆå»ºç«‹ç´¢å¼•")]),s._v(" "),t("li",[s._v("whereæ¡ä»¶ä¸­ç”¨ä¸åˆ°çš„å­—æ®µä¸é€‚åˆå»ºç«‹ç´¢å¼•")]),s._v(" "),t("li",[s._v("è¡¨æ•°æ®å¯ä»¥ç¡®å®šæ¯”è¾ƒå°‘çš„ä¸éœ€è¦å»ºç´¢å¼•")]),s._v(" "),t("li",[s._v("æ•°æ®é‡å¤ä¸”å‘å¸ƒæ¯”è¾ƒå‡åŒ€çš„çš„å­—æ®µä¸é€‚åˆå»ºç´¢å¼•ï¼ˆå”¯ä¸€æ€§å¤ªå·®çš„å­—æ®µä¸é€‚åˆå»ºç«‹ç´¢å¼•ï¼‰ï¼Œä¾‹å¦‚æ€§åˆ«ï¼ŒçœŸå‡å€¼")]),s._v(" "),t("li",[s._v("å‚ä¸åˆ—è®¡ç®—çš„åˆ—ä¸é€‚åˆå»ºç´¢å¼•ï¼Œç´¢å¼•ä¼šå¤±æ•ˆ")])]),s._v(" "),t("h4",{attrs:{id:"_3ã€èƒ½ç”¨å¤åˆç´¢å¼•çš„è¦ä½¿ç”¨å¤åˆç´¢å¼•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3ã€èƒ½ç”¨å¤åˆç´¢å¼•çš„è¦ä½¿ç”¨å¤åˆç´¢å¼•"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_3%E3%80%81%E8%83%BD%E7%94%A8%E5%A4%8D%E5%90%88%E7%B4%A2%E5%BC%95%E7%9A%84%E8%A6%81%E4%BD%BF%E7%94%A8%E5%A4%8D%E5%90%88%E7%B4%A2%E5%BC%95",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("3ã€èƒ½ç”¨å¤åˆç´¢å¼•çš„è¦ä½¿ç”¨å¤åˆç´¢å¼•")]),s._v(" "),t("h4",{attrs:{id:"_4ã€nullå€¼ä¹Ÿæ˜¯å¯ä»¥èµ°ç´¢å¼•çš„-ä»–è¢«å¤„ç†æˆæœ€å°å€¼æ”¾åœ¨b-æ ‘çš„æœ€å·¦ä¾§"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4ã€nullå€¼ä¹Ÿæ˜¯å¯ä»¥èµ°ç´¢å¼•çš„-ä»–è¢«å¤„ç†æˆæœ€å°å€¼æ”¾åœ¨b-æ ‘çš„æœ€å·¦ä¾§"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_4%E3%80%81null%E5%80%BC%E4%B9%9F%E6%98%AF%E5%8F%AF%E4%BB%A5%E8%B5%B0%E7%B4%A2%E5%BC%95%E7%9A%84-%E4%BB%96%E8%A2%AB%E5%A4%84%E7%90%86%E6%88%90%E6%9C%80%E5%B0%8F%E5%80%BC%E6%94%BE%E5%9C%A8b-%E6%A0%91%E7%9A%84%E6%9C%80%E5%B7%A6%E4%BE%A7",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("4ã€nullå€¼ä¹Ÿæ˜¯å¯ä»¥èµ°ç´¢å¼•çš„ï¼Œä»–è¢«å¤„ç†æˆæœ€å°å€¼æ”¾åœ¨b+æ ‘çš„æœ€å·¦ä¾§")]),s._v(" "),t("h4",{attrs:{id:"_5ã€ä½¿ç”¨çŸ­ç´¢å¼•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5ã€ä½¿ç”¨çŸ­ç´¢å¼•"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_5%E3%80%81%E4%BD%BF%E7%94%A8%E7%9F%AD%E7%B4%A2%E5%BC%95",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("5ã€ä½¿ç”¨çŸ­ç´¢å¼•")]),s._v(" "),t("p",[s._v("å¯¹å­—ç¬¦ä¸²çš„åˆ—åˆ›å»ºç´¢å¼•ï¼Œå¦‚æœå¯èƒ½ï¼Œåº”è¯¥æŒ‡å®šä¸€ä¸ªå‰ç¼€é•¿åº¦ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæœ‰ä¸€ä¸ªCHAR(255)çš„ åˆ—ï¼Œå¦‚æœåœ¨å‰10 ä¸ªæˆ–20 ä¸ªå­—ç¬¦å†…ï¼Œå¤šæ•°å€¼æ˜¯æƒŸä¸€çš„ï¼Œé‚£ä¹ˆå°±ä¸è¦å¯¹æ•´ä¸ªåˆ—è¿›è¡Œç´¢å¼•ã€‚çŸ­ç´¢å¼•ä¸ä»…å¯ä»¥æé«˜æŸ¥è¯¢é€Ÿåº¦è€Œä¸”å¯ä»¥èŠ‚çœç£ç›˜ç©ºé—´å’ŒI/Oæ“ä½œã€‚")]),s._v(" "),t("h4",{attrs:{id:"_6-æ’åºçš„ç´¢å¼•é—®é¢˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-æ’åºçš„ç´¢å¼•é—®é¢˜"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_6-%E6%8E%92%E5%BA%8F%E7%9A%84%E7%B4%A2%E5%BC%95%E9%97%AE%E9%A2%98",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("6ï¼Œæ’åºçš„ç´¢å¼•é—®é¢˜")]),s._v(" "),t("p",[s._v("mysqlæŸ¥è¯¢åªä½¿ç”¨ä¸€ä¸ªç´¢å¼•ï¼Œå› æ­¤å¦‚æœwhereå­å¥ä¸­å·²ç»ä½¿ç”¨äº†ç´¢å¼•çš„è¯ï¼Œé‚£ä¹ˆorder byä¸­çš„åˆ—æ˜¯ä¸ä¼šä½¿ç”¨ç´¢å¼•çš„ã€‚å› æ­¤æ•°æ®åº“é»˜è®¤æ’åºå¯ä»¥ç¬¦åˆè¦æ±‚çš„æƒ…å†µä¸‹ä¸è¦ä½¿ç”¨æ’åºæ“ä½œï¼›å°½é‡ä¸è¦åŒ…å«å¤šä¸ªåˆ—çš„æ’åºï¼Œå¦‚æœéœ€è¦ï¼Œæœ€å¥½ç»™è¿™äº›åˆ—åˆ›å»º"),t("code",[s._v("å¤åˆç´¢å¼•")]),s._v("ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_7ã€mysqlç´¢å¼•å¤±æ•ˆçš„å‡ ç§æƒ…å†µ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7ã€mysqlç´¢å¼•å¤±æ•ˆçš„å‡ ç§æƒ…å†µ"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_7%E3%80%81mysql%E7%B4%A2%E5%BC%95%E5%A4%B1%E6%95%88%E7%9A%84%E5%87%A0%E7%A7%8D%E6%83%85%E5%86%B5",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("7ã€MySQLç´¢å¼•å¤±æ•ˆçš„å‡ ç§æƒ…å†µ")]),s._v(" "),t("ul",[t("li",[s._v("å¦‚æœæ¡ä»¶ä¸­æœ‰orï¼Œå³ä½¿å…¶ä¸­æœ‰æ¡ä»¶å¸¦ç´¢å¼•ä¹Ÿä¸ä¼šä½¿ç”¨èµ°ç´¢å¼•ï¼Œé™¤éå…¨éƒ¨æ¡ä»¶éƒ½æœ‰ç´¢å¼•")]),s._v(" "),t("li",[s._v("å¤åˆç´¢å¼•ä¸æ»¡è¶³æœ€å·¦åŸåˆ™å°±ä¸èƒ½ä½¿ç”¨å…¨éƒ¨ç´¢å¼•")]),s._v(" "),t("li",[s._v("likeæŸ¥è¯¢ä»¥%å¼€å¤´")]),s._v(" "),t("li",[s._v("å­˜åœ¨åˆ—è®¡ç®—")])]),s._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("explain select * from student where age = (18-1)\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("å¦‚æœmysqlä¼°è®¡ä½¿ç”¨å…¨è¡¨æ‰«æè¦æ¯”ä½¿ç”¨ç´¢å¼•å¿«ï¼Œåˆ™ä¸ä½¿ç”¨ç´¢å¼•ï¼Œæ¯”å¦‚ç»“æœçš„é‡å¾ˆå¤§")]),s._v(" "),t("li",[s._v("å­˜åœ¨ç±»å‹è½¬åŒ–")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- ç´¢å¼•ä¸å¤±æ•ˆ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" age "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'18'")]),s._v("  \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" ydl_user "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" login_date "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2008-05-31 17:20:54'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- ç´¢å¼•å¤±æ•ˆ æœ¬æ¥æ˜¯å­—ç¬¦ä¸²ï¼Œä½ ä½¿ç”¨æ•°å­—å’Œä»–æ¯”è¾ƒ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("explain")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" gander "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220518183149811.7d62b011.png",alt:"image-20220518183149811"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220518183122831.b15ccfd6.png",alt:"image-20220518183122831"}})]),s._v(" "),t("h2",{attrs:{id:"ç¬¬ä¸ƒç« -é”æœºåˆ¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç¬¬ä¸ƒç« -é”æœºåˆ¶"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#%E7%AC%AC%E4%B8%83%E7%AB%A0-%E9%94%81%E6%9C%BA%E5%88%B6",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ç¬¬ä¸ƒç«  é”æœºåˆ¶")]),s._v(" "),t("p",[s._v("é”æ˜¯ä¸ºäº†ä¿è¯æ•°æ®åº“ä¸­æ•°æ®çš„ä¸€è‡´æ€§ï¼Œä½¿å„ç§ã€å…±äº«èµ„æºã€‘åœ¨è¢«è®¿é—®æ—¶å˜å¾—ã€æœ‰åºã€‘è€Œè®¾è®¡çš„ä¸€ç§è§„åˆ™ã€‚")]),s._v(" "),t("p",[s._v("MysQLä¸­ä¸åŒçš„å­˜å‚¨å¼•æ“æ”¯æŒä¸åŒçš„é”æœºåˆ¶ã€‚ InoDBæ”¯æŒã€è¡Œé”ã€‘ï¼Œæœ‰æ—¶ä¹Ÿä¼šå‡çº§ä¸ºè¡¨é”ï¼ŒMyIsamåªæ”¯æŒè¡¨é”ã€‚")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("ã€è¡¨é”ã€‘çš„ç‰¹ç‚¹å°±æ˜¯å¼€é”€å°ã€åŠ é”å¿«ï¼Œä¸ä¼šå‡ºç°æ­»é”ã€‚é”ç²’åº¦å¤§ï¼Œå‘ç”Ÿé”å†²çªçš„æ¦‚ç‡å°ï¼Œå¹¶å‘åº¦ç›¸å¯¹ä½ã€‚")])]),s._v(" "),t("li",[t("p",[s._v("ã€è¡Œé”ã€‘çš„ç‰¹ç‚¹å°±æ˜¯å¼€é”€å¤§ã€åŠ é”æ…¢ï¼Œä¼šå‡ºç°æ­»é”ã€‚é”ç²’åº¦å°ï¼Œå‘ç”Ÿé”å†²çªçš„æ¦‚ç‡é«˜ï¼Œå¹¶å‘åº¦é«˜ã€‚")]),s._v(" "),t("p",[s._v("ä»Šå¤©æˆ‘ä»¬è®²é”ä¸»è¦ä»InnoDBå¼•æ“æ¥è®²ï¼Œå› ä¸ºå®ƒæ—¢æ”¯æŒè¡Œé”ã€ä¹Ÿæ”¯æŒè¡¨é”ã€‚")])])]),s._v(" "),t("h3",{attrs:{id:"ä¸€ã€innodbçš„é”ç±»å‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€innodbçš„é”ç±»å‹"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#%E4%B8%80%E3%80%81innodb%E7%9A%84%E9%94%81%E7%B1%BB%E5%9E%8B",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ä¸€ã€InnoDBçš„é”ç±»å‹")]),s._v(" "),t("p",[s._v("InnoDBçš„é”ç±»å‹ä¸»è¦æœ‰è¯»é”(å…±äº«é”)ã€å†™é”(æ’ä»–é”)ã€æ„å‘é”å’ŒMDLé”ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_1ã€sé”"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€sé”"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_1%E3%80%81s%E9%94%81",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("1ã€sé”")]),s._v(" "),t("p",[s._v("è¯»é”ï¼ˆå…±äº«é”ï¼Œshared lockï¼‰ç®€ç§°Sé”ã€‚ä¸€ä¸ªäº‹åŠ¡è·å–äº†ä¸€ä¸ªæ•°æ®è¡Œçš„è¯»é”ï¼Œå…¶ä»–äº‹åŠ¡ä¹Ÿèƒ½è·å¾—è¯¥è¡Œå¯¹åº”çš„è¯»é”ï¼Œä½†ä¸èƒ½è·å¾—å†™é”ï¼Œå³ä¸€ä¸ªäº‹åŠ¡åœ¨è¯»å–ä¸€ä¸ªæ•°æ®è¡Œæ—¶ï¼Œå…¶ä»–äº‹åŠ¡ä¹Ÿå¯ä»¥è¯»ï¼Œä½†ä¸èƒ½å¯¹è¯¥æ•°è¡Œå¢åˆ æ”¹çš„æ“ä½œã€‚")]),s._v(" "),t("p",[s._v("**æ³¨ï¼š**è¯»é”æ˜¯å…±äº«é”ï¼Œå¤šä¸ªäº‹åŠ¡å¯ä»¥åŒæ—¶æŒæœ‰ï¼Œå½“æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªäº‹åŠ¡æŒæœ‰å…±äº«é”æ—¶ï¼Œè¢«é”çš„æ•°æ®å°±ä¸èƒ½ä¿®æ”¹ã€‚")]),s._v(" "),t("p",[s._v("ç®€è€Œè¨€ä¹‹ï¼šå°±æ˜¯å¯ä»¥å¤šä¸ªäº‹åŠ¡è¯»ï¼Œä½†åªèƒ½ä¸€ä¸ªäº‹åŠ¡å†™ã€‚")]),s._v(" "),t("p",[s._v("è¯»é”æ˜¯é€šè¿‡ã€select.... lock in share modeã€‘è¯­å¥ç»™è¢«è¯»å–çš„è¡Œè®°å½•æˆ–è¡Œè®°å½•çš„èŒƒå›´ä¸ŠåŠ ä¸€ä¸ªè¯»é”,è®©å…¶ä»–äº‹åŠ¡å¯ä»¥è¯»ï¼Œä½†æ˜¯è¦æƒ³ç”³è¯·åŠ å†™é”ï¼Œé‚£å°±ä¼šè¢«é˜»å¡ã€‚")]),s._v(" "),t("p",[s._v("äº‹åŠ¡ä¸€ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" ydl_student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("lock")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("share")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("mode")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("äº‹åŠ¡äºŒï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v(" ydl_student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" score "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'90'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("å¡ä½äº†ï¼Œè¯´æ˜ç¨‹åºè¢«é˜»å¡ï¼Œç¡®å®åŠ äº†é”ã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220517195919549.32b88fda.png",alt:"image-20220517195919549"}})]),s._v(" "),t("p",[s._v("sé”æ˜¯å¯ä»¥è¢«å¤šä¸ªäº‹åŠ¡åŒæ—¶è·å–çš„ï¼Œæˆ‘ä»¬åœ¨ä¸¤ä¸ªä¸åŒçš„äº‹åŠ¡ä¸­åˆ†åˆ«å¯¹åŒä¸€è¡Œæ•°æ®åŠ ä¸Šsé”ï¼Œç»“æœéƒ½å¯ä»¥æˆåŠŸï¼Œå¦‚ä¸‹å›¾ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220517202512738.401cab24.png",alt:"image-20220517202512738"}})]),s._v(" "),t("h4",{attrs:{id:"_2ã€xé”"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€xé”"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_2%E3%80%81x%E9%94%81",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("2ã€xé”")]),s._v(" "),t("p",[s._v("å†™é”ï¼Œä¹Ÿå«æ’ä»–é”ï¼Œæˆ–è€…å«ç‹¬å æ‰€ï¼Œç®€ç§°xé”ï¼ˆexclusiveï¼‰ã€‚ä¸€ä¸ªäº‹åŠ¡è·å–äº†ä¸€ä¸ªæ•°æ®è¡Œçš„å†™é”ï¼Œæ—¢å¯ä»¥è¯»è¯¥è¡Œçš„è®°å½•ï¼Œä¹Ÿå¯ä»¥ä¿®æ”¹è¯¥è¡Œçš„è®°å½•ã€‚ä½†å…¶ä»–äº‹åŠ¡å°±ä¸èƒ½å†è·å–è¯¥è¡Œçš„å…¶ä»–ä»»ä½•çš„é”ï¼ŒåŒ…æ‹¬sé”ï¼Œç›´åˆ°å½“å‰äº‹åŠ¡å°†é”é‡Šæ”¾ã€‚ã€è¿™ä¿è¯äº†å…¶ä»–äº‹åŠ¡åœ¨å½“å‰äº‹åŠ¡é‡Šæ”¾é”ä¹‹å‰ä¸èƒ½å†ä¿®æ”¹æ•°æ®ã€‘ã€‚")]),s._v(" "),t("p",[s._v("**æ³¨ï¼š**å†™é”æ˜¯ç‹¬å é”ï¼Œåªæœ‰ä¸€ä¸ªäº‹åŠ¡å¯ä»¥æŒæœ‰ï¼Œå½“è¿™ä¸ªäº‹åŠ¡æŒæœ‰å†™é”æ—¶ï¼Œè¢«é”çš„æ•°æ®å°±ä¸èƒ½è¢«å…¶ä»–äº‹åŠ¡ä¿®æ”¹ã€‚")]),s._v(" "),t("p",[s._v("ï¼ˆ1ï¼‰ä¸€äº›DMLè¯­å¥çš„æ“ä½œéƒ½ä¼šå¯¹è¡Œè®°å½•åŠ å†™é”ã€‚")]),s._v(" "),t("p",[s._v("äº‹åŠ¡ä¸€ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v(" ydl_student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" score "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'90'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("äº‹åŠ¡äºŒï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v(" ydl_student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" score "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'88'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("å¡ä½äº†ï¼Œè¯´æ˜ç¨‹åºè¢«é˜»å¡ï¼Œç¡®å®åŠ äº†é”ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬å‘ç°å…¶ä»–äº‹åŠ¡è¿˜èƒ½è¯»ï¼Œæœ‰ç‚¹ä¸ç¬¦åˆé€»è¾‘ï¼Œè¿™æ˜¯åº”ä¸ºmysqlå®ç°äº†MVCCæ¨¡å‹ï¼Œåè¾¹ä¼šè¯¦ç»†ä»‹ç»ã€‚")]),s._v(" "),t("p",[s._v("ï¼ˆ2ï¼‰æ¯”è¾ƒç‰¹æ®Šçš„å°±æ˜¯select for updateï¼Œå®ƒä¼šå¯¹è¯»å–çš„è¡Œè®°å½•ä¸ŠåŠ ä¸€ä¸ªå†™é”ï¼Œé‚£ä¹ˆå…¶ä»–ä»»ä½•äº‹åŠ¡ä¸èƒ½å¯¹è¢«é”å®šçš„è¡Œä¸ŠåŠ ä»»ä½•é”äº†ï¼Œè¦ä¸ç„¶ä¼šè¢«é˜»å¡ã€‚")]),s._v(" "),t("p",[s._v("äº‹åŠ¡ä¸€ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" ydl_student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("äº‹åŠ¡äºŒï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v(" teacher "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'lucy2'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("å¡ä½äº†ï¼Œè¯´æ˜åŠ äº†é”äº†ã€‚")]),s._v(" "),t("p",[s._v("ï¼ˆ3ï¼‰xé”æ˜¯åªèƒ½è¢«ä¸€ä¸ªäº‹åŠ¡è·å–ï¼Œæˆ‘ä»¬åœ¨ä¸¤ä¸ªä¸åŒçš„äº‹åŠ¡ä¸­åˆ†åˆ«å¯¹åŒä¸€è¡Œæ•°æ®åŠ ä¸Šxé”ï¼Œå‘ç°åè€…ä¼šè¢«é˜»å¡ï¼Œå¦‚ä¸‹å›¾ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220517202800421.b9a51153.png",alt:"image-20220517202800421"}})]),s._v(" "),t("h4",{attrs:{id:"_3ã€è®°å½•é”-record-lock"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3ã€è®°å½•é”-record-lock"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_3%E3%80%81%E8%AE%B0%E5%BD%95%E9%94%81-record-lock",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("3ã€è®°å½•é”ï¼ˆRecord Lockï¼‰")]),s._v(" "),t("p",[s._v("è®°å½•é”å°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„è¡Œé”ï¼Œåªæœ‰innodbæ‰æ”¯æŒï¼Œæˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹å››ä¸ªæ¡ˆä¾‹æ¥éªŒè¯è®°å½•é”çš„å­˜åœ¨ï¼š")]),s._v(" "),t("p",[s._v("ï¼ˆ1ï¼‰ä¸¤ä¸ªäº‹åŠ¡ä¿®æ”¹ã€åŒä¸€è¡Œã€‘è®°å½•ï¼Œè¯¥åœºæ™¯ä¸‹ï¼Œwhereæ¡ä»¶ä¸­çš„åˆ—ä¸åŠ ç´¢å¼•ã€‚")]),s._v(" "),t("p",[s._v("äº‹åŠ¡ä¸€ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v(" ydl_student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" score "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'77'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jack'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("äº‹åŠ¡äºŒï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v(" ydl_student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" score "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'80'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jack'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("å‘ç°äº‹åŠ¡äºŒå¡ä½äº†ï¼Œåªæœ‰äº‹åŠ¡ä¸€æäº¤äº†ï¼Œäº‹åŠ¡äºŒæ‰èƒ½ç»§ç»­æ‰§è¡Œï¼Œå¾ˆæ˜æ˜¾ï¼Œè¿™ä¸€è¡Œæ•°æ®è¢«ã€é”ã€‘ä½äº†ã€‚")]),s._v(" "),t("p",[s._v("ï¼ˆ2ï¼‰ä¸¤ä¸ªäº‹åŠ¡ä¿®æ”¹åŒè¡¨ã€ä¸åŒè¡Œã€‘è®°å½•ï¼Œæ­¤æ—¶whereæ¡ä»¶ä¹Ÿä¸åŠ ç´¢ã€‚")]),s._v(" "),t("p",[s._v("äº‹åŠ¡ä¸€ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v(" ydl_student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" score "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'76'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hellen'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("äº‹åŠ¡äºŒï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v(" ydl_student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" score "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'66'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jack'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("ç°äº‹åŠ¡äºŒå¡ä½äº†ï¼Œåªæœ‰äº‹åŠ¡ä¸€æäº¤äº†ï¼Œäº‹åŠ¡äºŒæ‰èƒ½ç»§ç»­æ‰§è¡Œï¼Œå¾ˆæ˜æ˜¾ï¼Œè¡¨è¢«ã€é”ã€‘ä½äº†ã€‚")]),s._v(" "),t("p",[s._v("ï¼ˆ3ï¼‰ä¸¤ä¸ªäº‹åŠ¡ä¿®æ”¹ã€åŒä¸€è¡Œã€‘è®°å½•ï¼Œwhereæ¡ä»¶åŠ ç´¢å¼•")]),s._v(" "),t("p",[s._v("äº‹åŠ¡ä¸€ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v(" ydl_student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" score "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'99'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jack'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("äº‹åŠ¡äºŒï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v(" ydl_student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" score "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'79'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jack'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("ç°äº‹åŠ¡äºŒå¡ä½äº†ï¼Œåªæœ‰äº‹åŠ¡ä¸€æäº¤äº†ï¼Œäº‹åŠ¡äºŒæ‰èƒ½ç»§ç»­æ‰§è¡Œï¼Œå¾ˆæ˜æ˜¾ï¼Œè¿™ä¸€è¡Œæ•°æ®è¢«ã€é”ã€‘ä½äº†ã€‚")]),s._v(" "),t("p",[s._v("ï¼ˆ4ï¼‰ä¸¤ä¸ªäº‹åŠ¡ä¿®æ”¹åŒè¡¨ã€ä¸åŒè¡Œã€‘è®°å½•ï¼Œæ­¤æ—¶whereæ¡ä»¶åŠ ç´¢ã€‚")]),s._v(" "),t("p",[s._v("äº‹åŠ¡ä¸€ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v(" ydl_student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" score "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'77'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hellen'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("äº‹åŠ¡äºŒï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v(" ydl_student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" score "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'77'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jack'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("å‘ç°éƒ½å¯ä»¥é¡ºåˆ©ä¿®æ”¹ï¼Œè¯´æ˜é”çš„çš„ç¡®æ˜¯è¡Œã€‚")]),s._v(" "),t("p",[s._v("**è¯æ˜ï¼š**è¡Œé”æ˜¯åŠ åœ¨ç´¢å¼•ä¸Šçš„ï¼Œè¿™æ˜¯æ ‡å‡†çš„è¡Œçº§é”ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_4ã€é—´éš™é”-gap-lock"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4ã€é—´éš™é”-gap-lock"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_4%E3%80%81%E9%97%B4%E9%9A%99%E9%94%81-gap-lock",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("4ã€é—´éš™é”ï¼ˆGAP Lockï¼‰")]),s._v(" "),t("p",[s._v("é—´éš™é”å¸®æˆ‘ä»¬è§£å†³äº†mysqlåœ¨rrçº§åˆ«ä¸‹çš„ä¸€éƒ¨åˆ†å¹»è¯»é—®é¢˜ã€‚é—´éš™é”é”å®šçš„æ˜¯è®°å½•èŒƒå›´ï¼Œä¸åŒ…å«è®°å½•æœ¬èº«ï¼Œä¹Ÿå°±æ˜¯ä¸å…è®¸åœ¨æŸä¸ªèŒƒå›´å†…æ’å…¥æ•°æ®ã€‚")]),s._v(" "),t("p",[s._v("é—´éš™é”ç”Ÿæˆçš„æ¡ä»¶ï¼š")]),s._v(" "),t("p",[s._v("1ã€Aäº‹åŠ¡ä½¿ç”¨whereè¿›è¡ŒèŒƒå›´æ£€ç´¢æ—¶æœªæäº¤äº‹åŠ¡ï¼Œæ­¤æ—¶Bäº‹åŠ¡å‘Aæ»¡è¶³æ£€ç´¢æ¡ä»¶çš„èŒƒå›´å†…æ’å…¥æ•°æ®ã€‚")]),s._v(" "),t("p",[s._v("2ã€whereæ¡ä»¶å¿…é¡»æœ‰ç´¢å¼•ã€‚")]),s._v(" "),t("p",[s._v("ç¬¬ä¸€æ­¥æŠŠteacherè¡¨çš„idçš„4æ”¹æˆ8")]),s._v(" "),t("p",[s._v("äº‹åŠ¡ä¸€ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" ydl_student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("between")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("lock")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("share")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("mode")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("äº‹åŠ¡äºŒï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" ydl_student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'tom'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("66")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'d'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("å‘ç°å¡ä½äº†ï¼Œç¬¬ä¸€ä¸ªäº‹åŠ¡ä¼šå°†idåœ¨3åˆ°7ä¹‹é—´çš„æ•°æ®å…¨éƒ¨é”å®šï¼Œä¸å…è®¸åœ¨ç¼éš™é—´æ’å…¥ã€‚")]),s._v(" "),t("p",[s._v("äº‹åŠ¡ä¸‰ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" ydl_student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'tom'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("66")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'d'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("æ’å…¥ä¸€ä¸ªidä¸º11çš„æ•°æ®ï¼Œç«Ÿç„¶æˆåŠŸäº†ï¼Œå› ä¸º11ä¸åœ¨äº‹åŠ¡ä¸€çš„æ£€ç´¢çš„èŒƒå›´ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_5ã€è®°å½•é”å’Œé—´éš™é”çš„ç»„åˆ-next-key-lock"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5ã€è®°å½•é”å’Œé—´éš™é”çš„ç»„åˆ-next-key-lock"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_5%E3%80%81%E8%AE%B0%E5%BD%95%E9%94%81%E5%92%8C%E9%97%B4%E9%9A%99%E9%94%81%E7%9A%84%E7%BB%84%E5%90%88-next-key-lock",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("5ã€è®°å½•é”å’Œé—´éš™é”çš„ç»„åˆï¼ˆnext-key lockï¼‰")]),s._v(" "),t("p",[t("strong",[s._v("ä¸´é”®é”")]),s._v("ï¼Œæ˜¯"),t("strong",[s._v("è®°å½•é”ä¸é—´éš™é”çš„ç»„åˆ")]),s._v("ï¼Œå®ƒçš„å°é”èŒƒå›´ï¼Œæ—¢åŒ…å«ã€ç´¢å¼•è®°å½•ã€‘ï¼ŒåˆåŒ…å«ã€ç´¢å¼•åŒºé—´ã€‘ã€‚")]),s._v(" "),t("p",[s._v("**æ³¨ï¼š*"),t("em",[s._v("ä¸´é”®é”çš„ä¸»è¦ç›®çš„ï¼Œä¹Ÿæ˜¯ä¸ºäº†é¿å…*"),t("em",[s._v("å¹»è¯»")])]),s._v("(Phantom Read)ã€‚å¦‚æœæŠŠäº‹åŠ¡çš„éš”ç¦»çº§åˆ«é™çº§ä¸ºRCï¼Œä¸´é”®é”åˆ™ä¹Ÿä¼šå¤±æ•ˆã€‚")]),s._v(" "),t("h4",{attrs:{id:"_6ã€mdlé”"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6ã€mdlé”"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_6%E3%80%81mdl%E9%94%81",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("6ã€MDLé”")]),s._v(" "),t("p",[s._v("MySQL 5.5å¼•å…¥äº†meta data lockï¼Œç®€ç§°MDLé”ï¼Œç”¨äºä¿è¯è¡¨ä¸­"),t("code",[s._v("å…ƒæ•°æ®")]),s._v("çš„ä¿¡æ¯ã€‚åœ¨ä¼šè¯Aä¸­ï¼Œè¡¨å¼€å¯äº†æŸ¥è¯¢äº‹åŠ¡åï¼Œä¼šè‡ªåŠ¨è·å¾—ä¸€ä¸ªMDLé”ï¼Œä¼šè¯Bå°±ä¸å¯ä»¥æ‰§è¡Œä»»ä½•DDLè¯­å¥ï¼Œä¸èƒ½æ‰§è¡Œä¸ºè¡¨ä¸­æ·»åŠ å­—æ®µçš„æ“ä½œï¼Œä¼šç”¨MDLé”æ¥ä¿è¯æ•°æ®ä¹‹é—´çš„ä¸€è‡´æ€§ã€‚")]),s._v(" "),t("p",[s._v("å…ƒæ•°æ®å°±æ˜¯æè¿°æ•°æ®çš„æ•°æ®ï¼Œä¹Ÿå°±æ˜¯ä½ çš„è¡¨ç»“æ„ã€‚æ„è¯†æ˜¯åœ¨ä½ å¼€å¯äº†äº‹åŠ¡ä¹‹åè·å¾—äº†æ„å‘é”ï¼Œå…¶ä»–äº‹åŠ¡å°±ä¸èƒ½æ›´æ”¹ä½ çš„è¡¨ç»“æ„ã€‚MDLé”éƒ½æ˜¯ä¸ºäº†é˜²æ­¢åœ¨äº‹åŠ¡è¿›è¡Œä¸­ï¼Œæ‰§è¡ŒDDLè¯­å¥å¯¼è‡´æ•°æ®ä¸ä¸€è‡´ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_7ã€æ­»é”é—®é¢˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7ã€æ­»é”é—®é¢˜"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_7%E3%80%81%E6%AD%BB%E9%94%81%E9%97%AE%E9%A2%98",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("7ã€æ­»é”é—®é¢˜")]),s._v(" "),t("p",[s._v("å‘ç”Ÿæ­»é”çš„"),t("strong",[s._v("å¿…è¦æ¡ä»¶")]),s._v("æœ‰4ä¸ªï¼Œåˆ†åˆ«ä¸ºäº’æ–¥æ¡ä»¶ã€ä¸å¯å‰¥å¤ºæ¡ä»¶ã€è¯·æ±‚ä¸ä¿æŒæ¡ä»¶å’Œå¾ªç¯ç­‰å¾…æ¡ä»¶ï¼š")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("äº’æ–¥æ¡ä»¶")]),s._v("ï¼Œåœ¨ä¸€æ®µæ—¶é—´å†…ï¼Œè®¡ç®—æœºä¸­çš„æŸä¸ªèµ„æºåªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹å ç”¨ã€‚æ­¤æ—¶ï¼Œå¦‚æœå…¶ä»–è¿›ç¨‹è¯·æ±‚è¯¥èµ„æºï¼Œåˆ™åªèƒ½ç­‰å¾…ã€‚")]),s._v(" "),t("li",[t("strong",[s._v("ä¸å¯å‰¥å¤ºæ¡ä»¶")]),s._v("ï¼ŒæŸä¸ªè¿›ç¨‹è·å¾—çš„èµ„æºåœ¨ä½¿ç”¨å®Œæ¯•ä¹‹å‰ï¼Œä¸èƒ½è¢«å…¶ä»–è¿›ç¨‹å¼ºè¡Œå¤ºèµ°ï¼Œåªèƒ½ç”±è·å¾—èµ„æºçš„è¿›ç¨‹ä¸»åŠ¨é‡Šæ”¾ã€‚")]),s._v(" "),t("li",[t("strong",[s._v("è¯·æ±‚ä¸ä¿æŒæ¡ä»¶")]),s._v("ï¼Œè¿›ç¨‹å·²ç»è·å¾—äº†è‡³å°‘ä¸€ä¸ªèµ„æºï¼Œåˆè¦è¯·æ±‚å…¶ä»–èµ„æºï¼Œä½†è¯·æ±‚çš„èµ„æºå·²ç»è¢«å…¶ä»–è¿›ç¨‹å æœ‰ï¼Œæ­¤æ—¶è¯·æ±‚çš„è¿›ç¨‹å°±ä¼šè¢«é˜»å¡ï¼Œå¹¶ä¸”ä¸ä¼šé‡Šæ”¾è‡ªå·±å·²è·å¾—çš„èµ„æºã€‚")]),s._v(" "),t("li",[t("strong",[s._v("å¾ªç¯ç­‰å¾…æ¡ä»¶")]),s._v("ï¼Œç³»ç»Ÿä¸­çš„è¿›ç¨‹ä¹‹é—´ç›¸äº’ç­‰å¾…ï¼ŒåŒæ—¶å„è‡ªå ç”¨çš„èµ„æºåˆä¼šè¢«ä¸‹ä¸€ä¸ªè¿›ç¨‹æ‰€è¯·æ±‚ã€‚ä¾‹å¦‚æœ‰è¿›ç¨‹Aã€è¿›ç¨‹Bå’Œè¿›ç¨‹Cä¸‰ä¸ªè¿›ç¨‹ï¼Œè¿›ç¨‹Aè¯·æ±‚çš„èµ„æºè¢«è¿›ç¨‹Bå ç”¨ï¼Œè¿›ç¨‹Bè¯·æ±‚çš„èµ„æºè¢«è¿›ç¨‹Cå ç”¨ï¼Œè¿›ç¨‹Cè¯·æ±‚çš„èµ„æºè¢«è¿›ç¨‹Aå ç”¨ï¼Œäºæ˜¯å½¢æˆäº†å¾ªç¯ç­‰å¾…æ¡ä»¶ï¼Œå¦‚å›¾1-7æ‰€ç¤ºã€‚")])]),s._v(" "),t("p",[s._v("æˆ‘æ¨¡æ‹Ÿäº†ä¸€ä¸ªæ­»é”åœºæ™¯ï¼Œå¦‚ä¸‹ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220517205641323.59d24a58.png",alt:"image-20220517205641323"}})]),s._v(" "),t("p",[s._v("InnoDBä½¿ç”¨çš„æ˜¯è¡Œçº§é”ï¼Œåœ¨æŸç§æƒ…å†µä¸‹ä¼šäº§ç”Ÿæ­»é”é—®é¢˜ï¼Œæ‰€ä»¥InnoDBå­˜å‚¨å¼•æ“é‡‡ç”¨äº†ä¸€ç§å«ä½œ"),t("strong",[s._v("ç­‰å¾…å›¾")]),s._v("ï¼ˆwait-for graphï¼‰çš„æ–¹æ³•æ¥è‡ªåŠ¨æ£€æµ‹æ­»é”ï¼Œå¦‚æœå‘ç°æ­»é”ï¼Œå°±ä¼šè‡ªåŠ¨å›æ»šä¸€ä¸ªäº‹åŠ¡ã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220517205123881.a8b4a1ca.png",alt:"image-20220517205123881"}})]),s._v(" "),t("p",[t("strong",[s._v("åœ¨MySQLä¸­ï¼Œé€šå¸¸é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼æ¥é¿å…æ­»é”ã€‚")])]),s._v(" "),t("ul",[t("li",[s._v("å°½é‡è®©æ•°æ®è¡¨ä¸­çš„æ•°æ®æ£€ç´¢éƒ½é€šè¿‡ç´¢å¼•æ¥å®Œæˆï¼Œé¿å…æ— æ•ˆç´¢å¼•å¯¼è‡´è¡Œé”å‡çº§ä¸ºè¡¨é”ã€‚")]),s._v(" "),t("li",[s._v("åˆç†è®¾è®¡ç´¢å¼•ï¼Œå°½é‡ç¼©å°é”çš„èŒƒå›´ã€‚")]),s._v(" "),t("li",[s._v("å°½é‡å‡å°‘æŸ¥è¯¢æ¡ä»¶çš„èŒƒå›´ï¼Œå°½é‡é¿å…é—´éš™é”æˆ–ç¼©å°é—´éš™é”çš„èŒƒå›´ã€‚")]),s._v(" "),t("li",[s._v("å°½é‡æ§åˆ¶äº‹åŠ¡çš„å¤§å°ï¼Œå‡å°‘ä¸€æ¬¡äº‹åŠ¡é”å®šçš„èµ„æºæ•°é‡ï¼Œç¼©çŸ­é”å®šèµ„æºçš„æ—¶é—´ã€‚å¦‚æœä¸€æ¡SQLè¯­å¥æ¶‰åŠäº‹åŠ¡åŠ é”æ“ä½œï¼Œåˆ™å°½é‡å°†å…¶æ”¾åœ¨æ•´ä¸ªäº‹åŠ¡çš„æœ€åæ‰§è¡Œã€‚")])]),s._v(" "),t("h3",{attrs:{id:"äºŒã€è¡¨é”"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€è¡¨é”"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#%E4%BA%8C%E3%80%81%E8%A1%A8%E9%94%81",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("äºŒã€è¡¨é”")]),s._v(" "),t("p",[s._v("1ã€å¯¹äºInnoDBè¡¨ï¼Œåœ¨ç»å¤§éƒ¨åˆ†æƒ…å†µä¸‹éƒ½åº”è¯¥ä½¿ç”¨ã€è¡Œçº§é”ã€‘ï¼Œå› ä¸ºäº‹åŠ¡å’Œè¡Œé”å¾€å¾€æ˜¯æˆ‘ä»¬ä¹‹æ‰€ä»¥é€‰æ‹©InnoDBè¡¨çš„ç†ç”±ã€‚ä½†åœ¨ä¸ªå¦ç‰¹æ®Šäº‹åŠ¡ä¸­ï¼Œä¹Ÿå¯ä»¥è€ƒè™‘ä½¿ç”¨è¡¨çº§é”ã€‚")]),s._v(" "),t("ul",[t("li",[s._v("ç¬¬ä¸€ç§æƒ…å†µæ˜¯ï¼šäº‹åŠ¡éœ€è¦æ›´æ–°ã€å¤§éƒ¨åˆ†æˆ–å…¨éƒ¨æ•°æ®ã€‘ï¼Œè¡¨åˆæ¯”è¾ƒå¤§ï¼Œå¦‚æœä½¿ç”¨é»˜è®¤çš„è¡Œé”ï¼Œä¸ä»…è¿™ä¸ªäº‹åŠ¡æ‰§è¡Œæ•ˆç‡ä½ï¼Œè€Œä¸”å¯èƒ½é€ æˆå…¶ä»–äº‹åŠ¡é•¿æ—¶é—´é”ç­‰å¾…å’Œé”å†²çªï¼Œè¿™ç§æƒ…å†µä¸‹å¯ä»¥è€ƒè™‘ä½¿ç”¨è¡¨é”æ¥æé«˜è¯¥äº‹åŠ¡çš„æ‰§è¡Œé€Ÿåº¦ã€‚")]),s._v(" "),t("li",[s._v("ç¬¬äºŒç§æƒ…å†µæ˜¯ï¼šäº‹åŠ¡æ¶‰åŠå¤šä¸ªè¡¨ï¼Œæ¯”è¾ƒå¤æ‚ï¼Œå¾ˆå¯èƒ½å¼•èµ·æ­»é”ï¼Œé€ æˆå¤§é‡äº‹åŠ¡å›æ»šã€‚è¿™ç§æƒ…å†µä¹Ÿå¯ä»¥è€ƒè™‘ä¸€æ¬¡æ€§é”å®šäº‹åŠ¡æ¶‰åŠçš„è¡¨ï¼Œä»è€Œé¿å…æ­»é”ã€å‡å°‘æ•°æ®åº“å› äº‹åŠ¡å›æ»šå¸¦æ¥çš„å¼€é”€ã€‚")])]),s._v(" "),t("p",[s._v("2ã€åœ¨InnoDBä¸‹ ï¼Œä¸»åŠ¨ä¸Šè¡¨é”çš„æ–¹å¼å¦‚ä¸‹ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("lock")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("tables")]),s._v(" teacher "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("write")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("read")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" teacher"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("commit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("unlock")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("tables")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("ä½¿ç”¨æ—¶æœ‰å‡ ç‚¹éœ€è¦é¢å¤–æ³¨æ„ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("ä½¿ç”¨ã€LOCK TALBESã€‘è™½ç„¶å¯ä»¥ç»™InnoDBåŠ è¡¨çº§é”ï¼Œä½†å¿…é¡»è¯´æ˜çš„æ˜¯ï¼Œè¡¨é”ä¸æ˜¯ç”±InnoDBå­˜å‚¨å¼•æ“å±‚ç®¡ç†çš„ï¼Œè€Œæ˜¯ç”±å…¶ä¸Šä¸€å±‚ï¼­ySQL Serverè´Ÿè´£çš„ï¼Œä»…å½“autocommit=0ã€innodb_table_lock=1ï¼ˆé»˜è®¤è®¾ç½®ï¼‰æ—¶ï¼ŒInnoDBå±‚æ‰èƒ½æ„ŸçŸ¥MySQLåŠ çš„è¡¨é”ï¼Œï¼­ySQL Serveræ‰èƒ½æ„ŸçŸ¥InnoDBåŠ çš„è¡Œé”ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼ŒInnoDBæ‰èƒ½è‡ªåŠ¨è¯†åˆ«æ¶‰åŠè¡¨çº§é”çš„æ­»é”ï¼›å¦åˆ™ï¼ŒInnoDBå°†æ— æ³•è‡ªåŠ¨æ£€æµ‹å¹¶å¤„ç†è¿™ç§æ­»é”ã€‚")]),s._v(" "),t("li",[s._v("åœ¨ç”¨LOCAK TABLESå¯¹InnoDBåŠ é”æ—¶è¦æ³¨æ„ï¼Œäº‹åŠ¡ç»“æŸå‰ï¼Œä¸è¦ç”¨UNLOCAK TABLESé‡Šæ”¾è¡¨é”ï¼Œå› ä¸ºUNLOCK TABLESä¼šéšå«åœ°æäº¤äº‹åŠ¡ï¼›COMMITæˆ–ROLLBACKä¸èƒ½é‡Šæ”¾ç”¨LOCAK TABLESåŠ çš„è¡¨çº§é”ï¼Œå¿…é¡»ç”¨UNLOCK TABLESé‡Šæ”¾è¡¨é”ï¼Œæ­£ç¡®çš„æ–¹å¼è§å¦‚ä¸‹è¯­å¥ã€‚")]),s._v(" "),t("li",[s._v("è¡¨é”çš„åŠ›åº¦å¾ˆå¤§ï¼Œæ…ç”¨ã€‚")])]),s._v(" "),t("h3",{attrs:{id:"ä¸‰ã€ä»å¦ä¸€ä¸ªè§’åº¦åŒºåˆ†é”çš„åˆ†ç±»"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰ã€ä»å¦ä¸€ä¸ªè§’åº¦åŒºåˆ†é”çš„åˆ†ç±»"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#%E4%B8%89%E3%80%81%E4%BB%8E%E5%8F%A6%E4%B8%80%E4%B8%AA%E8%A7%92%E5%BA%A6%E5%8C%BA%E5%88%86%E9%94%81%E7%9A%84%E5%88%86%E7%B1%BB",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ä¸‰ã€ä»å¦ä¸€ä¸ªè§’åº¦åŒºåˆ†é”çš„åˆ†ç±»")]),s._v(" "),t("h4",{attrs:{id:"_1ã€ä¹è§‚é”"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€ä¹è§‚é”"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_1%E3%80%81%E4%B9%90%E8%A7%82%E9%94%81",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("1ã€ä¹è§‚é”")]),s._v(" "),t("p",[s._v('ä¹è§‚é”å¤§å¤šæ˜¯åŸºäºæ•°æ®ã€ç‰ˆæœ¬è®°å½•æœºåˆ¶ã€‘å®ç°ï¼Œä¸€èˆ¬æ˜¯ç»™æ•°æ®åº“è¡¨å¢åŠ ä¸€ä¸ª"version"å­—æ®µã€‚')]),s._v(" "),t("p",[s._v("è¯»å–æ•°æ®æ—¶ï¼Œå°†æ­¤ç‰ˆæœ¬å·ä¸€åŒè¯»å‡ºï¼Œ")]),s._v(" "),t("p",[s._v("æ›´æ–°æ—¶ï¼Œå¯¹æ­¤ç‰ˆæœ¬å·åŠ ä¸€ã€‚æ­¤æ—¶å°†æäº¤æ•°æ®çš„ç‰ˆæœ¬æ•°æ®ä¸æ•°æ®åº“è¡¨å¯¹åº”è®°å½•çš„å½“å‰ç‰ˆæœ¬ä¿¡æ¯è¿›è¡Œæ¯”å¯¹ï¼Œå¦‚æœæäº¤çš„æ•°æ®ç‰ˆæœ¬å·å¤§äºæ•°æ®åº“è¡¨å½“å‰ç‰ˆæœ¬å·ï¼Œåˆ™äºˆä»¥æ›´æ–°ï¼Œå¦åˆ™è®¤ä¸ºæ˜¯è¿‡æœŸæ•°æ®ã€‚")]),s._v(" "),t("p",[s._v("äº‹åŠ¡ä¸€ï¼š")]),s._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("select * from ydl_student where id = 1;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("äº‹åŠ¡äºŒï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" ydl_student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v(" ydl_student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" score "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("99")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("version "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" version "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" version "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("commit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("äº‹åŠ¡ä¸€ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v(" ydl_student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" score "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("version "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" version "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" version "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("commit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("å‘ç°æ›´æ–°å¤±è´¥ï¼Œåº”ä¸ºç‰ˆæœ¬å·è¢«äº‹åŠ¡äºŒã€æå‰ä¿®æ”¹äº†ï¼Œè¿™ä½¿ç”¨äº†ä¸åŠ é”çš„æ–¹å¼ï¼Œå®ç°äº†ä¸€ä¸ªäº‹åŠ¡ä¿®æ”¹æœŸé—´ï¼Œç¦æ­¢å…¶ä»–äº‹åŠ¡ä¿®æ”¹çš„èƒ½åŠ›ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_2ã€æ‚²è§‚é”"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€æ‚²è§‚é”"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_2%E3%80%81%E6%82%B2%E8%A7%82%E9%94%81",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("2ã€æ‚²è§‚é”")]),s._v(" "),t("p",[s._v("æ€»æœ‰åˆæ°‘æƒ³å®³æœ•")]),s._v(" "),t("p",[s._v("æ‚²è§‚é”ä¾é æ•°æ®åº“æä¾›çš„é”æœºåˆ¶å®ç°ã€‚MySQLä¸­çš„å…±äº«é”å’Œæ’å®ƒé”éƒ½æ˜¯æ‚²è§‚é”ã€‚æ•°æ®åº“çš„å¢åˆ æ”¹æ“ä½œé»˜è®¤éƒ½ä¼šåŠ æ’ä»–é”ï¼Œè€ŒæŸ¥è¯¢ä¸ä¼šåŠ ä»»ä½•é”ã€‚æ­¤å¤„ä¸èµ˜è¿°ã€‚")]),s._v(" "),t("h2",{attrs:{id:"ç¬¬å…«ç« -æ—¥å¿—ç³»ç»Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç¬¬å…«ç« -æ—¥å¿—ç³»ç»Ÿ"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#%E7%AC%AC%E5%85%AB%E7%AB%A0-%E6%97%A5%E5%BF%97%E7%B3%BB%E7%BB%9F",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ç¬¬å…«ç«  æ—¥å¿—ç³»ç»Ÿ")]),s._v(" "),t("p",[s._v("mysqlç»™æˆ‘ä»¬æä¾›äº†å¾ˆå¤šæœ‰ç”¨çš„æ—¥å¿—ï¼Œè¿™æ˜¯mysqlæœåŠ¡å±‚ç»™æˆ‘ä»¬æä¾›çš„ï¼š")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("æ—¥å¿—ç±»å‹")]),s._v(" "),t("th",[s._v("å†™å…¥æ—¥å¿—çš„ä¿¡æ¯")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("äºŒè¿›åˆ¶æ—¥å¿—")]),s._v(" "),t("td",[s._v("è®°å½•äº†å¯¹MySQLæ•°æ®åº“æ‰§è¡Œæ›´æ”¹çš„æ‰€æœ‰æ“ä½œ")])]),s._v(" "),t("tr",[t("td",[s._v("æ…¢æŸ¥è¯¢æ—¥å¿—")]),s._v(" "),t("td",[s._v("è®°å½•æ‰€æœ‰æ‰§è¡Œæ—¶é—´è¶…è¿‡ long_query_time ç§’çš„æ‰€æœ‰æŸ¥è¯¢æˆ–ä¸ä½¿ç”¨ç´¢å¼•çš„æŸ¥è¯¢")])]),s._v(" "),t("tr",[t("td",[s._v("é”™è¯¯æ—¥å¿—")]),s._v(" "),t("td",[s._v("è®°å½•åœ¨å¯åŠ¨ï¼Œè¿è¡Œæˆ–åœæ­¢mysqldæ—¶é‡åˆ°çš„é—®é¢˜")])]),s._v(" "),t("tr",[t("td",[s._v("é€šç”¨æŸ¥è¯¢æ—¥å¿—")]),s._v(" "),t("td",[s._v("è®°å½•å»ºç«‹çš„å®¢æˆ·ç«¯è¿æ¥å’Œæ‰§è¡Œçš„è¯­å¥")])]),s._v(" "),t("tr",[t("td",[s._v("ä¸­ç»§æ—¥å¿—")]),s._v(" "),t("td",[s._v("ä»å¤åˆ¶ä¸»æœåŠ¡å™¨æ¥æ”¶çš„æ•°æ®æ›´æ”¹")])])])]),s._v(" "),t("h3",{attrs:{id:"ä¸€ã€bin-logæ—¥å¿—"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€bin-logæ—¥å¿—"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#%E4%B8%80%E3%80%81bin-log%E6%97%A5%E5%BF%97",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ä¸€ã€bin logæ—¥å¿—")]),s._v(" "),t("h4",{attrs:{id:"_1ã€æ¦‚è¿°-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€æ¦‚è¿°-2"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_1%E3%80%81%E6%A6%82%E8%BF%B0",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("1ã€æ¦‚è¿°")]),s._v(" "),t("p",[s._v("äºŒè¿›åˆ¶æ—¥å¿—ï¼ˆbinnary logï¼‰ä»¥ã€äº‹ä»¶å½¢å¼ã€‘è®°å½•äº†å¯¹MySQLæ•°æ®åº“æ‰§è¡Œæ›´æ”¹çš„æ‰€æœ‰æ“ä½œã€‚")]),s._v(" "),t("p",[s._v("binlogè®°å½•äº†æ‰€æœ‰æ•°æ®åº“ã€è¡¨ç»“æ„ã€‘å˜æ›´ï¼ˆä¾‹å¦‚CREATEã€ALTER TABLEâ€¦ï¼‰ä»¥åŠã€è¡¨æ•°æ®ã€‘ä¿®æ”¹ï¼ˆINSERTã€UPDATEã€DELETEâ€¦ï¼‰çš„äºŒè¿›åˆ¶æ—¥å¿—ã€‚ä¸ä¼šè®°å½•SELECTå’ŒSHOWè¿™ç±»æ“ä½œï¼Œå› ä¸ºè¿™ç±»æ“ä½œå¯¹æ•°æ®æœ¬èº«å¹¶æ²¡æœ‰ä¿®æ”¹ï¼Œä½†å¯ä»¥é€šè¿‡æŸ¥è¯¢é€šç”¨æ—¥å¿—æ¥æŸ¥çœ‹MySQLæ‰§è¡Œè¿‡çš„æ‰€æœ‰è¯­å¥ã€‚")]),s._v(" "),t("p",[s._v("binlogæ˜¯mysql serverå±‚ç»´æŠ¤çš„ï¼Œè·Ÿé‡‡ç”¨ä½•ç§å¼•æ“æ²¡æœ‰å…³ç³»ï¼Œè®°å½•çš„æ˜¯æ‰€æœ‰çš„æ›´æ–°æ“ä½œçš„æ—¥å¿—è®°å½•ã€‚binlogæ˜¯åœ¨äº‹åŠ¡æœ€ç»ˆcommitå‰å†™å…¥çš„ã€‚æˆ‘ä»¬æ‰§è¡ŒSELECTç­‰ä¸æ¶‰åŠæ•°æ®æ›´æ–°çš„è¯­å¥æ˜¯ä¸ä¼šè®°binlogçš„ï¼Œè€Œæ¶‰åŠåˆ°æ•°æ®æ›´æ–°åˆ™ä¼šè®°å½•ã€‚è¦æ³¨æ„çš„æ˜¯ï¼Œå¯¹æ”¯æŒäº‹åŠ¡çš„å¼•æ“å¦‚innodbè€Œè¨€ï¼Œå¿…é¡»è¦æäº¤äº†äº‹åŠ¡æ‰ä¼šè®°å½•binlogã€‚")]),s._v(" "),t("p",[s._v("binlog æ–‡ä»¶å†™æ»¡åï¼Œä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ç»§ç»­å†™ï¼Œè€Œä¸ä¼šè¦†ç›–ä»¥å‰çš„æ—¥å¿—ï¼Œè¿™ä¸ªä¹ŸåŒºåˆ«äº redo logï¼Œredo log æ˜¯å¾ªç¯å†™å…¥çš„ï¼Œå³åé¢å†™å…¥çš„å¯èƒ½ä¼šè¦†ç›–å‰é¢å†™å…¥çš„ã€‚")]),s._v(" "),t("p",[s._v("binlogæœ‰ä¸¤ä¸ªå¸¸ç”¨çš„ä½¿ç”¨åœºæ™¯ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("ä¸»ä»å¤åˆ¶ï¼šæˆ‘ä»¬ä¼šä¸“é—¨æœ‰ä¸€ä¸ªç« èŠ‚ä»£é¢†å¤§å®¶æ­å»ºä¸€ä¸ªä¸»ä»åŒæ­¥çš„ä¸¤å°mysqlæœåŠ¡ã€‚")]),s._v(" "),t("li",[s._v("æ•°æ®æ¢å¤ï¼šé€šè¿‡mysqlbinlogå·¥å…·æ¥æ¢å¤æ•°æ®ã€‚")])]),s._v(" "),t("p",[s._v("mysql8ä¸­çš„binLogé»˜è®¤æ˜¯å¼€å¯çš„ï¼Œ5.7é»˜è®¤æ˜¯å…³é—­çš„ï¼Œå¯ä»¥é€šè¿‡å‚æ•°"),t("code",[s._v("log_bin")]),s._v("æ§åˆ¶ï¼š")]),s._v(" "),t("h4",{attrs:{id:"_2ã€æ•°æ®æ¢å¤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€æ•°æ®æ¢å¤"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_2%E3%80%81%E6%95%B0%E6%8D%AE%E6%81%A2%E5%A4%8D",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("2ã€æ•°æ®æ¢å¤")]),s._v(" "),t("p",[s._v("ï¼ˆ1ï¼‰ç¡®è®¤binlogå¼€å¯ï¼Œlog_binå˜é‡çš„å€¼ä¸ºONä»£è¡¨binlogæ˜¯å¼€å¯çŠ¶æ€ï¼š")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("show variables like "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%log_bin%'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("ï¼ˆ2ï¼‰ä¸ºäº†é˜²æ­¢å¹²æ‰°ï¼Œæˆ‘ä»¬flushåˆ·æ–°logæ—¥å¿—ï¼Œè‡ªæ­¤åˆ»ä¼šäº§ç”Ÿä¸€ä¸ªæ–°ç¼–å·çš„binlogæ—¥å¿—æ–‡ä»¶ï¼š")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("flush logs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("ï¼ˆ3ï¼‰æŸ¥çœ‹æ‰€æœ‰binlogæ—¥å¿—åˆ—è¡¨ï¼š")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("show master logs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220507135555872.fabcd807.png",alt:"image-20220507135555872"}})]),s._v(" "),t("p",[s._v("ï¼ˆ4ï¼‰æŸ¥çœ‹masterçŠ¶æ€ï¼Œå³æœ€å(æœ€æ–°)ä¸€ä¸ªbinlogæ—¥å¿—çš„ç¼–å·åç§°ï¼ŒåŠå…¶æœ€åä¸€ä¸ªæ“ä½œäº‹ä»¶posç»“æŸç‚¹(Position)å€¼ï¼Œè¿™ä¸€æ­¥å¯æœ‰å¯æ— ï¼š "),t("img",{attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAyIAAAA/CAYAAAAc7XyGAAANLUlEQVR4nO3dP2zb6BnH8R97Bxw6ebngpgLFmXKQq70VKCyjXbqUSlBocjolnaSiw1lG4S13Q+OigwdRNxSVhuIuU0+TWiTiFWiXFpHR4ja7CWLRRYGbgstgj0VRsINIiZL1h5IpSpS/H0CD/NovX77va4oP+byUcXFx4cm3trYmSTo7O9N7772ntHn9+rU2NjYW3YxYpHkM0truVZk7AAAAaWCEA5HXr18vsi2xWJWTybOzs0U3AQAAAJgbY9gdEQAAAACYp28sugEAAAAAbh4CEQAAAACJIxABAAAAkDgCEQAAAACJe3vWPzw/P9f/1r4VZ1uQcm9dfqX19fVFN+PGOT8/p99TjPHDMMwLjMLcwCrhjggAAACAxBGIAAAAAEgcgQgAAACAxBGIAAAAAEjcfAORf32i+7e+r0//JUlf6ONbP9df57pBrDTXVtbIynanLENP5H5yVDSKcpJoE6Jj/JBWTlFG1lash+hJ/w/z2CaAWMUUiLj61HpHt2+FXtYn+nc8lSOVXNlZQ4bRexU5K0qEU+zv9+X8IL46P4xYTpyj1bvMfbTMbQtzioayqYn80z4v5vX/sowG93Xe++moyOcUsDCx3hG5//v/6NXX/sv5UN9+/0N9/vXf9NP349wK0mNb5bYnz/Pktcs6yV3zjoVZUstrqWRKwYdV90Ojrwzb5Xan3z1Pza19ZYKOWrJ+KjS9bju9ppSL6UQgSr0j+2gJpGX80ibt86Kv/V5VVqJbHzjmzmUTtrJGRi8/Cu9nXo1uQBj3cd9R0chJ3X5t687jKIFPAn0B3BCsEUEyzJI+Khyr/nQ5ri/eJJk724tuQjRW1Q9YY74CGqHeZe6jZW5bqqV8XqweV/aDfW01PVX7IixL1VZJc4m93Vc62S7roLs9U6VW0gEecLMlsEZk1LqQL/RxKJXr/m85Qb1Z+m+HD95+d+3s1TLXVtYoypGjopHR/rFUy/npE92yKPU7KhpZ2XaxW55NTYrJtFw9rR+rkPc/Wvv6aZp+GD9e/eV+nbOktZj3tLtdU6Nb+aTtzlpv2EAfLZU0jd+4Oia1dVz7gqvP/u/01Wlc7384tfOip3Os7PWXUzRkdC/Vj+ujIWWDx9Fxx9wp6zdytQk78lR1hYOCQTMc9ydt07ytreN9HY08qAzbv1F9AWAWsQYin/8kamDxhT6+9Su9//cgleufsv7wHX38lzhbg6Xi2npc29buPVPB7fCTUApEJ02iF3A82N9Sc2QKgqWq11Z5209VuHK1bEL9kqRj7b/Md9PGtP9gpRa6H+9n/A/PjPbHfrhH6YdJ/TmY3vBEqk84AYgkyjjOLnofJS994xeljlFtjTbOtVxDeS/4f3dUNB7rTruXUrNbz8SSKrPM86KWC51k+ztrllpqFmp6bLuSU1TupKx21ZLG9tHVPm+NzW8adsydXL9CqWTNwoSda7/Ucfi9ayvbF5hGO+5PtU1ZqjYLfr8OC86H7d+kdgCYxtzWiHz+szH/mn/5oz7XP/Tr7wWBy3f06y+lV+0VOhOEpGPtZ/wPkkxdu20/l9dpqLZd1pPwB591oHJwZdK8rS3VlJv1KViT6pckbascnGGY97S7YhkY4Tx376OXyow8eY/QD5P60y/vS2/4aOIZwLjW604mwnZnrTd4F7mPkpe68YtUx4i2RhznQjN0QcJpqBY+vvhXqE9ezXLASM+86FsjEspfsqpNbe1nZOROVH7inxiP66NhfT6tCPWHgzgrP+WcMktqeZ48r6lIfznrNq2qPM9Tu3yiXCjAi3eOARhlcWtEvnukP30dWtw+KXhBCoUWq0daUBicEFiqBldVH/hpHrEc+/tPOG4MK6+CThT/5+cc+tM50r52dW/sXJlhu5PqnVsfxSBN4xerCe3bLqvthU7MJ17VHyLN8yKKOPooqfqtvArHdS1qGaFZanWCnlqud2dt3v0HYEGByA9/rPtfHuh3oVSsv/6C7xi5May8Csf7ehCOLsInBK4t25E6CwfbKm8f62U7xvpvGqehmrZ0e9Z9n9Sffnkvz9qV/XiG1Cyn2H9FN65xHKx36O9cs4/mKQ3jd506ZhnnK9uTnOKUdy7SPi9CnGInzaqT8eavWRjXR1fKHNnd/u8FXu7Ten+6VNhU9UeZD5YOytJ+ZsYLT7Ns07WVvZLP5wfAccwxABMt6I7Ij/TLvx/pVWhNyZ9zv9EPFtMYJM5S1fNTCbqLCqVmkGtrlnS7EbodvtUceIqKJJm6t7s9YrHghPpvgOPBfb/Woz4n9aelarusk27++gNpN1oaRl/O++M7avfdOZt9HMfX2xFvH8UrLePXt42Z65hlnAe3Z6iRn9xHaZ8Xfe337xQ7RUO5k06alVl6orKCRw6P66PBsoZul0zJLOlJWd10pAcvt9TL9hs85k6ov7v2Ivp8MEstee1d1TPh/czppHzg1zvhuD/tNs2Sntx53LctNYM5MW7/xrUDwDSMi4sLL3iztrYW+Q/Pz8/1v7VvzaVRSKe3Lr/S+vr6optx45yfny9fvzvFzoneDQr+ZrWy48ccuJalnBdYCswNrBK+RwTANbmyswOP0MzVtL17jxPQVIhj/JgDAIDpEYgAuCZTpSd39LgvlaLtL+oc/H6Izuv6j1mdV703URzjN66OJDEvlt8ixoh5ASwrUrMQG1KzFoPb9OnG+GEY5gVGYW5glXBHBAAAAEDiCEQAAAAAJK4vNevNmzeLbAsAAAAmIDULq+Lt8Jtp1nywHgCDLi8vp1pnhHjQ7+nG+GEY5gVGuby8XHQTgNiQmgUAAAAgcQQiAAAAABJHIAIAAAAgcQQiAAAAABI3MhC5feudJNtxDY6KRlGjvyDVVWVnzDeouhXtGDuquPNpHQAAAICrxt4RSU8wsgiOioYhwzBkXAlkEi5zK9rplo0JurBgnTHcGYh63cpOd+wMw5AxOIBOMVQ+LugGAABIj4mpWSsfjJh7eu491545zR+5quzkdGq35XmevOamSpngBDHpMkfFTEmbTc8vK6iW42R1uXTuyhlGQypcLW2/aCkbjK3nyatavUKnKOPwA7WDMq8q62oVAAAAqRNpjcjKByPTcp+p3iroURC9WAeyszU1nAWUSZIKygdnp1ZeBZ3qjFSzJWJq73kniMiP+I3NjWGRsKvK4ansz/Y0VZwMAACQApEXq48PRhwVjR1VnF6KUNFRX0pJJx2lc2W4LzXFKcrYqcjVYIpK+Kp+OC3Jf/l/E11/Hd3sF7eiHSN0d8HYUaUy2O4B7RdqFfKhK9OmNjal0zM3+TJZOrBPdRi002moVng05R0eLI6rs1Oplhsy791nqmtXOjLGz0cAAIAUmuqpWeODkZZKh9Jn3fQgQ0Yj30knadtS6UiOTO09KqhVf9YNIpxGTYVHezLdih6WNtW8koLiqGjkpCD1yPPUHJLeMkkt11Dei5K+1FLpRbjdD68sZHfPTkduJ+myQKuU6Zys5mrKfpCZ+PtYFsHdks6rbZ8qFwTZ7RdqtUp6kffGzkcAAIA0mioQefX1f8aUZnspJFZeBWVlH/jX8M0NbQbpQlZehVZdz1xJctSo+WlF5oY2VVNucCG201Ata+sglBhv5UdFIqMXdBeaodz6K6lNA/vRbfdd7Wav/oa5sTmyF5Iuk1vRw5Jkt4OT2aY2SxkWrKeUufco9P8hKTz3zT09KrRUf0YkAgAA0i9yIDI+CJmGpQNbqj9z5VYOVeumHFmqep487zPp4bCnRkWru9q9ozLtAvQpnZ6FUsM66TXdPP8Ey9xndbX6UrEs5QtB2hZSLfOBhsTBAAAAKyFSIBJfENJh3t2V6kc6qqt398GtqOJInVSVtuxsSy/a8u+glHTUS5xX5bA29TZrodsfbuWhSq3QAu8owt83Yh3IVqhNzpFK8q9cJ1xm3t1VtnYYCtocNWqjFj9j+bhy+5ZM5VTL7uquqc4dOZX0MBhct6LDWla7dxlbAACQfm9P+oW4gxBJnRSTTUO5U1tts/ezjSNDRs5/X2jKsyTJUrVZkJEz1Ak/srLtglSfbpMFNWT0KlfzWo9BNbX3ma2djCGjW1/wZKOEy8w9PW++kJExVAr2rumpyjNeU+PZQ0Ollv8ma6v9PDTuz5t6YWRk+INbaHo8iAAAAKwE4+LiwgvevP7vN7sFt2+9MzYIeevyK62vr8+8Yado6PCDtp7PclYVfLfCcx5rukwuLy+1tra26GbcOPR7ujF+GIZ5gVGYG1glI++IzOVOSMCt6LBW0COPMAIAAAC4iSamZsXNKRrK1TopJmQPAQAAADdT4oGIVfXkVa9dib9+BAAAAEAaTfU9IgAAAAAQBwIRAAAAAInre2rWmzdvpvrjd999N/YGAQAAYDSemoVV0ReIMLEBAAAAJIHULAAAAACJIxABAAAAkDgCEQAAAACJIxABAAAAkDgCEQAAAACJIxABAAAAkDgCEQAAAACJIxABAAAAkDgCEQAAAACJIxABAAAAkDgCEQAAAACJ+z9jsuXX0dkffQAAAABJRU5ErkJggg==",alt:"image-20220507135613665"}}),s._v(" ï¼ˆ5ï¼‰æ‰§è¡Œsql")]),s._v(" "),t("p",[s._v("å…ˆåˆ›å»ºè¡¨ï¼Œå¹¶æ’å…¥ä¸€äº›æ•°æ®ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" ydl_student"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("ydl_student"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("255")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("score"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("255")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("grade"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("255")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIMARY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ENGINE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("InnoDB")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHARSET")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf8mb4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("ydl_student"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("score"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("grade"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'lucy'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("ydl_student"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("score"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("grade"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'lily'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("ydl_student"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("score"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("grade"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jack'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'c'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("ydl_student"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("score"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("grade"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hellen'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("40")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'d'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("ydl_student"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("score"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("grade"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'tom'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'c'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("ydl_student"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("score"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("grade"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jerry'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'d'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("ydl_student"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("score"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("grade"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'sily'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'d'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("p",[s._v("æ‰§è¡Œåˆ é™¤æ“ä½œï¼Œå‡è£…è¯¯åˆ é™¤ï¼Œç›´æ¥å…¨éƒ¨åˆ é™¤ä¹Ÿå¯ä»¥ï¼ŒæŠŠè¡¨åˆ äº†éƒ½è¡Œï¼Œä¸€æ ·çš„é“ç†ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" ydl_student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("ï¼ˆ6ï¼‰æŸ¥çœ‹binlogæ—¥å¿—ï¼Œæˆ‘ä»¬å› ä¸ºåˆ·æ–°äº†æ—¥å¿—ï¼Œæ‰€ä»¥æœ¬æ¬¡æ“ä½œéƒ½ä¼šåœ¨æœ€æ–°çš„æ—¥å¿—æ–‡ä»¶ä¸Šï¼š")]),s._v(" "),t("p",[s._v("å› ä¸º binlog çš„æ—¥å¿—æ–‡ä»¶æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä¸èƒ½ç”¨æ–‡æœ¬ç¼–è¾‘å™¨ç›´æ¥æ‰“å¼€ï¼Œéœ€è¦ç”¨ç‰¹å®šçš„å·¥å…·æ¥æ‰“å¼€ï¼ŒMySQL æä¾›äº† mysqlbinlog æ¥å¸®åŠ©æˆ‘ä»¬æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶å†…å®¹ï¼š")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŸ¥çœ‹å…¨éƒ¨çš„æ—¥å¿—ä¿¡æ¯")]),s._v("\n/www/server/mysql/bin/mysqlbinlog "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" mysql-bin.000008\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŒ‡å®šä½ç½®èŒƒå›´")]),s._v("\n/usr/bin/mysqlbinlog "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" mysql-bin.000013 --start-position"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" --stop-position"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("986")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŒ‡å®šæ—¶é—´èŒƒå›´")]),s._v("\n/usr/bin/mysqlbinlog "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" mysql-bin.000013 --start-datetime"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2022-06-01 11:18:00"')]),s._v(" --stop-datetime"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2022-06-01 12:18:00"')]),s._v(" \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("çœŸå®çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„æ—¥å¿—æ–‡ä»¶æ¯”è¾ƒå¤æ‚ï¼Œå†…å®¹æ¯”è¾ƒå¤šä½¿ç”¨æ—¶é—´èŒƒå›´æŸ¥è¯¢åä»»ç„¶å¯èƒ½éœ€è¦èŠ±è´¹æ—¶é—´å»æ’æŸ¥é—®é¢˜ï¼Œè¿™é‡Œæˆ‘ä»¬æ‰¾åˆ°äº†è¯¯åˆ é™¤çš„ä½ç½®ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220507143313649.eea2e039.png",alt:"image-20220507143313649"}})]),s._v(" "),t("p",[s._v("ï¼ˆ7ï¼‰æ‰§è¡Œæ¢å¤ï¼Œé€šè¿‡ä¸Šä¸€æ­¥çš„æ“ä½œï¼Œæˆ‘ä»¬æ‰¾åˆ°äº†åˆ é™¤çš„ä½ç½®3228ï¼ˆå³ç¬¬äºŒä¸ªçº¢æ¡†ï¼‰ï¼Œæ‰§è¡Œä¸‹é¢çš„è¯­å¥ï¼š")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("/www/server/mysql/bin/mysqlbinlog "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" mysql-bin.000008 --stop-position"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3228")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" mysql "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-uroot")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("ï¼ˆ8ï¼‰è‡³æ­¤ï¼Œæ•°æ®å·²å®Œå…¨æ¢å¤äº†ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220507143456337.cf176c97.png",alt:"image-20220507143456337"}})]),s._v(" "),t("p",[s._v("binlogçš„æ•°æ®æ¢å¤çš„æœ¬è´¨ï¼Œå°±æ˜¯å°†ä¹‹å‰æ‰§è¡Œè¿‡çš„sqlï¼Œä»å¼€å§‹åˆ°æŒ‡å®šä½ç½®å…¨éƒ¨æ‰§è¡Œä¸€éï¼Œå¦‚æœæŠ¥é”™ã€å½“å‰è¡¨å·²ç»å­˜åœ¨ã€‘ï¼Œå°±å°†æ•°æ®åº“çš„è¡¨åˆ é™¤ï¼Œé‡æ–°æ¢å¤ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_3ã€æ ¼å¼åˆ†ç±»"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3ã€æ ¼å¼åˆ†ç±»"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_3%E3%80%81%E6%A0%BC%E5%BC%8F%E5%88%86%E7%B1%BB",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("3ã€æ ¼å¼åˆ†ç±»")]),s._v(" "),t("p",[s._v("binlog æœ‰ä¸‰ç§æ ¼å¼ï¼Œ ä½¿ç”¨å˜é‡"),t("code",[s._v("binlog_format")]),s._v("æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„æ˜¯å“ªä¸€ç§ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("Statementï¼ˆStatement-Based Replication,SBRï¼‰ï¼šæ¯ä¸€æ¡ä¼šä¿®æ”¹æ•°æ®çš„ SQL éƒ½ä¼šè®°å½•åœ¨ binlog ä¸­ã€‚")]),s._v(" "),t("li",[s._v("Rowï¼ˆRow-Based Replication,RBRï¼‰ï¼šä¸è®°å½• SQL è¯­å¥ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œä»…ä¿å­˜å“ªæ¡è®°å½•è¢«ä¿®æ”¹ã€‚")]),s._v(" "),t("li",[s._v("Mixedï¼ˆMixed-Based Replication,MBRï¼‰ï¼šStatement å’Œ Row çš„æ··åˆä½“ï¼Œå½“å‰é»˜è®¤çš„é€‰é¡¹ï¼Œ5.7ä¸­é»˜è®¤rowã€‚")])]),s._v(" "),t("p",[s._v("æˆ‘ä»¬ä¸¾ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜rowå’Œstatementçš„åŒºåˆ«ï¼Œåœ¨ä¸‹é¢çš„æ’å…¥è¯­å¥ä¸­æˆ‘ä»¬æœ‰ä¸€ä¸ªå‡½æ•°uuid()ï¼Œå¦‚æœæ—¥å¿—æ–‡ä»¶ä»…ä»…ä¿å­˜sqlè¯­å¥ï¼Œä¸‹ä¸€æ¬¡æ‰§è¡Œçš„ç»“æœå¯èƒ½ä¸ä¸€è‡´ï¼Œæ‰€ä»¥Rowæ ¼å¼çš„æ–‡ä»¶ï¼Œä»–ä¿å­˜çš„æ˜¯å…·ä½“å“ªä¸€è¡Œï¼Œä¿®æ”¹æˆäº†ä»€ä¹ˆæ•°æ®ï¼Œè®°å½•çš„æ˜¯æ•°æ®çš„å˜åŒ–ï¼Œä¸æ˜¯ç®€å•çš„sqlï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" ydl_student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("UUID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("45")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'d'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220507150522596.8036d797.png",alt:"image-20220507150522596"}})]),s._v(" "),t("blockquote",[t("p",[s._v("Statementå’Œrowçš„ä¼˜åŠ£")])]),s._v(" "),t("ul",[t("li",[s._v("Statement æ¨¡å¼åªè®°å½•æ‰§è¡Œçš„ SQLï¼Œä¸éœ€è¦è®°å½•æ¯ä¸€è¡Œæ•°æ®çš„å˜åŒ–ï¼Œå› æ­¤æå¤§çš„å‡å°‘äº† binlog çš„æ—¥å¿—é‡ï¼Œé¿å…äº†å¤§é‡çš„ IO æ“ä½œï¼Œæå‡äº†ç³»ç»Ÿçš„æ€§èƒ½ã€‚")]),s._v(" "),t("li",[s._v("ç”±äº Statement æ¨¡å¼åªè®°å½• SQLï¼Œè€Œå¦‚æœä¸€äº› SQL ä¸­ åŒ…å«äº†å‡½æ•°ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šå‡ºç°æ‰§è¡Œç»“æœä¸ä¸€è‡´çš„æƒ…å†µã€‚æ¯”å¦‚è¯´ uuid() å‡½æ•°ï¼Œæ¯æ¬¡æ‰§è¡Œçš„æ—¶å€™éƒ½ä¼šç”Ÿæˆä¸€ä¸ªéšæœºå­—ç¬¦ä¸²ï¼Œåœ¨ master ä¸­è®°å½•äº† uuidï¼Œå½“åŒæ­¥åˆ° slave ä¹‹åï¼Œå†æ¬¡æ‰§è¡Œï¼Œå°±å¾—åˆ°å¦å¤–ä¸€ä¸ªç»“æœäº†ã€‚æ‰€ä»¥ä½¿ç”¨ Statement æ ¼å¼ä¼šå‡ºç°ä¸€äº›æ•°æ®ä¸€è‡´æ€§é—®é¢˜ã€‚")]),s._v(" "),t("li",[s._v("ä» MySQL5.1.5 ç‰ˆæœ¬å¼€å§‹ï¼Œbinlog å¼•å…¥äº† Row æ ¼å¼ï¼ŒRow æ ¼å¼ä¸è®°å½• SQL è¯­å¥ä¸Šä¸‹æ–‡ç›¸å…³ä¿¡æ¯ï¼Œä»…ä»…åªéœ€è¦è®°å½•æŸä¸€æ¡è®°å½•è¢«ä¿®æ”¹æˆä»€ä¹ˆæ ·å­äº†ã€‚")]),s._v(" "),t("li",[s._v("ä¸è¿‡ Row æ ¼å¼ä¹Ÿæœ‰ä¸€ä¸ªå¾ˆå¤§çš„é—®é¢˜ï¼Œé‚£å°±æ˜¯æ—¥å¿—é‡å¤ªå¤§äº†ï¼Œç‰¹åˆ«æ˜¯æ‰¹é‡ updateã€æ•´è¡¨ deleteã€alter è¡¨ç­‰æ“ä½œï¼Œç”±äºè¦è®°å½•æ¯ä¸€è¡Œæ•°æ®çš„å˜åŒ–ï¼Œæ­¤æ—¶ä¼šäº§ç”Ÿå¤§é‡çš„æ—¥å¿—ï¼Œå¤§é‡çš„æ—¥å¿—ä¹Ÿä¼šå¸¦æ¥ IO æ€§èƒ½é—®é¢˜ã€‚")])]),s._v(" "),t("h4",{attrs:{id:"_4ã€æ—¥å¿—æ ¼å¼"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4ã€æ—¥å¿—æ ¼å¼"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_4%E3%80%81%E6%97%A5%E5%BF%97%E6%A0%BC%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("4ã€æ—¥å¿—æ ¼å¼")]),s._v(" "),t("ul",[t("li",[s._v("binlogæ–‡ä»¶ä»¥ä¸€ä¸ªå€¼ä¸º0Xfe62696eçš„é­”æ•°å¼€å¤´ï¼Œè¿™ä¸ªé­”æ•°å¯¹åº”0xfebinã€‚")]),s._v(" "),t("li",[s._v("binlogç”±ä¸€ç³»åˆ—çš„binlog eventæ„æˆã€‚æ¯ä¸ªbinlog eventåŒ…å«headerå’Œdataä¸¤éƒ¨åˆ†ã€‚\n"),t("ul",[t("li",[s._v("headeréƒ¨åˆ†æä¾›çš„æ˜¯eventçš„å…¬å…±çš„ç±»å‹ä¿¡æ¯ï¼ŒåŒ…æ‹¬eventçš„åˆ›å»ºæ—¶é—´ï¼ŒæœåŠ¡å™¨ç­‰ç­‰ã€‚")]),s._v(" "),t("li",[s._v("dataéƒ¨åˆ†æä¾›çš„æ˜¯é’ˆå¯¹è¯¥eventçš„å…·ä½“ä¿¡æ¯ï¼Œå¦‚å…·ä½“æ•°æ®çš„ä¿®æ”¹ã€‚")])])])]),s._v(" "),t("blockquote",[t("p",[s._v("å¸¸è§çš„äº‹ä»¶ç±»å‹æœ‰ï¼š")])]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("FORMAT_DESCRIPTION_EVENT")]),s._v("ï¼šè¯¥éƒ¨åˆ†ä½äºæ•´ä¸ªæ–‡ä»¶çš„å¤´éƒ¨ï¼Œæ¯ä¸ªbinlogæ–‡ä»¶éƒ½å¿…å®šä¼šæœ‰å”¯ä¸€ä¸€ä¸ªè¯¥event")]),s._v(" "),t("li",[t("strong",[s._v("WRITE_ROW_EVENT")]),s._v("ï¼šæ’å…¥æ“ä½œã€‚")]),s._v(" "),t("li",[t("strong",[s._v("DELETE_ROW_EVENT")]),s._v("ï¼šåˆ é™¤æ“ä½œã€‚")]),s._v(" "),t("li",[t("strong",[s._v("UPDATE_ROW_EVENT")]),s._v("ï¼šæ›´æ–°æ“ä½œã€‚è®°è½½çš„æ˜¯ä¸€æ¡è®°å½•çš„å®Œæ•´çš„å˜åŒ–æƒ…å†µï¼Œå³ä»"),t("strong",[s._v("å‰é‡")]),s._v("å˜ä¸º"),t("strong",[s._v("åé‡")]),s._v("çš„è¿‡ç¨‹")]),s._v(" "),t("li",[t("strong",[s._v("ROTATE_EVENT")]),s._v("ï¼šBinlogç»“æŸæ—¶çš„äº‹ä»¶ï¼Œç”¨äºè¯´æ˜ä¸‹ä¸€ä¸ªbinlogæ–‡ä»¶ã€‚")])]),s._v(" "),t("p",[s._v("ä¸€ä¸ªeventçš„ç»“æ„å¦‚ä¸‹ï¼Œæˆ‘ä»¬åœ¨æ¢å¤æ•°æ®çš„æ—¶å€™å·²ç»çœ‹åˆ°äº†ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220507142122405.84f6da7b.png",alt:"image-20220507142122405"}})]),s._v(" "),t("ul",[t("li",[s._v("æ¯ä¸ªæ—¥å¿—çš„æœ€åéƒ½åŒ…å«ä¸€ä¸ª"),t("code",[s._v("rotate event")]),s._v("ç”¨äºè¯´æ˜ä¸‹ä¸€ä¸ªbinlogæ–‡ä»¶ã€‚")]),s._v(" "),t("li",[s._v("binlogç´¢å¼•æ–‡ä»¶æ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œå…¶ä¸­å†…å®¹ä¸ºå½“å‰çš„binlogæ–‡ä»¶åˆ—è¡¨ï¼Œæ¯”å¦‚ä¸‹é¢å°±æ˜¯ä¸€ä¸ªmysql-bin.indexæ–‡ä»¶çš„å†…å®¹ã€‚")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220507153011412.b6b2b640.png",alt:"image-20220507153011412"}})]),s._v(" "),t("h4",{attrs:{id:"_5ã€binlogåˆ·ç›˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5ã€binlogåˆ·ç›˜"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_5%E3%80%81binlog%E5%88%B7%E7%9B%98",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("5ã€binlogåˆ·ç›˜")]),s._v(" "),t("p",[s._v("äºŒè¿›åˆ¶æ—¥å¿—æ–‡ä»¶å¹¶ä¸æ˜¯æ¯æ¬¡å†™çš„æ—¶å€™åŒæ­¥åˆ°ç£ç›˜ã€‚å› æ­¤å½“æ•°æ®åº“æ‰€åœ¨æ“ä½œç³»ç»Ÿå‘ç”Ÿå®•æœºæ—¶ï¼Œå¯èƒ½ä¼šæœ‰æœ€åä¸€éƒ¨åˆ†æ•°æ®æ²¡æœ‰å†™å…¥äºŒè¿›åˆ¶æ—¥å¿—æ–‡ä»¶ä¸­ï¼Œè¿™ç»™æ¢å¤å’Œå¤åˆ¶å¸¦æ¥äº†é—®é¢˜ã€‚  å‚æ•°"),t("code",[s._v("sync_binlog=[N]")]),s._v("è¡¨ç¤ºæ¯å†™å¤šå°‘æ¬¡å°±åŒæ­¥åˆ°ç£ç›˜ã€‚å¦‚æœå°†Nè®¾ä¸º1ï¼Œå³sync_binlog=1è¡¨ç¤ºé‡‡ç”¨åŒæ­¥å†™ç£ç›˜çš„æ–¹å¼æ¥å†™äºŒè¿›åˆ¶æ—¥å¿—ï¼Œè¿™æ—¶å†™æ“ä½œä¸ä½¿ç”¨æ“ä½œç³»ç»Ÿçš„ç¼“å†²æ¥å†™äºŒè¿›åˆ¶æ—¥å¿—ã€‚ï¼ˆå¤‡æ³¨ï¼šè¯¥å€¼é»˜è®¤ä¸º0ï¼Œé‡‡ç”¨æ“ä½œç³»ç»Ÿæœºåˆ¶è¿›è¡Œç¼“å†²æ•°æ®åŒæ­¥ï¼‰ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_6ã€binlogå®ç°ä¸»ä»åŒæ­¥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6ã€binlogå®ç°ä¸»ä»åŒæ­¥"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_6%E3%80%81binlog%E5%AE%9E%E7%8E%B0%E4%B8%BB%E4%BB%8E%E5%90%8C%E6%AD%A5",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("6ã€binlogå®ç°ä¸»ä»åŒæ­¥")]),s._v(" "),t("p",[s._v("æ•°æ®åº“å•ç‚¹éƒ¨ç½²çš„é—®é¢˜ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("æœåŠ¡å™¨å®•æœºï¼Œä¼šå¯¼è‡´ä¸šåŠ¡åœé¡¿ï¼Œå½±å“å®¢æˆ·ä½“éªŒã€‚")]),s._v(" "),t("li",[s._v("æœåŠ¡å™¨æŸåï¼Œæ•°æ®ä¸¢å¤±ï¼Œä¸èƒ½åŠæ—¶å¤‡ä»½ï¼Œé€ æˆå·¨å¤§æŸå¤±ã€‚")]),s._v(" "),t("li",[s._v("è¯»å†™æ“ä½œéƒ½åœ¨åŒä¸€å°æœåŠ¡å™¨ï¼Œåœ¨å¹¶å‘é‡å¤§çš„æƒ…å†µä¸‹æ€§èƒ½å­˜åœ¨ç“¶é¢ˆã€‚")])]),s._v(" "),t("p",[s._v("é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨mysqlçš„binlogæ­å»ºä¸€ä¸ªä¸€ä¸»å¤šä»çš„mysqlé›†ç¾¤æœåŠ¡ã€‚è¿™æ ·çš„æœåŠ¡å¯ä»¥å¸®åŠ©æˆ‘ä»¬å¼‚åœ°å¤‡ä»½æ•°æ®ã€è¿›è¡Œè¯»å†™åˆ†ç¦»ï¼Œæé«˜ç³»ç»Ÿçš„å¯ç”¨æ€§ã€‚")]),s._v(" "),t("h5",{attrs:{id:"_1-ä¸»ä»å¤åˆ¶å·¥ä½œåŸç†å‰–æ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-ä¸»ä»å¤åˆ¶å·¥ä½œåŸç†å‰–æ"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_1-%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),t("strong",[s._v("ï¼ˆ1ï¼‰ ä¸»ä»å¤åˆ¶å·¥ä½œåŸç†å‰–æ")])]),s._v(" "),t("ul",[t("li",[s._v("Master æ•°æ®åº“åªè¦å‘ç”Ÿå˜åŒ–ï¼Œç«‹é©¬è®°å½•åˆ°Binary log æ—¥å¿—æ–‡ä»¶ä¸­")]),s._v(" "),t("li",[s._v("Slaveæ•°æ®åº“å¯åŠ¨ä¸€ä¸ªI/O threadè¿æ¥Masteræ•°æ®åº“ï¼Œè¯·æ±‚Masterå˜åŒ–çš„äºŒè¿›åˆ¶æ—¥å¿—")]),s._v(" "),t("li",[s._v("Slave I/Oè·å–åˆ°çš„äºŒè¿›åˆ¶æ—¥å¿—ï¼Œä¿å­˜åˆ°è‡ªå·±çš„Relay log æ—¥å¿—æ–‡ä»¶ä¸­ã€‚")]),s._v(" "),t("li",[s._v("Slave æœ‰ä¸€ä¸ª SQL threadå®šæ—¶æ£€æŸ¥Realy logæ˜¯å¦å˜åŒ–ï¼Œå˜åŒ–é‚£ä¹ˆå°±æ›´æ–°æ•°æ®")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220424200331288.9a3461d4.png",alt:"image-20220424200331288"}})]),s._v(" "),t("h5",{attrs:{id:"_2-æ€ä¹ˆé…ç½®mysqlä¸»ä»å¤åˆ¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-æ€ä¹ˆé…ç½®mysqlä¸»ä»å¤åˆ¶"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_2-%E6%80%8E%E4%B9%88%E9%85%8D%E7%BD%AEmysql%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),t("strong",[s._v("ï¼ˆ2ï¼‰æ€ä¹ˆé…ç½®mysqlä¸»ä»å¤åˆ¶")])]),s._v(" "),t("hr"),s._v(" "),t("blockquote",[t("p",[s._v("ç¯å¢ƒå‡†å¤‡")])]),s._v(" "),t("p",[s._v("å®‰è£…ä¸¤ä¸ªmysqlï¼Œä½¿ç”¨vmvareå®‰è£…ä¸¤ä¸ªlinuxç³»ç»Ÿå°±å¯ä»¥ï¼š")]),s._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mysql1(master): 42.192.181.133:3306\nmysql2(slave):  124.220.197.17:3306\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("blockquote",[t("p",[s._v("mysql é…ç½®æ–‡ä»¶é…")])]),s._v(" "),t("p",[s._v("mysql1ï¼ˆmasterï¼‰: é…ç½®æ–‡ä»¶è®¾ç½®ï¼Œå¼€å¯bin_logï¼ˆå·²ç»å¼€å¯çš„å¯ä»¥å¿½ç•¥ï¼‰ä¸”éœ€è¦é…ç½®ä¸€ä¸ªserver-id")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#mysql master1 config ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysqld"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nserver-id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# èŠ‚ç‚¹IDï¼Œç¡®ä¿å”¯ä¸€")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# log config")]),s._v("\nlog-bin "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" master-bin     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å¼€å¯mysqlçš„binlogæ—¥å¿—åŠŸèƒ½")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("mysql2ï¼ˆslaveï¼‰: éœ€è¦å¼€å¯ä¸­ç»§æ—¥å¿—")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysqld"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nserver-id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\nrelay-log"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mysql-relay-bin\nreplicate-wild-ignore-table"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mysql.%\nreplicate-wild-ignore-table"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("sys.%\nreplicate-wild-ignore-table"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("information_schema.%\nreplicate-wild-ignore-table"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("performance_schema.%\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("é‡å¯ä¸¤ä¸ªmysqlï¼Œè®©é…ç½®ç”Ÿæ•ˆã€‚")]),s._v(" "),t("p",[t("strong",[s._v("ç¬¬ä¸‰æ­¥ åœ¨masteræ•°æ®åº“åˆ›å»ºå¤åˆ¶ç”¨æˆ·å¹¶æˆæƒ")])]),s._v(" "),t("p",[s._v("1.è¿›å…¥masterçš„æ•°æ®åº“ï¼Œä¸ºmasteråˆ›å»ºå¤åˆ¶ç”¨æˆ·")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'repl'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'124.220.197.17'")]),s._v(" IDENTIFIED "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Root12345_'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("2.èµ‹äºˆè¯¥ç”¨æˆ·å¤åˆ¶çš„æƒåˆ©")]),s._v(" "),t("div",{staticClass:"language-csharp line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-csharp"}},[t("code",[s._v("grant replication slave "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" to 'repl"),t("span",{pre:!0,attrs:{class:"token char"}},[s._v("'@'")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("124.220")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".197")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".17")]),s._v("' \n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("FLUSH")]),s._v(" PRIVILEGES"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("3.æŸ¥çœ‹masterçš„çŠ¶æ€")]),s._v(" "),t("div",{staticClass:"language-ruby line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ruby"}},[t("code",[s._v("show master status"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" show master status"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("File")]),s._v("             "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Position "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Binlog_Do_DB "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Binlog_Ignore_DB "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Executed_Gtid_Set "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("bin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("000005")]),s._v("      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("120")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("              "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" mysql            "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                   "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" row "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" set "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(" sec"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("4,é…ç½®ä»åº“")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("CHANGE MASTER TO \nMASTER_HOST "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'42.192.181.133'")]),s._v(",  \nMASTER_USER "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'repl'")]),s._v(", \nMASTER_PASSWORD "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Root12345_'")]),s._v(",\nMASTER_PORT "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v(",\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MASTER_LOG_FILE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mysql-bin.000020'")]),s._v(",\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MASTER_LOG_POS")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2735")]),s._v(",\nMASTER_HEARTBEAT_PERIOD "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# MASTER_LOG_FILEä¸ä¸»åº“File ä¿æŒä¸€è‡´")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# MASTER_LOG_POS=120 , #ä¸ä¸»åº“Position ä¿æŒä¸€è‡´")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("è§£é‡Šï¼šMASTER_HEARTBEAT_PERIODè¡¨ç¤ºå¿ƒè·³çš„å‘¨æœŸã€‚å½“MASTER_HEARTBEAT_PERIODæ—¶é—´ä¹‹å†…ï¼Œmasteræ²¡æœ‰binlog eventå‘é€ç»™slaveçš„æ—¶å€™ï¼Œå°±ä¼šå‘é€å¿ƒè·³æ•°æ®ç»™slaveã€‚")]),s._v(" "),t("p",[s._v("5.å¯åŠ¨ä»åº“slaveè¿›ç¨‹")]),s._v(" "),t("div",{staticClass:"language-css line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-css"}},[t("code",[s._v("mysql> start slave"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nQuery OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 0 rows affected "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("0.04 sec"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("6.æŸ¥çœ‹æ˜¯å¦é…ç½®æˆåŠŸ")]),s._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("show slave status \\G;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("Slave_IO_Runningï¼šä»åº“çš„IOçº¿ç¨‹ï¼Œç”¨æ¥æ¥æ”¶masterå‘é€çš„binlogï¼Œå¹¶å°†å…¶å†™å…¥åˆ°ä¸­ç»§æ—¥å¿—relag log")]),s._v(" "),t("li",[s._v("Slave_SQL_Runningï¼šä»åº“çš„SQLçº¿ç¨‹ï¼Œç”¨æ¥ä»relay logä¸­è¯»å–å¹¶æ‰§è¡Œbinlogã€‚")]),s._v(" "),t("li",[s._v("Slave_IO_Runningã€Slave_SQL_Runningï¼šè¿™ä¸¤ä¸ªè¿›ç¨‹çš„çŠ¶æ€éœ€å…¨éƒ¨ä¸º YESï¼Œåªè¦æœ‰ä¸€ä¸ªä¸º NOï¼Œåˆ™å¤åˆ¶å°±ä¼šåœæ­¢ã€‚")]),s._v(" "),t("li",[s._v("Master_Log_Fileï¼šè¦åŒæ­¥çš„ä¸»åº“çš„binlogæ–‡ä»¶åã€‚")]),s._v(" "),t("li",[s._v("Read_Master_Log_Posï¼šå·²åŒæ­¥çš„ä½ç½®ï¼Œå³åŒæ­¥çš„ binlog æ–‡ä»¶å†…çš„å­—èŠ‚åç§»é‡ï¼Œè¯¥å€¼ä¼šéšç€ä¸»ä»åŒæ­¥çš„è¿›è¡Œè€Œä¸æ–­åœ°å¢é•¿ã€‚")]),s._v(" "),t("li",[s._v("Relay_Log_Fileï¼šä»åº“çš„ä¸­ç»§æ—¥å¿—æ–‡ä»¶ï¼Œå¯¹æ¥æ”¶åˆ°çš„ä¸»åº“çš„ binlog è¿›è¡Œç¼“å†²ã€‚ä»åº“çš„SQLçº¿ç¨‹ä¸æ–­åœ°ä» relay log ä¸­è¯»å– binlog å¹¶æ‰§è¡Œã€‚")]),s._v(" "),t("li",[s._v("Relay_Log_Posï¼šrelay log ä¸­å·²è¯»å–çš„ä½ç½®åç§»é‡ã€‚")]),s._v(" "),t("li",[s._v("Seconds_Behind_Master: ä¸»ä»åŒæ­¥å»¶æ—¶, å€¼ä¸º 0 ä¸ºæ­£å¸¸æƒ…å†µï¼Œæ­£å€¼è¡¨ç¤ºå·²ç»å‡ºç°å»¶è¿Ÿï¼Œæ•°å­—è¶Šå¤§ä»åº“è½åä¸»åº“è¶Šå¤šã€‚")])]),s._v(" "),t("p",[s._v("7.åœ¨ä¸»åº“åˆ›å»ºä¸€ä¸ªæ•°æ®åº“ã€åˆ›å»ºä¸€å¼ è¡¨ï¼Œæ‰§è¡Œä¸€äº›sqlè¯­å¥è¿›è¡Œæµ‹è¯•ã€‚")]),s._v(" "),t("h5",{attrs:{id:"_3-å¯èƒ½é‡åˆ°çš„é—®é¢˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-å¯èƒ½é‡åˆ°çš„é—®é¢˜"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_3-%E5%8F%AF%E8%83%BD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ï¼ˆ3ï¼‰å¯èƒ½é‡åˆ°çš„é—®é¢˜")]),s._v(" "),t("p",[s._v("åœ¨é…ç½®mysqlä¸»ä»å¤åˆ¶çš„æ—¶å€™å¯èƒ½å‡ºç°ä¸€ä¸‹é”™è¯¯ï¼š")]),s._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("Fatal error: The slave I/O thread stops because master and slave have equal MySQL server UUIDs; these UUIDs must be different for replication to work.\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("strong",[s._v("åŸå› ")])]),s._v(" "),t("p",[s._v("å¦‚æœä½ ä½¿ç”¨äº†ä¸¤å°è™šæ‹Ÿæœºï¼Œä¸€ä¸»ä¸€ä»ï¼Œä»åº“çš„mysqlæ˜¯ç›´æ¥å…‹éš†çš„ã€‚åœ¨mysql 5.6çš„å¤åˆ¶å¼•å…¥äº†uuidçš„æ¦‚å¿µï¼Œå„ä¸ªå¤åˆ¶ç»“æ„ä¸­çš„server_uuidå¾—ä¿è¯ä¸ä¸€æ ·ï¼Œä½†æ˜¯æŸ¥çœ‹åˆ°ç›´æ¥å…‹éš†dataæ–‡ä»¶å¤¹åserver_uuidæ˜¯ç›¸åŒçš„ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("è§£å†³")])]),s._v(" "),t("p",[s._v("æ‰¾åˆ°dataæ–‡ä»¶å¤¹ä¸‹çš„auto.cnfæ–‡ä»¶ï¼Œä¿®æ”¹é‡Œé¢çš„server_uuidå€¼ï¼Œä¿è¯å„ä¸ªdbçš„server_uuidä¸ä¸€æ ·ï¼Œé‡å¯dbå³å¯ã€‚")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /www/server/data\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("ä¿®æ”¹server_uuidçš„å€¼")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220517180545563.de94e863.png",alt:"image-20220517180545563"}})]),s._v(" "),t("p",[s._v("ä½¿ç”¨")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" uuid"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("ç”Ÿæˆä¸€ä¸ªuuidå³å¯ï¼Œé‡å¯æ•°æ®åº“ã€‚")]),s._v(" "),t("h3",{attrs:{id:"äºŒã€å…¶ä»–æ—¥å¿—"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€å…¶ä»–æ—¥å¿—"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#%E4%BA%8C%E3%80%81%E5%85%B6%E4%BB%96%E6%97%A5%E5%BF%97",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("äºŒã€å…¶ä»–æ—¥å¿—")]),s._v(" "),t("h4",{attrs:{id:"_1ã€é€šç”¨æŸ¥è¯¢æ—¥å¿—-é»˜è®¤å…³é—­"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€é€šç”¨æŸ¥è¯¢æ—¥å¿—-é»˜è®¤å…³é—­"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_1%E3%80%81%E9%80%9A%E7%94%A8%E6%9F%A5%E8%AF%A2%E6%97%A5%E5%BF%97-%E9%BB%98%E8%AE%A4%E5%85%B3%E9%97%AD",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("1ã€é€šç”¨æŸ¥è¯¢æ—¥å¿—ï¼Œé»˜è®¤å…³é—­")]),s._v(" "),t("p",[s._v("MySQLé€šç”¨æŸ¥è¯¢æ—¥å¿—ï¼Œå®ƒæ˜¯è®°å½•å»ºç«‹çš„å®¢æˆ·ç«¯è¿æ¥å’Œæ‰§è¡Œçš„æ‰€æœ‰DDLå’ŒDMLè¯­å¥(ä¸ç®¡æ˜¯æˆåŠŸè¯­å¥è¿˜æ˜¯æ‰§è¡Œæœ‰é”™è¯¯çš„è¯­å¥)ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒæ˜¯ä¸å¼€å¯çš„ã€‚è¯·æ³¨æ„ï¼Œå®ƒä¹Ÿæ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ã€‚")]),s._v(" "),t("p",[s._v("å¯ä»¥é€šè¿‡ä»¥ä¸‹çš„sqlæŸ¥çœ‹æŸ¥è¯¢æ—¥å¿—çš„çŠ¶æ€ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220507154040417.4f619c0d.png",alt:"image-20220507154040417"}})]),s._v(" "),t("p",[s._v("ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¼€å¯é€šç”¨æŸ¥è¯¢æ—¥å¿—ï¼Œä¸€èˆ¬ä¸å¼€å¯ï¼Œè¿™æ˜¯ä¸ºäº†æµ‹è¯•ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œé‡å¯æœåŠ¡ï¼š")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åœ¨å…¨å±€æ¨¡å¼ä¸‹ï¼Œå¼€å¯é€šç”¨æŸ¥è¯¢æ—¥å¿—ï¼Œ1è¡¨ç¤ºå¼€å¯ï¼Œ0è¡¨ç¤ºå…³é—­")]),s._v("\nSET global "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("general_log")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("å¼€å¯åï¼Œæˆ‘ä»¬éšä¾¿æ‰§è¡Œsqlè¯­å¥ä¹‹åï¼Œä½ ä¼šå‘ç°dataç›®å½•å¤šäº†ä»¥ä¸‹æ–‡ä»¶ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220507154728204.b2cfd978.png",alt:"image-20220507154728204"}})]),s._v(" "),t("p",[s._v("ä½¿ç”¨moreå‘½ä»¤æŸ¥çœ‹è¯¥æ–‡ä»¶ï¼š")]),s._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("more VM-12-17-centos.log \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220507154844881.2734c9b5.png",alt:"image-20220507154844881"}})]),s._v(" "),t("h4",{attrs:{id:"_2ã€æ…¢æŸ¥è¯¢æ—¥å¿—"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€æ…¢æŸ¥è¯¢æ—¥å¿—"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_2%E3%80%81%E6%85%A2%E6%9F%A5%E8%AF%A2%E6%97%A5%E5%BF%97",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("2ã€æ…¢æŸ¥è¯¢æ—¥å¿—")]),s._v(" "),t("p",[s._v("å½“å‰ç‰ˆæœ¬æ…¢æŸ¥è¯¢æ—¥å¿—é»˜è®¤æ˜¯å¼€å¯çš„ï¼Œæœ‰çš„ç‰ˆæœ¬æ˜¯å…³é—­çš„ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹æ…¢æŸ¥è¯¢æ—¥å¿—çš„çŠ¶æ€ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220507160012005.cee5dfa1.png",alt:"image-20220507160012005"}})]),s._v(" "),t("p",[s._v("é‚£ä¹ˆï¼Œä½•ä¸ºæ…¢ï¼Ÿmysqlé€šè¿‡ä¸€ä¸ªå˜é‡â€˜long_query_timeâ€™æ¥ç¡®å®šsqlæ…¢ä¸æ…¢ï¼Œæ‰§è¡Œæ—¶é—´å¤§äºè¯¥å€¼å°±ä¼šè¢«è®°å½•åœ¨æ…¢æŸ¥è¯¢æ—¥å¿—ä¸­ï¼Œé»˜è®¤æ˜¯3sï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" variables "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("like")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'long_query_time'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220507160149874.196fb203.png",alt:"image-20220507160149874"}})]),s._v(" "),t("p",[s._v("ä»¥ä¸‹æ˜¯ã€æ…¢æŸ¥è¯¢æ—¥å¿—ã€‘çš„è®°å½•æ–‡æœ¬ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220507154539012.bfc82d0b.png",alt:"image-20220507154539012"}})]),s._v(" "),t("h4",{attrs:{id:"_3ã€é”™è¯¯æ—¥å¿—"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3ã€é”™è¯¯æ—¥å¿—"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_3%E3%80%81%E9%94%99%E8%AF%AF%E6%97%A5%E5%BF%97",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("3ã€é”™è¯¯æ—¥å¿—")]),s._v(" "),t("p",[s._v("é”™è¯¯æ—¥å¿—ï¼ˆError Logï¼‰ä¸»è¦è®°å½• MySQL æœåŠ¡å™¨å¯åŠ¨å’Œåœæ­¢è¿‡ç¨‹ä¸­çš„ä¿¡æ¯ã€æœåŠ¡å™¨åœ¨è¿è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿçš„æ•…éšœå’Œå¼‚å¸¸æƒ…å†µç­‰ã€‚ä¸€æ—¦å‘ç”ŸmysqlæœåŠ¡æ— æ³•å¯åŠ¨ã€ç¨‹åºå´©æºƒä¸€å®šè¦è®°å¾—å»æŸ¥è¯¢é”™è¯¯æ—¥å¿—ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220507155123988.72e86ff4.png",alt:"image-20220507155123988"}})]),s._v(" "),t("p",[s._v("æˆ‘ä»¬éšä¾¿äººä¸ºä¸€ä¸ªé”™è¯¯å¯¼è‡´ä»–æ— æ³•å¯åŠ¨ï¼Œé‡æ–°å¯åŠ¨mysqlå‘½ä»¤å¦‚ä¸‹ï¼š")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" mysqld restart\nsystemctl mysqld restart\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("æˆ‘ä»¬å°†inndbçš„ç³»ç»Ÿè¡¨ç©ºé—´æ–‡ä»¶é‡å‘½åï¼Œé‡æ–°å¯åŠ¨mysqlæœåŠ¡ï¼Œå‘ç”Ÿé—®é¢˜ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220507161525384.b896b188.png",alt:"image-20220507161525384"}})]),s._v(" "),t("p",[s._v("æŸ¥è¯¢é”™è¯¯æ—¥å¿—ï¼Œå¯»æ‰¾è››ä¸é©¬è¿¹ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220507161639367.14d97ab2.png",alt:"image-20220507161639367"}})]),s._v(" "),t("p",[s._v("ä¿®æ”¹å›æ­£ç¡®çš„åå­—ï¼Œé‡æ–°å¯åŠ¨æˆåŠŸï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220507161102642.5881b0da.png",alt:"image-20220507161102642"}})]),s._v(" "),t("h3",{attrs:{id:"ä¸‰ã€redo-logæ—¥å¿—"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰ã€redo-logæ—¥å¿—"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#%E4%B8%89%E3%80%81redo-log%E6%97%A5%E5%BF%97",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ä¸‰ã€redo logæ—¥å¿—")]),s._v(" "),t("p",[s._v("æ¥ä¸‹æ¥çš„ä¸¤ä¸ªæ—¥å¿—ï¼Œæ˜¯innodbä¸ºè§£å†³ä¸åŒé—®é¢˜è€Œå¼•å‡ºçš„ä¸¤ç±»æ—¥å¿—æ–‡ä»¶ã€‚")]),s._v(" "),t("p",[s._v("redo logï¼ˆé‡åšæ—¥å¿—ï¼‰çš„è®¾è®¡ä¸»è¦æ˜¯ä¸ºäº†é˜²æ­¢å› ç³»ç»Ÿå´©æºƒè€Œå¯¼è‡´çš„æ•°æ®ä¸¢å¤±ï¼Œå…¶å®è§£å†³å› ç³»ç»Ÿå´©æºƒå¯¼è‡´æ•°æ®ä¸¢å¤±çš„æ€è·¯å¦‚ä¸‹ï¼š")]),s._v(" "),t("p",[s._v("1ã€æ¯æ¬¡æäº¤äº‹åŠ¡ä¹‹å‰ï¼Œå¿…é¡»å°†æ‰€æœ‰å’Œå½“å‰äº‹åŠ¡ç›¸å…³çš„ã€buffer poolä¸­çš„è„é¡µã€‘åˆ·å…¥ç£ç›˜ï¼Œä½†æ˜¯ï¼Œè¿™ä¸ªæ•ˆç‡æ¯”è¾ƒä½ï¼Œå¯èƒ½ä¼šå½±å“ä¸»çº¿ç¨‹çš„æ•ˆç‡ï¼Œäº§ç”Ÿç”¨æˆ·ç­‰å¾…ï¼Œé™ä½å“åº”é€Ÿåº¦ï¼Œå› ä¸ºåˆ·ç›˜æ˜¯I/Oæ“ä½œï¼ŒåŒæ—¶ä¸€ä¸ªäº‹åŠ¡çš„è¯»å†™æ“ä½œä¹Ÿä¸æ˜¯é¡ºåºè¯»å†™ã€‚")]),s._v(" "),t("p",[s._v("2ã€æŠŠå½“å‰äº‹åŠ¡ä¸­ä¿®æ”¹çš„æ•°æ®å†…å®¹åœ¨æ—¥å¿—ä¸­è®°å½•ä¸‹æ¥ï¼Œæ—¥å¿—è®°å½•æ˜¯é¡ºåºå†™ï¼Œæ€§èƒ½å¾ˆé«˜ã€‚å…¶å®mysqlå°±æ˜¯è¿™ä¹ˆåšçš„ï¼Œè¿™ä¸ªæ—¥å¿—è¢«ç§°ä¸ºredo logã€‚æ‰§è¡Œäº‹åŠ¡ä¸­ï¼Œæ¯æ‰§è¡Œä¸€æ¡è¯­å¥ï¼Œå°±å¯èƒ½æœ‰è‹¥å¹²redoæ—¥å¿—ï¼Œå¹¶æŒ‰äº§ç”Ÿçš„é¡ºåºå†™å…¥ç£ç›˜ï¼Œredoæ—¥å¿—å ç”¨çš„ç©ºé—´éå¸¸å°ï¼Œå½“redo logç©ºé—´æ»¡äº†ä¹‹ååˆä¼šä»å¤´å¼€å§‹ä»¥å¾ªç¯çš„æ–¹å¼è¿›è¡Œè¦†ç›–å¼çš„å†™å…¥ã€‚")]),s._v(" "),t("p",[s._v("redo logçš„æ ¼å¼æ¯”è¾ƒç®€å•ï¼ŒåŒ…å«ä¸€ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("typeï¼šè¯¥æ—¥å¿—çš„ç±»å‹ï¼Œåœ¨5.7ç‰ˆæœ¬ä¸­ï¼Œå¤§æ¦‚æœ‰53ç§ä¸åŒç±»å‹çš„redo logï¼Œå ç”¨ä¸€ä¸ªå­—èŠ‚")]),s._v(" "),t("li",[s._v("space idï¼šè¡¨ç©ºé—´id")]),s._v(" "),t("li",[s._v("page numberï¼šé¡µå·")]),s._v(" "),t("li",[s._v("dataï¼šæ—¥å¿—æ•°æ®")])]),s._v(" "),t("h4",{attrs:{id:"_1ã€mtr"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€mtr"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_1%E3%80%81mtr",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("1ã€MTR")]),s._v(" "),t("p",[s._v("åœ¨innodbæ‰§è¡Œä»»åŠ¡æ—¶ï¼Œæœ‰å¾ˆå¤šæ“ä½œï¼Œå¿…é¡»å…·æœ‰åŸå­æ€§ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸€ç±»æ“ä½œç§°ä¹‹ä¸ºMIni Transactionï¼Œæˆ‘ä»¬ä»¥ä¸‹è¾¹çš„ä¾‹å­ä¸ºä¾‹ï¼š")]),s._v(" "),t("p",[s._v("åœ¨æˆ‘ä»¬å‘B+æ ‘ä¸­æ’å…¥ä¸€æ¡è®°å½•çš„æ—¶å€™ï¼Œéœ€è¦å®šä½è¿™æ¡æ•°æ®å°†è¦æ’å…¥çš„ã€æ•°æ®é¡µã€‘ï¼Œå› ä¸ºæ’å…¥çš„ä½ç½®ä¸åŒï¼Œå¯èƒ½ä¼šæœ‰ä»¥ä¸‹æƒ…å†µï¼š")]),s._v(" "),t("p",[s._v("1ã€å¾…æ’å…¥çš„é¡µæ‹¥æœ‰ã€å……è¶³çš„å‰©ä½™ç©ºé—´ã€‘ï¼Œè¶³ä»¥å®¹çº³è¿™æ¡æ•°æ®ï¼Œé‚£å°±ç›´æ¥æ’å…¥å°±å¥½äº†ï¼Œè¿™ç§æƒ…å†µéœ€è¦è®°å½•ä¸€æ¡ã€MLOG_COMP_REC_INSERTç±»å‹ã€‘çš„redoæ—¥å¿—å°±å¥½äº†ï¼Œè¿™ç§æƒ…å†µæˆä¸ºä¹è§‚æ’å…¥ã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220510121537504.a3ac363a.png",alt:"image-20220510121537504"}})]),s._v(" "),t("p",[s._v("2ã€å¾…æ’å…¥çš„é¡µã€å‰©ä½™ç©ºé—´ä¸è¶³ã€‘ä»¥å®¹çº³è¯¥æ¡è®°å½•ï¼Œè¿™æ ·å°±æ¯”è¾ƒéº»çƒ¦äº†ï¼Œå¿…é¡»è¿›è¡Œã€é¡µåˆ†è£‚ã€‘äº†ã€‚å¿…é¡»æ–°å»ºä¸€ä¸ªé¡µé¢ï¼Œå°†åŸå§‹é¡µé¢çš„æ•°æ®æ‹·è´ä¸€éƒ¨åˆ†åˆ°æ–°é¡µé¢ï¼Œç„¶åæ’å…¥æ•°æ®ã€‚è¿™å…¶ä¸­å¯¹åº”äº†å¥½å‡ ä¸ªæ“ä½œï¼Œå¿…é¡»è®°å½•å¤šæ¡rede logï¼ŒåŒ…æ‹¬ç”³è¯·æ–°çš„æ•°æ®é¡µã€ä¿®æ”¹æ®µã€åŒºçš„ä¿¡æ¯ã€ä¿®æ”¹å„ç§é“¾è¡¨ä¿¡æ¯ç­‰æ“ä½œï¼Œéœ€è¦è®°å½•çš„redo logå¯èƒ½å°±æœ‰äºŒä¸‰åæ¡ï¼Œä½†æ˜¯æœ¬æ¬¡æ“ä½œå¿…é¡»æ˜¯ä¸€ä¸ªã€åŸå­æ€§æ“ä½œã€‘ï¼Œåœ¨è®°å½•çš„è¿‡ç¨‹ä¸­ï¼Œè¦å…¨éƒ¨è®°å½•ï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ï¼Œè¿™ç§æƒ…å†µå°±è¢«ç§°ä¹‹ä¸ºä¸€ä¸ªMIni Transactionï¼ˆæœ€å°äº‹åŠ¡ï¼‰ã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220510121522561.cee67760.png",alt:"image-20220510121522561"}})]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ1ï¼‰MTRçš„æŒ‰ç»„å†™å…¥")])]),s._v(" "),t("p",[s._v("å¯¹äºä¸€ä¸ªã€MTRã€‘æ“ä½œå¿…é¡»æ˜¯åŸå­çš„ï¼Œä¸ºäº†ä¿è¯åŸå­æ€§ï¼Œinnodbä½¿ç”¨äº†ç»„çš„å½¢å¼æ¥è®°å½•redo æ—¥å¿—ï¼Œåœ¨æ¢å¤æ—¶ï¼Œè¦ä¹ˆè¿™ä¸€ç»„çš„çš„æ—¥å¿—å…¨éƒ¨æ¢å¤ï¼Œè¦ä¹ˆä¸€æ¡ä¹Ÿä¸æ¢å¤ã€‚innodbä½¿ç”¨ä¸€æ¡ç±»å‹ä¸º"),t("code",[s._v("MLO_MULTI_REC_END")]),s._v("ç±»å‹çš„redo logä½œä¸ºç»„çš„ç»“å°¾æ ‡å¿—ï¼Œåœ¨ç³»ç»Ÿå´©æºƒæ¢å¤æ—¶åªæœ‰è§£æåˆ°è¯¥é¡¹æ—¥å¿—ï¼Œæ‰è®¤ä¸ºè§£æåˆ°äº†ä¸€ç»„å®Œæ•´çš„redo logï¼Œå¦åˆ™ç›´æ¥æ”¾å¼ƒå‰è¾¹è§£æçš„æ—¥å¿—ã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220510121447118.6fc6234d.png",alt:"image-20220510121447118"}})]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ2ï¼‰å•æ¡redologçš„æ ‡è¯†æ–¹æ³•")])]),s._v(" "),t("p",[s._v("æœ‰äº›æ“ä½œåªä¼šäº§ç”Ÿä¸€æ¡redo logï¼Œinnodbæ˜¯é€šè¿‡ã€ç±»å‹æ ‡è¯†ã€‘çš„ç¬¬ä¸€ä¸ªå­—ç¬¦æ¥åˆ¤æ–­ï¼Œè¿™ä¸ªæ—¥å¿—æ˜¯å•ä¸€æ—¥å¿—è¿˜æ˜¯ç»„æ—¥å¿—ï¼Œå¦‚ä¸‹å›¾ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220510121610230.f3c4f4b4.png",alt:"image-20220510121610230"}})]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ3ï¼‰äº‹åŠ¡ã€sqlã€MTRã€redologçš„å…³ç³»å¦‚ä¸‹")])]),s._v(" "),t("ul",[t("li",[s._v("ä¸€ä¸ªäº‹åŠ¡åŒ…å«ä¸€æ¡æˆ–å¤šæ¡sql")]),s._v(" "),t("li",[s._v("ä¸€æ¡sqlåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªMTR")]),s._v(" "),t("li",[s._v("ä¸€ä¸ªMTRåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªredo log")])]),s._v(" "),t("h4",{attrs:{id:"_2ã€log-buffer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€log-buffer"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_2%E3%80%81log-buffer",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("2ã€log buffer")]),s._v(" "),t("p",[s._v("ä»»ä½•å¯èƒ½äº§ç”Ÿå¤§é‡I/Oçš„æ“ä½œï¼Œä¸€èˆ¬æƒ…å†µä¸‹éƒ½ä¼šè®¾è®¡ã€ç¼“å†²å±‚ã€‘ï¼Œmysqlå¯åŠ¨æ—¶ä¹Ÿä¼šå‘æ“ä½œç³»ç»Ÿç”³è¯·ä¸€ç‰‡ç©ºé—´ä½œä¸ºredo logçš„ã€ç¼“å†²åŒºã€‘ï¼Œinnodbä½¿ç”¨ä¸€ä¸ªå˜é‡"),t("code",[s._v("buf_free")]),s._v("æ¥æ ‡è®°ä¸‹ä¸€æ¡redo logçš„æ’å…¥ä½ç½®ï¼ˆæ ‡è®°åç§»é‡ï¼‰ï¼Œlog bufferä¼šåœ¨åˆé€‚çš„æ—¶æœºè¿›è¡Œåˆ·ç›˜ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("log bufferç©ºé—´ä¸è¶³ã€‚logbufferçš„å®¹é‡ç”±"),t("code",[s._v("innodb_log_buffer_size")]),s._v("æŒ‡å®šï¼Œå½“å†™å…¥log bufferçš„æ—¥å¿—å¤§äºå®¹é‡çš„50%ï¼Œå°±ä¼šè¿›è¡Œåˆ·ç›˜ã€‚")]),s._v(" "),t("li",[s._v("æäº¤äº‹åŠ¡æ—¶ï¼Œå¦‚æœéœ€è¦å®ç°å´©æºƒæ¢å¤ï¼Œä¿è¯æ•°æ®çš„æŒä¹…æ€§ï¼Œæäº¤äº‹åŠ¡æ—¶å¿…é¡»æäº¤redo logï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ä¸ºäº†æ•ˆç‡ä¸å»æäº¤ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶è®¾ç½®è¯¥é¡¹ç›®ã€‚")]),s._v(" "),t("li",[s._v("åå°æœ‰ç‹¬ç«‹çº¿ç¨‹å¤§çº¦æ¯éš”ä¸€ç§’ä¼šåˆ·æ–°ç›˜ä¸€æ¬¡ã€‚")]),s._v(" "),t("li",[s._v("æ­£å¸¸å…³é—­æœåŠ¡å™¨ã€‚")]),s._v(" "),t("li",[s._v("åšcheckpointæ—¶ï¼Œåè¾¹ä¼šè®²ã€‚")])]),s._v(" "),t("p",[s._v("æœ‰ç¼“å†²å°±å¯èƒ½å­˜åœ¨æ•°æ®ä¸ä¸€è‡´ï¼Œå’±ä»¬æ¥ç€å¾€ä¸‹çœ‹ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_3ã€checkpoint"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3ã€checkpoint"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_3%E3%80%81checkpoint",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("3ã€checkpoint")]),s._v(" "),t("p",[s._v("redologæ—¥å¿—æ–‡ä»¶å®¹é‡æ˜¯æœ‰é™çš„ï¼Œéœ€è¦å¾ªç¯ä½¿ç”¨ï¼Œredo logçš„ä½œç”¨ä»…ä»…æ˜¯ä¸ºäº†åœ¨å´©æºƒæ—¶æ¢å¤è„é¡µæ•°æ®ä½¿ç”¨çš„ï¼Œå¦‚æœè„é¡µå·²ç»åˆ·åˆ°ç£ç›˜ä¸Šï¼Œå…¶å¯¹åº”çš„redo logä¹Ÿå°±æ²¡ç”¨äº†ï¼Œä»–ä¹Ÿå°±å¯ä»¥è¢«é‡å¤åˆ©ç”¨äº†ã€‚"),t("strong",[s._v("checkpointçš„ä½œç”¨å°±æ˜¯ç”¨æ¥æ ‡è®°å“ªäº›æ—§çš„redo logå¯ä»¥è¢«è¦†ç›–ã€‚")])]),s._v(" "),t("p",[s._v("æˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œåˆ¤æ–­redo logå ç”¨çš„ç£ç›˜ç©ºé—´æ˜¯å¦å¯ä»¥è¢«é‡æ–°åˆ©ç”¨çš„æ ‡å¿—å°±æ˜¯ï¼Œå¯¹åº”çš„è„é¡µæœ‰æ²¡æœ‰è¢«åˆ·æ–°åˆ°ç£ç›˜ã€‚ä¸ºäº†å®ç°è¿™ä¸ªç›®çš„ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ä¸€ä¸‹ä¸‹è¾¹å‡ ä¸ªè®°å½•å€¼çš„ä½œç”¨ï¼š")]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ1ï¼‰lsn")])]),s._v(" "),t("p",[s._v("lsnï¼ˆlog sequence numberï¼‰æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ã€‚mysqlåœ¨è¿è¡ŒæœŸé—´ï¼Œä¼šä¸æ–­çš„äº§ç”Ÿredo logï¼Œæ—¥å¿—çš„é‡ä¼šä¸æ–­å¢åŠ ï¼Œinnodbä½¿ç”¨lsnæ¥è®°å½•å½“å‰æ€»è®¡å†™å…¥çš„æ—¥å¿—é‡ï¼Œlsnçš„åˆå§‹å€¼ä¸æ˜¯0ï¼Œè€Œæ˜¯8704ï¼ŒåŸå› æœªçŸ¥ã€‚ç³»ç»Ÿåœ¨è®°å½•lsnæ—¶æ˜¯æŒ‰ç…§ã€åç§»é‡ã€‘ä¸æ–­ç´¯åŠ çš„ã€‚"),t("strong",[s._v("lsnçš„å€¼è¶Šå°è¯´æ˜redo logäº§ç”Ÿçš„è¶Šæ—©ã€‚")])]),s._v(" "),t("p",[s._v("æ¯ä¸€ç»„redo logéƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„lsnå€¼å’Œä»–å¯¹åº”ï¼Œä½ å¯ä»¥ç†è§£ä¸ºlsnæ˜¯redo logçš„å¹´é¾„ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ2ï¼‰flush_to_disk_lsn")])]),s._v(" "),t("p",[t("code",[s._v("flush_to_disk_lsn")]),s._v("ä¹Ÿæ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œè¡¨ç¤ºå·²ç»åˆ·å…¥ç£ç›˜çš„redo logçš„é‡ï¼Œä»–å°äºç­‰äºlsnï¼Œä¸¾ä¸ªä¾‹å­ï¼š")]),s._v(" "),t("p",[s._v("1ã€å°†redo logå†™å…¥log bufferï¼Œlsnå¢åŠ ï¼Œå‡å¦‚ï¼š8704+1024 = 9728ï¼Œæ­¤æ—¶flush_to_disk_lsnä¸å˜ã€‚")]),s._v(" "),t("p",[s._v("2ã€åˆ·å¦‚512å­—èŠ‚åˆ°ç£ç›˜ï¼Œæ­¤æ—¶flush_to_disk_lsn=8704+512=9256ã€‚")]),s._v(" "),t("p",[s._v("å¦‚æœä¸¤è€…æ•°æ®ç›¸åŒï¼Œè¯´æ˜å·²ç»å…¨éƒ¨åˆ·ç›˜ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ3ï¼‰flushé“¾ä¸­çš„lsn")])]),s._v(" "),t("p",[s._v("å…¶å®è¦ä¿è¯æ•°æ®ä¸ä¸¢å¤±ï¼Œæ ¸å¿ƒçš„å·¥ä½œæ˜¯è¦å°†buffer poolä¸­çš„è„é¡µè¿›è¡Œåˆ·ç›˜ï¼Œä½†æ˜¯åˆ·ç›˜å·¥ä½œæ¯”è¾ƒæŸè€—æ€§èƒ½ï¼Œéœ€è¦ç‹¬ç«‹çš„çº¿ç¨‹åœ¨åå°é™é»˜æ“ä½œã€‚")]),s._v(" "),t("p",[s._v("å›é¡¾ä¸€ä¸‹flushé“¾ï¼Œå½“ç¬¬ä¸€æ¬¡ä¿®æ”¹æŸä¸ªå·²ç»åŠ è½½åˆ°buffer poolä¸­çš„é¡µé¢æ—¶ï¼Œä»–ä¼šå˜æˆã€è„é¡µã€‘ï¼Œä¼šæŠŠä»–æ”¾ç½®åœ¨flushé“¾è¡¨çš„å¤´éƒ¨ï¼Œflushé“¾è¡¨æ˜¯æŒ‰ç…§ç¬¬ä¸€æ¬¡ä¿®æ”¹çš„æ—¶é—´æ’åºçš„ã€‚å†ç¬¬ä¸€æ¬¡ä¿®æ”¹ç¼“å†²é¡µæ—¶ï¼Œä¼šåœ¨ã€ç¼“å†²é¡µå¯¹åº”çš„æ§åˆ¶å—ã€‘ä¸­ï¼Œè®°å½•ä»¥ä¸‹ä¸¤ä¸ªå±æ€§ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("oldest_modificationï¼š"),t("strong",[s._v("ç¬¬ä¸€æ¬¡")]),s._v("ä¿®æ”¹ç¼“å†²é¡µæ—¶ï¼Œå°±å°†ã€ä¿®æ”¹è¯¥é¡µé¢çš„ç¬¬ä¸€ç»„redo logçš„lsnå€¼ã€‘è®°å½•åœ¨å¯¹åº”çš„æ§åˆ¶å—ã€‚")]),s._v(" "),t("li",[s._v("newest_modificationï¼š"),t("strong",[s._v("æ¯ä¸€æ¬¡")]),s._v("ä¿®æ”¹ç¼“å†²é¡µæ—¶ï¼Œå°±å°†ã€ä¿®æ”¹è¯¥é¡µé¢çš„æœ€åç»„redo logçš„lsnå€¼ã€‘è®°å½•åœ¨å¯¹åº”çš„æ§åˆ¶å—ã€‚")])]),s._v(" "),t("p",[s._v("æ—¢ç„¶flushé“¾è¡¨æ˜¯æŒ‰ç…§ä¿®æ”¹æ—¥æœŸæ’åºçš„ï¼Œé‚£ä¹ˆä¹Ÿå°±æ„å‘³ç€ï¼Œoldest_modificationçš„å€¼ä¹Ÿæ˜¯æœ‰åºçš„ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ4ï¼‰checkpointè¿‡ç¨‹")])]),s._v(" "),t("p",[s._v("æ‰§è¡Œä¸€ä¸ªcheck pointå¯ä»¥åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤")]),s._v(" "),t("p",[s._v("**ç¬¬ä¸€æ­¥ï¼š**è®¡ç®—å½“å‰redo logæ–‡ä»¶ä¸­å¯ä»¥è¢«è¦†ç›–çš„redoæ—¥å¿—å¯¹åº”çš„lsnçš„å€¼æ˜¯å¤šå°‘ï¼š")]),s._v(" "),t("p",[s._v("1ã€flushé“¾æ˜¯æŒ‰ç…§ç¬¬ä¸€æ¬¡ä¿®æ”¹çš„æ—¶é—´æ’åºçš„ï¼Œå½“ç„¶æ§åˆ¶å—å†…çš„ã€oldest_modificationã€‘è®°å½•çš„lsnå€¼ä¹Ÿæ˜¯æœ‰åºçš„ã€‚")]),s._v(" "),t("p",[s._v("2ã€æˆ‘ä»¬æ‰¾åˆ°flushé“¾è¡¨çš„å¤´èŠ‚ç‚¹ä¸Šçš„ã€oldest_modificationã€‘æ‰€è®°å½•çš„lsnå€¼ï¼Œä¹Ÿå°±æ‰¾åˆ°äº†ä¸€ä¸ªå¯ä»¥åˆ·ç›˜çš„æœ€å¤§çš„lsnå€¼ï¼Œå°äºè¿™ä¸ªå€¼çš„è„é¡µï¼Œè‚¯å®šå·²ç»åˆ·å…¥ç£ç›˜ã€‚")]),s._v(" "),t("p",[s._v("3ã€æ‰€æœ‰å°äºè¿™ä¸ªlsnå€¼çš„redo logï¼Œéƒ½å¯ä»¥è¢«è¦†ç›–é‡ç”¨ã€‚")]),s._v(" "),t("p",[s._v("4ã€å°†è¿™ä¸ªlsnå€¼èµ‹å€¼ç»™ä¸€ä¸ªå…¨å±€å˜é‡checkpoint_lsnï¼Œä»–ä»£è¡¨å¯ä»¥è¢«è¦†ç›–çš„é‡ã€‚")]),s._v(" "),t("p",[s._v("**ç¬¬äºŒæ­¥ï¼š**å°†checkpoint_lsnä¸å¯¹åº”çš„redo logæ—¥å¿—æ–‡ä»¶ç»„åç§»é‡ä»¥åŠæ­¤æ¬¡checkpointçš„ç¼–å·ï¼ˆcheckpoint_noä¹Ÿæ˜¯ä¸€ä¸ªå˜é‡ï¼Œè®°å½•äº†checkpointçš„æ¬¡æ•°ï¼‰å…¨éƒ¨è®°å½•åœ¨æ—¥å¿—æ–‡ä»¶çš„ç®¡ç†ä¿¡æ¯å†…ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_4ã€ä¸€ä¸ªäº‹åŠ¡çš„æ‰§è¡Œæµç¨‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4ã€ä¸€ä¸ªäº‹åŠ¡çš„æ‰§è¡Œæµç¨‹"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_4%E3%80%81%E4%B8%80%E4%B8%AA%E4%BA%8B%E5%8A%A1%E7%9A%84%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("4ã€ä¸€ä¸ªäº‹åŠ¡çš„æ‰§è¡Œæµç¨‹")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220510174411661.951cbbb0.png",alt:"image-20220510174411661"}})]),s._v(" "),t("p",[s._v("ä¸»çº¿ç¨‹")]),s._v(" "),t("p",[s._v("1ã€å®¢æˆ·ç«¯è®¿é—®mysqlæœåŠ¡ï¼Œåœ¨buffer poolä¸­è¿›è¡Œæ“ä½œï¼ˆå¦‚æœç›®æ ‡é¡µä¸åœ¨ç¼“å†²åŒºï¼Œéœ€è¦åŠ è½½è¿›å…¥ç¼“å†²åŒºï¼‰ï¼Œæ­¤æ—¶ä¼šå½¢æˆè„é¡µã€‚")]),s._v(" "),t("p",[s._v("2ã€è®°å½•redo logï¼Œå¯èƒ½äº§ç”Ÿå¾ˆå¤šç»„æ—¥å¿—ï¼Œredo logä¼˜å…ˆè®°å½•åœ¨ç¼“å†²åŒºï¼Œä¼šåœ¨æäº¤äº‹åŠ¡å‰åˆ·ç›˜ã€‚")]),s._v(" "),t("p",[s._v("3ã€åˆ·ç›˜æ—¶æ ¹æ®checkpointçš„ç»“æœï¼Œé€‰æ‹©å¯ä»¥ä½¿ç”¨çš„æ—¥å¿—ç©ºé—´è¿›è¡Œè®°å½•ã€‚")]),s._v(" "),t("p",[s._v("4ã€æˆåŠŸåå³å¯è¿”å›ï¼Œæ­¤æ—¶æ•°æ®ä¸ä¼šè½ç›˜ï¼Œè¿™ä¸ªè¿‡ç¨‹å¾ˆå¤šæ“ä½œåªåœ¨å†…å­˜è¿›è¡Œï¼Œåªéœ€è¦è®°å½•redo logï¼ˆé¡ºåºå†™ï¼‰ï¼Œæ‰€ä»¥é€Ÿåº¦å¾ˆå¿«ã€‚")]),s._v(" "),t("p",[s._v("çº¿ç¨‹1ï¼š")]),s._v(" "),t("p",[s._v("1ã€ä¸æ–­çš„å¯¹flushé“¾è¡¨çš„è„é¡µè¿›è¡Œåˆ·ç›˜ï¼Œå¯¹å“åº”æ—¶é—´æ²¡æœ‰è¿‡é«˜è¦æ±‚ã€‚")]),s._v(" "),t("p",[s._v("çº¿ç¨‹2ï¼š")]),s._v(" "),t("p",[s._v("1ã€ä¸æ–­çš„è¿›è¡Œcheckpoinæ“ä½œï¼Œä¿è¯redo logå¯ä»¥åŠæ—¶å†™å…¥ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_5ã€ç³»ç»Ÿå´©æºƒçš„å½±å“"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5ã€ç³»ç»Ÿå´©æºƒçš„å½±å“"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_5%E3%80%81%E7%B3%BB%E7%BB%9F%E5%B4%A9%E6%BA%83%E7%9A%84%E5%BD%B1%E5%93%8D",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("5ã€ç³»ç»Ÿå´©æºƒçš„å½±å“")]),s._v(" "),t("p",[s._v("ï¼ˆ1ï¼‰**log bufferä¸­çš„æ—¥å¿—ä¸¢å¤±ï¼Œ**log bufferä¸­çš„æ—¥å¿—ä¼šåœ¨æ¯æ¬¡äº‹åŠ¡å‰è¿›è¡Œåˆ·ç›˜ï¼Œå¦‚æœåœ¨äº‹åŠ¡è¿›è¡Œä¸­å´©æºƒï¼Œäº‹åŠ¡æœ¬æ¥å°±éœ€è¦å›æ»šã€‚")]),s._v(" "),t("p",[s._v("ï¼ˆ2ï¼‰"),t("strong",[s._v("buffer poolä¸­çš„è„é¡µä¸¢å¤±")]),s._v("ï¼Œå´©æºƒåå¯ä»¥é€šè¿‡redo logæ¢å¤ï¼Œé€šè¿‡checkpointæ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥ç¡®ä¿ï¼Œå†…å­˜ä¸­è„é¡µå¯¹åº”çš„è®°å½•éƒ½ä¼šåœ¨redo logæ—¥å¿—ä¸­å­˜åœ¨ã€‚")]),s._v(" "),t("p",[s._v("redo logä¿è¯äº†å´©æºƒåï¼Œæ•°æ®ä¸ä¸¢å¤±ï¼Œä½†æ˜¯ä¸€ä¸ªäº‹åŠ¡è¿›è¡Œä¸­ï¼Œå¦‚æœä¸€éƒ¨åˆ†redo logå·²ç»åˆ·ç›˜ï¼Œé‚£ä¹ˆç³»ç»Ÿä¼šå°†æœ¬åº”å›æ»šçš„æ•°æ®åŒæ ·æ¢å¤ï¼Œä¸ºäº†è§£å†³å›æ»šçš„é—®é¢˜ï¼Œinnodbæå‡ºäº†undo logã€‚")]),s._v(" "),t("h3",{attrs:{id:"å››ã€undo-logæ—¥å¿—"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å››ã€undo-logæ—¥å¿—"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#%E5%9B%9B%E3%80%81undo-log%E6%97%A5%E5%BF%97",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("å››ã€undo logæ—¥å¿—")]),s._v(" "),t("h4",{attrs:{id:"_1ã€æ¦‚è¿°-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€æ¦‚è¿°-3"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_1%E3%80%81%E6%A6%82%E8%BF%B0-1",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("1ã€æ¦‚è¿°")]),s._v(" "),t("p",[s._v("undo logï¼ˆä¹Ÿå«æ’¤é”€æ—¥å¿—æˆ–è€…å›æ»šæ—¥å¿—ï¼‰ï¼Œä»–çš„ä¸»è¦ä½œç”¨æ˜¯ä¸ºäº†å®ç°å›æ»šæ“ä½œã€‚åŒæ—¶ï¼Œä»–æ˜¯MVCCå¤šç‰ˆæœ¬æ§åˆ¶çš„æ ¸å¿ƒæ¨¡å—ã€‚undo logä¿å­˜åœ¨å…±äº«è¡¨ç©ºé—´ã€ibdata1æ–‡ä»¶ã€‘ä¸­ã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220511132907318.a045fd84.png",alt:"image-20220511132907318"}})]),s._v(" "),t("p",[s._v("**æ³¨æ„ï¼š**8.0ä»¥åundologæœ‰äº†ç‹¬ç«‹çš„è¡¨ç©ºé—´ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220511132953019.0170b963.png",alt:"image-20220511132953019"}})]),s._v(" "),t("p",[s._v("åœ¨è®²undo logä¹‹å‰éœ€è¦å…ˆäº†è§£è¡Œæ•°æ®ä¸­çš„ä¸¤ä¸ªéšè—åˆ—ï¼š")]),s._v(" "),t("h4",{attrs:{id:"_2ã€äº‹åŠ¡id-trx-id"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€äº‹åŠ¡id-trx-id"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_2%E3%80%81%E4%BA%8B%E5%8A%A1id-trx-id",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("2ã€äº‹åŠ¡idï¼ˆtrx_idï¼‰")]),s._v(" "),t("p",[s._v("æˆ‘ä»¬å·²ç»è®²è¿‡ï¼Œåœ¨innodbçš„è¡Œæ•°æ®ä¸­ï¼Œä¼šè‡ªåŠ¨æ·»åŠ ä¸¤ä¸ªéšè—åˆ—ï¼Œä¸€ä¸ªæ˜¯ã€trx_idã€‘ï¼Œä¸€ä¸ªæ˜¯ã€roll_pointerã€‘ï¼Œæœ¬ç« èŠ‚ä¼šè¯¦ç»†ä»‹ç»è¿™ä¸¤åˆ—çš„å…·ä½“ä½œç”¨ï¼Œå¦‚æœè¯¥è¡¨ä¸­æ²¡æœ‰å®šä¹‰ä¸»é”®ï¼Œä¹Ÿæ²¡æœ‰å®šä¹‰ã€éç©ºå”¯ä¸€ã€‘åˆ—ï¼Œåˆ™è¿˜ä¼šç”Ÿæˆä¸€ä¸ªéšè—åˆ—ã€row_idã€‘ï¼Œè¿™ä¸ªæˆ‘ä»¬ä¹‹é—´ä¹Ÿè®²è¿‡ï¼Œæ˜¯ä¸ºäº†ç”Ÿæˆèšç°‡ç´¢å¼•ä½¿ç”¨çš„ã€‚")]),s._v(" "),t("p",[s._v("äº‹åŠ¡idæ˜¯ä¸€ä¸ªè‡ªå¢çš„å…¨å±€å˜é‡ï¼Œå¦‚æœä¸€ä¸ªã€äº‹åŠ¡ã€‘å¯¹ä»»æ„è¡¨åšäº†ã€å¢åˆ æ”¹ã€‘çš„æ“ä½œï¼Œé‚£ä¹ˆinnodbå°±ä¼šç»™ä»–åˆ†é…ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„äº‹åŠ¡idã€‚")]),s._v(" "),t("p",[t("strong",[s._v("å†·çŸ¥è¯†ï¼š")])]),s._v(" "),t("ul",[t("li",[s._v("äº‹åŠ¡idä¿å­˜åœ¨ä¸€ä¸ªå…¨å±€å˜é‡ã€MAX_TRX_IDã€‘ä¸Šï¼Œæ¯æ¬¡äº‹åŠ¡éœ€è¦åˆ†é…äº‹åŠ¡idï¼Œå°±ä¼šä»è¿™ä¸ªå…¨å±€å˜é‡ä¸­è·å–ï¼Œç„¶åè‡ªå¢1ã€‚")]),s._v(" "),t("li",[s._v("è¯¥å˜é‡æ¯æ¬¡è‡ªå¢åˆ°256çš„å€æ•°ä¼šè¿›è¡Œä¸€ä¸ªè½ç›˜ï¼ˆä¿å­˜åœ¨è¡¨ç©ºé—´é¡µå·ä¸º5çš„é¡µé¢ä¸­ï¼‰ï¼Œå‘ç”ŸæœåŠ¡åœæ­¢æˆ–è€…ç³»ç»Ÿå´©æºƒåï¼Œå†èµ·å¯åŠ¨æœåŠ¡ï¼Œä¼šè¯»å–è¿™ä¸ªæ•°å­—ï¼Œç„¶åå†åŠ 256ã€‚è¿™æ ·åšæ—¢ä¿è¯ä¸ä¼šæœ‰å¤ªå¤šI/Oæ“ä½œï¼Œè¿˜èƒ½ä¿è¯idçš„æœ‰åºå¢é•¿ã€‚æ¯”å¦‚ï¼šè¯»åˆ°256è¿›è¡Œè½ç›˜ï¼Œåæ¥æœ‰æ¶¨åˆ°302ï¼Œçªç„¶å´©æºƒäº†ï¼Œä¸‹æ¬¡å¯åŠ¨åï¼Œç¬¬ä¸€ä¸ªäº‹åŠ¡çš„idå°±æ˜¯256+256=512ï¼Œä¿è¯æ–°çš„äº‹åŠ¡idä¸€å®šå¤§ã€‚")])]),s._v(" "),t("h4",{attrs:{id:"_3ã€roll-pointer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3ã€roll-pointer"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_3%E3%80%81roll-pointer",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("3ã€roll_pointer")]),s._v(" "),t("p",[s._v("undo logåœ¨è®°å½•æ—¥å¿—æ—¶æ˜¯è¿™æ ·è®°å½•çš„ï¼Œæ¯æ¬¡ä¿®æ”¹æ•°æ®ï¼Œéƒ½ä¼šå°†ä¿®æ”¹çš„æ•°æ®æ ‡è®°ä¸€ä¸ªã€æ–°çš„ç‰ˆæœ¬ã€‘ï¼ŒåŒæ—¶ï¼Œè¿™ä¸ªç‰ˆæœ¬çš„æ•°æ®çš„åœ°å€ä¼šä¿å­˜åœ¨ä¿®æ”¹ä¹‹å‰çš„æ•°æ®çš„roll_pointeråˆ—ä¸­ï¼Œå¦‚ä¸‹ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220512155454781.dbad9b39.png",alt:"image-20220512155454781"}})]),s._v(" "),t("h4",{attrs:{id:"_4ã€åˆ†ç±»"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4ã€åˆ†ç±»"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_4%E3%80%81%E5%88%86%E7%B1%BB",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("4ã€åˆ†ç±»")]),s._v(" "),t("p",[s._v("å½“æˆ‘ä»¬å¯¹æ•°æ®åº“çš„æ•°æ®è¿›è¡Œä¸€ä¸ªæ“ä½œæ—¶å¿…é¡»è®°å½•ä¹‹å‰çš„ä¿¡æ¯ï¼Œå°†æ¥æ‰èƒ½ã€æ‚”æ£‹ã€‘ï¼Œå¦‚ä¸‹ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("æ’å…¥ä¸€æ¡æ•°æ®æ—¶ï¼Œè‡³å°‘è¦æŠŠè¿™æ¡æ•°æ®çš„ä¸»é”®è®°å½•ä¸‹æ¥ï¼Œä»¥åä¸æƒ³è¦äº†ç›´æ¥æ ¹æ®ä¸»é”®åˆ é™¤ã€‚")]),s._v(" "),t("li",[s._v("åˆ é™¤ä¸€æ¡æ•°æ®æ—¶ï¼Œè‡³å°‘è¦æŠŠè¿™ä¸ªæ•°æ®æ‰€æœ‰çš„å†…å®¹å…¨éƒ¨è®°å½•ä¸‹æ¥ï¼Œä»¥åæ‰èƒ½å…¨é‡æ¢å¤ã€‚ä½†äº‹å®ä¸Šä¸éœ€è¦ï¼Œæ¯è¡Œæ•°æ®éƒ½æœ‰ä¸€ä¸ªdelete_flagï¼Œäº‹åŠ¡ä¸­å°†å…¶ç½®1ï¼Œè®°å½•idï¼Œå¦‚éœ€è¦å›æ»šæ ¹æ®idå¤åŸå³å¯ï¼Œæäº¤äº‹åŠ¡ååˆpurgeçº¿ç¨‹å¤„ç†åƒåœ¾ã€‚")]),s._v(" "),t("li",[s._v("ä¿®æ”¹ä¸€æ¡æ•°æ®æ—¶ï¼Œè‡³å°‘è¦å°†ä¿®æ”¹å‰åçš„æ•°æ®éƒ½ä¿å­˜ä¸‹æ¥ã€‚")])]),s._v(" "),t("p",[s._v("innodbå°†undo logåˆ†ä¸ºä¸¤ç±»ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("ä¸€ç±»æ—¥å¿—åªè®°å½•æ’å…¥ç±»å‹çš„æ“ä½œï¼ˆinsertï¼‰")]),s._v(" "),t("li",[s._v("ä¸€ç±»æ—¥å¿—åªè®°å½•ä¿®æ”¹ç±»å‹çš„æ“ä½œï¼ˆdeleteï¼Œupdateï¼‰")])]),s._v(" "),t("p",[s._v("ä»€ä¹ˆåˆ†ä¸ºè¿™ä¸¤ç±»å‘¢ï¼Ÿ")]),s._v(" "),t("ul",[t("li",[s._v("æ’å…¥å‹çš„è®°å½•ä¸éœ€è¦è®°å½•ç‰ˆæœ¬ï¼Œäº‹åŠ¡æäº¤ä»¥åè¿™ä¸€ç‰‡ç©ºé—´å°±å¯ä»¥é‡å¤åˆ©ç”¨äº†ã€‚")]),s._v(" "),t("li",[s._v("ä¿®æ”¹å‹çš„å¿…é¡»å°†æ¯æ¬¡ä¿®æ”¹ä½œä¸ºä¸€ä¸ªç‰ˆæœ¬è®°å½•ä¸‹æ¥ï¼Œå³ä½¿å½“å‰äº‹åŠ¡å·²ç»æäº¤ï¼Œä¹Ÿä¸ä¸€å®šèƒ½å›æ”¶ç©ºé—´ï¼Œåº”ä¸ºå…¶ä»–äº‹åŠ¡å¯èƒ½åœ¨ç”¨ã€‚")])]),s._v(" "),t("h4",{attrs:{id:"_5ã€ç‰©ç†å­˜å‚¨ç»“æ„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5ã€ç‰©ç†å­˜å‚¨ç»“æ„"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_5%E3%80%81%E7%89%A9%E7%90%86%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("5ã€ç‰©ç†å­˜å‚¨ç»“æ„")]),s._v(" "),t("p",[s._v("undoåŒæ ·æ˜¯ä»¥é¡µçš„å½¢å¼è¿›è¡Œå­˜å‚¨çš„ï¼Œå¤šä¸ªé¡µæ˜¯ä½¿ç”¨é“¾è¡¨çš„å½¢å¼è¿›è¡Œç®¡ç†ï¼Œé’ˆå¯¹ã€æ™®é€šè¡¨å’Œé›¶æ—¶è¡¨ã€‘ï¼Œã€æ’å…¥å‹å’Œä¿®æ”¹å‹ã€‘çš„æ•°æ®ï¼Œä¸€ä¸ªäº‹åŠ¡å¯èƒ½ä¼šäº§ç”Ÿä»¥ä¸‹å››ç§é“¾è¡¨ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220511190027272.aa4a4815.png",alt:"image-20220511190027272"}})]),s._v(" "),t("p",[s._v("è¿™æ˜¯ç‰©ç†å­˜å‚¨æ¨¡å‹ï¼Œåˆ†æˆå››ç§ç±»å‹ï¼Œæ˜¯ä¸ºäº†æ›´å¥½çš„ç®¡ç†ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_6ã€è®°å½•æµç¨‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6ã€è®°å½•æµç¨‹"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_6%E3%80%81%E8%AE%B0%E5%BD%95%E6%B5%81%E7%A8%8B",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("6ã€è®°å½•æµç¨‹")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("å¼€å¯äº‹åŠ¡ï¼Œæ‰§è¡Œã€å¢åˆ æ”¹ã€‘æ—¶è·å¾—ã€äº‹åŠ¡idã€‘ã€‚")])]),s._v(" "),t("li",[t("p",[s._v("åœ¨ç³»ç»Ÿè¡¨ç©ºé—´ä¸­ç¬¬5å·é¡µä¸­ï¼Œåˆ†é…ä¸€ä¸ªå›æ»šæ®µï¼Œå›æ»šæ®µæ˜¯è½®åŠ¨åˆ†é…çš„ï¼Œæ¯”å¦‚ï¼Œå½“å‰äº‹åŠ¡ä½¿ç”¨ç¬¬5ä¸ªå›æ»šæ®µï¼Œä¸‹ä¸ªäº‹åŠ¡å°±ä½¿ç”¨ç¬¬6ä¸ªã€‚")]),s._v(" "),t("p",[s._v("ã€å›æ»šæ®µã€‘æ˜¯ä¸€ä¸ªã€æ•°æ®é¡µã€‘ï¼Œé‡Œè¾¹åˆ’åˆ†äº†1024ä¸ªundo slotï¼Œç”¨æ¥å­˜å‚¨æ—¥å¿—é“¾è¡¨çš„å¤´èŠ‚ç‚¹åœ°å€ã€‚")])]),s._v(" "),t("li",[t("p",[s._v("åœ¨å½“å‰å›æ»šæ®µçš„cachedé“¾è¡¨ï¼ˆå›æ”¶å¯å¤ç”¨çš„ï¼‰å’Œç©ºé—²soltä¸­ï¼Œæ‰¾åˆ°ä¸€ä¸ªå¯ç”¨çš„slotï¼Œæ‰¾ä¸åˆ°å°±æŠ¥é”™ã€‚")])]),s._v(" "),t("li",[t("p",[s._v("åˆ›å»ºæˆ–å¤ç”¨ä¸€ä¸ªundo logé¡µï¼Œä½œä¸ºfirst undo pageï¼Œå¹¶æŠŠä»–çš„åœ°å€å†™å…¥undo soltä¸­ã€‚")])])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220511150345487.f4cdf002.png",alt:"image-20220511150345487"}})]),s._v(" "),t("h4",{attrs:{id:"_7ã€å›æ»šè¿‡ç¨‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7ã€å›æ»šè¿‡ç¨‹"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_7%E3%80%81%E5%9B%9E%E6%BB%9A%E8%BF%87%E7%A8%8B",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("7ã€å›æ»šè¿‡ç¨‹")]),s._v(" "),t("ol",[t("li",[s._v("æœåŠ¡å†æ¬¡å¯åŠ¨æ—¶ï¼Œé€šè¿‡è¡¨ç©ºé—´5å·é¡µé¢å®šä½åˆ°128ä¸ªå›æ»šæ®µçš„ä½ç½®ï¼Œ")]),s._v(" "),t("li",[s._v("éå†æ‰€æœ‰çš„slotï¼Œæ‰¾åˆ°æ‰€æœ‰çŠ¶æ€ä¸ä¸ºç©ºé—²çš„slotï¼Œå¹¶ä¸”é€šè¿‡undologçš„æ ‡è®°ä¸ºæ‰¾åˆ°ç°åœ¨æ´»è·ƒï¼ˆæœªæäº¤ï¼‰çš„æ‰€æœ‰çš„äº‹åŠ¡id")]),s._v(" "),t("li",[s._v("æ ¹æ®undo logçš„è®°å½•ï¼Œå°†æ•°æ®å…¨éƒ¨å›æ»š")])]),s._v(" "),t("h2",{attrs:{id:"ç¬¬ä¹ç« ã€éš”ç¦»çº§åˆ«å’Œmvcc"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç¬¬ä¹ç« ã€éš”ç¦»çº§åˆ«å’Œmvcc"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#%E7%AC%AC%E4%B9%9D%E7%AB%A0%E3%80%81%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%E5%92%8Cmvcc",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ç¬¬ä¹ç« ã€éš”ç¦»çº§åˆ«å’ŒMVCC")]),s._v(" "),t("p",[s._v("ã€MVCCã€‘ï¼Œå…¨ç§°Multi-Version Concurrency Controlï¼Œå³ã€å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ã€‘ã€‚MVCCåœ¨MySQL InnoDBä¸­çš„å®ç°ä¸»è¦æ˜¯ä¸ºäº†æé«˜æ•°æ®åº“çš„å¹¶å‘æ€§èƒ½ï¼Œç”¨æ›´å¥½çš„æ–¹å¼å»å¤„ç†ã€è¯»-å†™å†²çªã€‘ï¼Œåšåˆ°å³ä½¿æœ‰ã€è¯»å†™å†²çªã€‘æ—¶ï¼Œä¹Ÿèƒ½åšåˆ°ä¸åŠ é”ï¼Œéé˜»å¡å¹¶å‘è¯»ï¼Œå­¦ä¹ mvccä¹‹å‰æˆ‘ä»¬éœ€è¦å­¦ä¹ ä¸€äº›æ–°çš„æ¦‚å¿µã€‚")]),s._v(" "),t("h3",{attrs:{id:"ä¸€ã€read-view-è¯»è§†å›¾"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€read-view-è¯»è§†å›¾"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#%E4%B8%80%E3%80%81read-view-%E8%AF%BB%E8%A7%86%E5%9B%BE",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ä¸€ã€Read Viewï¼ˆè¯»è§†å›¾ï¼‰")]),s._v(" "),t("p",[s._v("åœ¨å­¦ä¹ MVCCå¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»å…ˆäº†è§£ä¸€ä¸‹ï¼Œä»€ä¹ˆæ˜¯MySQL InnoDBä¸‹çš„ã€å½“å‰è¯»ã€‘å’Œã€å¿«ç…§è¯»ã€‘ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“undo logä¼šè®°å½•ä¸€ä¸ªäº‹åŠ¡å¯¹ä¸€æ¡æ•°æ®çš„æ‰€æœ‰ä¿®æ”¹ï¼Œå¹¶å½¢æˆç‰ˆæœ¬é“¾ï¼š")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("å½“å‰è¯»")]),s._v("ï¼šåƒselect lock in share modeï¼ˆé”ï¼‰ã€ select for updateã€ updateã€insertã€deleteï¼ˆæ’ä»–é”ï¼‰è¿™äº›æ“ä½œéƒ½æ˜¯ã€å½“å‰è¯»ã€‘ï¼Œä»–è¯»å–çš„æ˜¯è®°å½•çš„ã€æœ€æ–°ç‰ˆæœ¬ã€‘ï¼Œè¯»å–æ—¶è¿˜è¦ä¿è¯å…¶ä»–ã€å¹¶å‘äº‹åŠ¡ã€‘ä¸èƒ½ä¿®æ”¹å½“å‰è®°å½•ï¼Œä¼šå¯¹è¯»å–çš„è®°å½•è¿›è¡ŒåŠ é”ã€‚")]),s._v(" "),t("li",[t("strong",[s._v("å¿«ç…§è¯»")]),s._v("ï¼šåƒä¸åŠ é”çš„selectæ“ä½œå°±æ˜¯å¿«ç…§è¯»ï¼Œå³ä¸åŠ é”çš„ã€éé˜»å¡è¯»ã€‘ï¼›å¿«ç…§è¯»çš„å‰ææ˜¯ã€éš”ç¦»çº§åˆ«ä¸æ˜¯ä¸²è¡Œçº§åˆ«ã€‘ï¼Œä¸²è¡Œçº§åˆ«ä¸‹çš„å¿«ç…§è¯»ä¼šã€é€€åŒ–æˆå½“å‰è¯»ã€‘ï¼Œé¡¾åæ€ä¹‰ï¼Œå¿«ç…§è¯»è¯»å–çš„æ˜¯ã€å¿«ç…§ã€‘ï¼Œä»–æ˜¯é€šè¿‡readViewå®ç°çš„ã€‚")])]),s._v(" "),t("h4",{attrs:{id:"_1ã€å®ç°åŸç†"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€å®ç°åŸç†"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_1%E3%80%81%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("1ã€å®ç°åŸç†")]),s._v(" "),t("p",[s._v("Read Viewå°±æ˜¯äº‹åŠ¡è¿›è¡Œã€å¿«ç…§è¯»ã€‘çš„æ—¶å€™ç”Ÿäº§çš„ã€è¯»è§†å›¾ã€‘(Read View)ï¼Œåœ¨è¯¥äº‹åŠ¡ã€æ‰§è¡Œå¿«ç…§è¯»ã€‘çš„é‚£ä¸€åˆ»ï¼Œä¼šç”Ÿæˆæ•°æ®åº“ç³»ç»Ÿå½“å‰çš„ä¸€ä¸ªå¿«ç…§ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("æ³¨æ„ï¼š")]),s._v("ã€å¿«ç…§ã€‘ä¸æ˜¯è¯´å°†æ•°æ®åº“å¤åˆ¶ä¸€ä»½ï¼Œã€Read Viewã€‘çš„ä¸»è¦ä½œç”¨æ˜¯åšã€å¯è§æ€§åˆ¤æ–­ã€‘ï¼Œ å¿«ç…§çš„å®ç°é€»è¾‘æ˜¯é€šè¿‡undo logçš„ã€ç‰ˆæœ¬é“¾ã€‘ï¼Œé…åˆä¸€äº›ã€å‚æ•°ã€‘ï¼Œæ¯”å¦‚äº‹åŠ¡idï¼Œæ¥ç¡®å®šå½“å‰äº‹åŠ¡å¯ä»¥è¯»å–çš„ç‰ˆæœ¬ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_2ã€readviewçš„ç»“æ„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€readviewçš„ç»“æ„"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_2%E3%80%81readview%E7%9A%84%E7%BB%93%E6%9E%84",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("2ã€readViewçš„ç»“æ„")]),s._v(" "),t("p",[s._v("ä¸¾ä¸€ä¸ªåˆ—å­ï¼Œå½“å‰æœ‰äº‹åŠ¡idä¸º12ã€13ã€14ã€16ã€20çš„äº”ä¸ªäº‹åŠ¡ï¼Œä»–ä»¬åœ¨åŒæ—¶ä¿®æ”¹ä¸€æ¡æ•°æ®ï¼Œæ­¤æ—¶ï¼Œäº‹åŠ¡13å‘ç”Ÿè¯»å–è¡Œä¸ºï¼Œåœ¨ã€äº‹åŠ¡13ã€‘è¯»å–ä¹‹å‰ã€äº‹åŠ¡14ã€‘å·²ç»æäº¤ï¼Œå½“å‰åœºæ™¯ä¸‹ï¼Œå°†äº§ç”Ÿä¸€ä¸ªreadviewå¦‚ä¸‹ï¼š")]),s._v(" "),t("p",[s._v("ä¸€ä¸ªreadViewå°±æ˜¯ä¸€ä¸ªã€ç»“æ„ä½“ã€‘ï¼Œä½ ç”šè‡³å¯ä»¥ç†è§£æˆä¸ºjavaé‡Œçš„å®ä¾‹ï¼ˆreadviewï¼‰å’Œå±æ€§ï¼ŒåŒ…å«å±æ€§å¦‚ä¸‹ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("m_idsï¼šç”Ÿæˆè¯¥readviewæ—¶ï¼Œå½“å‰ç³»ç»Ÿä¸­ã€æ´»è·ƒçš„äº‹åŠ¡ã€‘idåˆ—è¡¨ã€‚å¯¹äºå½“å‰æ¡ˆä¾‹ï¼Œå› ä¸º14å·²ç»æäº¤ï¼Œå°±ä¸æ´»è·ƒäº†ï¼Œæ‰€ä»¥è¯¥å˜é‡çš„å€¼ä¸º[12,13,16,20]ã€‚")]),s._v(" "),t("li",[s._v("min_trx_idï¼šå½“å‰ç³»ç»Ÿã€æ´»è·ƒäº‹åŠ¡ã€‘ä¸­æœ€å°çš„ã€äº‹åŠ¡idã€‘ï¼Œä»–ä¹Ÿæ˜¯m_idsçš„æœ€å°å€¼ï¼Œå½“å‰æ¡ˆä¾‹çš„å€¼å°±æ˜¯12ã€‚")]),s._v(" "),t("li",[s._v("max_trx_idï¼šå½“å‰ç³»ç»Ÿä¸­è®¡åˆ’åˆ†é…ç»™ä¸‹ä¸€ä¸ªäº‹åŠ¡çš„idï¼Œä»–å¯èƒ½æ˜¯m_idsçš„æœ€å¤§å€¼+1ï¼Œä¹Ÿå¯èƒ½æ¯”ä»–å¤§ã€‚å½“å‰æ¡ˆä¾‹å€¼å‡è®¾ä¸º22ã€‚")]),s._v(" "),t("li",[s._v("creator_trx_idï¼šç”Ÿæˆè¿™ä¸ªreadViewçš„äº‹åŠ¡idï¼Œå½“å‰æ¡ˆä¾‹çš„å€¼ä¸º12ã€‚")])]),s._v(" "),t("p",[s._v("ä»¥ä¸Šreadviewé…åˆundo logå°±å¯ä»¥å½¢æˆä¸€ä¸ªã€å¿«ç…§ã€‘ï¼Œé‚£ä»–æ˜¯æ€ä¹ˆè¯»å–çš„å‘¢ï¼Ÿ")]),s._v(" "),t("h3",{attrs:{id:"äºŒã€å¿«ç…§è¯»åŸç†è§£æ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€å¿«ç…§è¯»åŸç†è§£æ"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#%E4%BA%8C%E3%80%81%E5%BF%AB%E7%85%A7%E8%AF%BB%E5%8E%9F%E7%90%86%E8%A7%A3%E6%9E%90",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("äºŒã€å¿«ç…§è¯»åŸç†è§£æ")]),s._v(" "),t("p",[s._v("åœ¨ä¸€ä¸ªäº‹åŠ¡è¯»å–æ•°æ®æ—¶ï¼Œä¼šæ ¹æ®å½“å‰æ•°æ®å½¢æˆä¸€ä¸ªreadviewï¼Œè¯»å–æ—¶ä¼šæŒ‰ç…§ä»¥ä¸‹é€»è¾‘è¿›è¡Œè¯»å–ï¼š")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("å¦‚æœã€è¢«è®¿é—®æ•°æ®çš„äº‹åŠ¡trx_idã€‘å’ŒreadViewä¸­çš„ã€creator_trx_idå€¼ã€‘ç›¸åŒï¼Œæ„å‘³ç€è‡ªå·±åœ¨è®¿é—®è‡ªå·±ä¿®æ”¹è¿‡çš„è®°å½•ï¼Œå½“ç„¶å¯ä»¥è¢«è®¿é—®ã€‚")])]),s._v(" "),t("li",[t("p",[s._v("å¦‚æœã€è¢«è®¿é—®æ•°æ®çš„äº‹åŠ¡trx_idã€‘å°äºreadViewä¸­çš„ã€min_trx_idã€‘å€¼ï¼Œè¯´æ˜ç”Ÿæˆè¿™ä¸ªç‰ˆæœ¬æ•°æ®çš„äº‹åŠ¡ï¼Œåœ¨ç”Ÿæˆreadviewå‰å·²ç»æäº¤ï¼Œè¿™æ ·çš„æ•°æ®ä¹Ÿå¯ä»¥è®¿é—®ã€‚")]),s._v(" "),t("p",[s._v("**é€šä¿—ä¸€ç‚¹ï¼š**è¿™ä¸ªæ•°æ®ä¹‹å‰è¢«å…¶ä»–çš„äº‹åŠ¡ä¿®æ”¹è¿‡ï¼Œä½†æ˜¯äº‹åŠ¡å·²ç»æäº¤ï¼Œæ‰€ä»¥è¿™ä¸ªç‰ˆæœ¬çš„æ•°æ®æ˜¯å¯ä»¥ä½¿ç”¨çš„ï¼Œè¿™æ ·ä¸ä¼šäº§ç”Ÿè„è¯»ã€‚")])]),s._v(" "),t("li",[t("p",[s._v("å¦‚æœã€è¢«è®¿é—®æ•°æ®çš„äº‹åŠ¡trx_idã€‘å¤§äºç­‰äºreadViewä¸­çš„max_trx_idå€¼ï¼Œè¯´æ˜ç”Ÿæˆè¿™ä¸ªç‰ˆæœ¬æ•°æ®çš„äº‹åŠ¡ï¼Œæ˜¯åœ¨ç”Ÿæˆreadviewåå¼€å¯ï¼Œè¿™æ ·çš„æ•°æ®ä¸åº”è¯¥è¢«è®¿é—®ã€‚")]),s._v(" "),t("p",[s._v("**é€šä¿—ä¸€ç‚¹ï¼š**ä½ è¯»å–æ•°æ®ä¹‹åï¼Œæœ‰äººä¿®æ”¹äº†å½“å‰æ•°æ®ï¼Œé‚£äººå®¶åè¾¹ä¿®æ”¹çš„æ•°æ®ï¼Œä½ ä¹Ÿä¸èƒ½è¯»ã€‚")])]),s._v(" "),t("li",[t("p",[s._v("å¦‚æœã€è¢«è®¿é—®æ•°æ®çš„äº‹åŠ¡trx_idã€‘å¦‚æœåœ¨min_trx_idå’Œmax_trx_idèŒƒå›´å†…ï¼Œåˆ™éœ€è¦åˆ¤æ–­æ˜¯ä¸æ˜¯åœ¨ã€m_idsã€‘ä¸­ï¼ˆç›®çš„æ˜¯åˆ¤æ–­è¿™ä¸ªæ•°æ®æ˜¯ä¸æ˜¯å·²ç»æäº¤ï¼‰ã€‚å¦‚æœåœ¨ï¼Œè¯´æ˜ç”Ÿæˆè¿™ä¸ªç‰ˆæœ¬çš„äº‹åŠ¡è¿˜æ˜¯æ´»è·ƒçš„ï¼Œæ²¡æœ‰æäº¤çš„äº‹åŠ¡äº§ç”Ÿçš„æ•°æ®å½“ç„¶ä¸èƒ½è¯»ï¼Œå¦‚æœä¸åœ¨ï¼Œè¯´æ˜äº‹åŠ¡å·²ç»æäº¤ï¼Œè¯¥æ•°æ®å¯ä»¥è¢«è®¿é—®ã€‚")]),s._v(" "),t("p",[s._v("**é€šä¿—ä¸€ç‚¹ï¼š**è¿™ä¸ªæ•°æ®è¢«ç°åœ¨æ´»è·ƒçš„å…¶ä»–äº‹åŠ¡æ­£åœ¨ä¿®æ”¹ä¸­ï¼Œè¯»å–æ—¶è¦çœ‹æ­¤æ—¶è¿™ä¸ªäº‹åŠ¡æ˜¯ä¸æ˜¯å·²ç»æäº¤ï¼Œç›®çš„ä¹Ÿæ˜¯ä¸ºäº†ä¸è¦è¯»å–åˆ«äººæœªæäº¤çš„äº‹åŠ¡ã€‚")])])]),s._v(" "),t("p",[s._v("æˆ‘ä»¬ç”¨ä¸‹è¾¹çš„æ¡ˆä¾‹æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªè¿‡ç¨‹ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220512152116264.d7d80219.png",alt:"image-20220512152116264"}})]),s._v(" "),t("h3",{attrs:{id:"ä¸‰ã€è§£å†³è„è¯»å’Œä¸å¯é‡å¤è¯»"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰ã€è§£å†³è„è¯»å’Œä¸å¯é‡å¤è¯»"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#%E4%B8%89%E3%80%81%E8%A7%A3%E5%86%B3%E8%84%8F%E8%AF%BB%E5%92%8C%E4%B8%8D%E5%8F%AF%E9%87%8D%E5%A4%8D%E8%AF%BB",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ä¸‰ã€è§£å†³è„è¯»å’Œä¸å¯é‡å¤è¯»")]),s._v(" "),t("p",[s._v("å¯¹äºRUéš”ç¦»çº§åˆ«çš„äº‹åŠ¡æ¥è¯´ï¼Œç”±äºå¯ä»¥è¯»å–åˆ°æœªæäº¤çš„äº‹åŠ¡ï¼Œæ‰€æœ‰ç›´æ¥è¯»å–ã€æœ€æ–°çš„è®°å½•ã€‘ï¼ˆå½“å‰è¯»ï¼‰å°±å¯ä»¥ï¼Œå¯¹äºserializableçš„äº‹åŠ¡æ¥è¯´ï¼Œå¿…é¡»ä½¿ç”¨åŠ é”çš„æ–¹å¼æ¥è®¿é—®ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_1ã€è§£å†³è„è¯»"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€è§£å†³è„è¯»"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_1%E3%80%81%E8%A7%A3%E5%86%B3%E8%84%8F%E8%AF%BB",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("1ã€è§£å†³è„è¯»")]),s._v(" "),t("p",[s._v("å…ˆæ€è€ƒä¸€ä¸ªé—®é¢˜ï¼Œè„è¯»æŒ‡çš„æ˜¯åœ¨å½“å‰äº‹åŠ¡ä¸­è¯»å–åˆ°äº†å…¶ä»–äº‹åŠ¡æœªæäº¤çš„æ•°æ®ï¼Œé‚£è§£å†³çš„æ€è·¯æ˜¯ä»€ä¹ˆï¼š")]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ1ï¼‰æ²¡æœ‰undo+mvcc")])]),s._v(" "),t("p",[s._v("ä¸€ä¸ªäº‹åŠ¡è¯»å–äº†æ•°æ®ä¹‹åï¼Œç«‹é©¬ç»™è¿™ä¸ªæ•°æ®åŠ å†™é”ï¼Œä¸å…è®¸å…¶ä»–äº‹åŠ¡è¿›è¡Œä¿®æ”¹ï¼Œè¿™æ˜¯åŠ é”è§£å†³è„è¯»ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ2ï¼‰ä½¿ç”¨undo+mvcc")])]),s._v(" "),t("p",[s._v("æ‰€æœ‰äº‹åŠ¡å¯¹æ•°æ®çš„ä¿®æ”¹ï¼Œè®°å½•æˆç‰ˆæœ¬é“¾ï¼Œä½¿ç”¨readviewè¿›è¡Œç‰ˆæœ¬é€‰æ‹©ï¼Œæ¯ä¸ªäº‹åŠ¡åªèƒ½è¯»å–æ»¡è¶³æ¡ä»¶çš„æ•°æ®ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸éœ€è¦åŠ é”ã€‚")]),s._v(" "),t("p",[s._v("ä½¿ç”¨mvccå¾ˆå¥½çš„è§£å†³äº†ã€è¯»å†™æ“ä½œã€‘çš„å¹¶å‘æ‰§è¡Œï¼Œè€Œä¸”é‡‡ç”¨äº†æ— é”æœºåˆ¶ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_2ã€è§£å†³ä¸å¯é‡å¤è¯»"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€è§£å†³ä¸å¯é‡å¤è¯»"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_2%E3%80%81%E8%A7%A3%E5%86%B3%E4%B8%8D%E5%8F%AF%E9%87%8D%E5%A4%8D%E8%AF%BB",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("2ã€è§£å†³ä¸å¯é‡å¤è¯»")]),s._v(" "),t("p",[s._v("RCå’ŒRRä¸¤ä¸ªéš”ç¦»çº§åˆ«è§£å†³ä¸å¯é‡å¤è¯»æ˜¯é€šè¿‡ç”Ÿæˆreadviewæ—¶é—´ä¸åŒ")]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ1ï¼‰RCéš”ç¦»çº§åˆ«")]),s._v("ï¼ŒåŒä¸€ä¸ªäº‹åŠ¡ä¸­ã€æ¯æ¬¡è¯»å–æ•°æ®æ—¶éƒ½ç”Ÿæˆä¸€ä¸ªæ–°çš„ReadViewã€‘ï¼Œä¸¤æ¬¡è¯»å–æ—¶ï¼Œå¦‚æœä¸­é—´æœ‰å…¶ä»–äº‹åŠ¡è¿›è¡Œæäº¤ï¼Œå¯èƒ½ä¼šç”Ÿæˆä¸¤ä¸ªä¸åŒçš„readviewï¼Œå¯¼è‡´å½“å‰äº‹åŠ¡ä¸­ï¼Œä¸¤æ¬¡è¯»å–çš„æ•°æ®ä¸ä¸€è‡´ï¼Œè¿™å°±æ˜¯ä¸å¯é‡å¤è¯»ã€‚å…·ä½“çš„æ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220512154853148.129aabc5.png",alt:"image-20220512154853148"}})]),s._v(" "),t("p",[t("strong",[s._v("ï¼ˆ2ï¼‰RRéš”ç¦»çº§åˆ«")]),s._v("ï¼ŒåŒä¸€ä¸ªäº‹åŠ¡ä¸­ã€åªåœ¨ç¬¬ä¸€æ¬¡è¯»å–æ•°æ®æ—¶ç”Ÿæˆä¸€ä¸ªReadViewã€‘ï¼Œä»¥åè¿™ä¸ªäº‹åŠ¡ä¸­ä¸€ç›´ä½¿ç”¨è¿™ä¸ªreadviewï¼Œé‚£ä¹ˆåŒä¸€ä¸ªäº‹åŠ¡ä¸­å°±èƒ½ä¿è¯å¤šæ¬¡è¯»å–çš„æ•°æ®æ˜¯ä¸€è‡´çš„ï¼Œå…·ä½“çš„æ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼š")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ydlclass.com/doc21xnv/assets/image-20220512155222410.cf20dd90.png",alt:"image-20220512155222410"}})]),s._v(" "),t("h4",{attrs:{id:"_3ã€è§£å†³å¹»è¯»"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3ã€è§£å†³å¹»è¯»"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_3%E3%80%81%E8%A7%A3%E5%86%B3%E5%B9%BB%E8%AF%BB",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("3ã€è§£å†³å¹»è¯»")]),s._v(" "),t("p",[s._v("ä»–æ˜¯é€šè¿‡é—´éš™é”å®ç°çš„ï¼Œä¸€æ—¦é”å®šæŸä¸€ä¸ªèŒƒå›´çš„æ•°æ®ï¼Œå°±ä¼šå¯¹è¿™ä¸ªèŒƒå›´çš„æ•°æ®åŠ é”ï¼Œé—´éš™é”ä¿è¯æˆ‘ä»¬"),t("strong",[s._v("ä¸èƒ½åœ¨è¿™ä¸ªèŒƒå›´å†…æ’å…¥æ–°çš„æ•°æ®ã€‚")])]),s._v(" "),t("h2",{attrs:{id:"ç¬¬åç« -å…¶ä»–çŸ¥è¯†"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç¬¬åç« -å…¶ä»–çŸ¥è¯†"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#%E7%AC%AC%E5%8D%81%E7%AB%A0-%E5%85%B6%E4%BB%96%E7%9F%A5%E8%AF%86",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ç¬¬åç«  å…¶ä»–çŸ¥è¯†")]),s._v(" "),t("h3",{attrs:{id:"ä¸€ã€è§¦å‘å™¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€è§¦å‘å™¨"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#%E4%B8%80%E3%80%81%E8%A7%A6%E5%8F%91%E5%99%A8",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ä¸€ã€è§¦å‘å™¨")]),s._v(" "),t("p",[s._v("ä¸è¡¨æœ‰å…³çš„æ•°æ®å¯¹è±¡ï¼Œåœ¨æ»¡è¶³æŸç§æ¡ä»¶çš„æ—¶å€™ï¼Œè¢«åŠ¨æ‰§è¡Œçš„SQLè¯­å¥ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_1ã€è§¦å‘å™¨çš„ç‰¹æ€§"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€è§¦å‘å™¨çš„ç‰¹æ€§"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_1%E3%80%81%E8%A7%A6%E5%8F%91%E5%99%A8%E7%9A%84%E7%89%B9%E6%80%A7",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("1ã€è§¦å‘å™¨çš„ç‰¹æ€§")]),s._v(" "),t("ol",[t("li",[s._v("æœ‰beginã€endçš„ç»“æ„ä½“ï¼ˆå¤šæ¡sqlè¯­å¥ï¼‰")]),s._v(" "),t("li",[s._v("éœ€è¦æŒ‡å®šè§¦å‘çš„æ¡ä»¶ï¼šINSERTï¼ŒUPDATEï¼ŒDELETE")]),s._v(" "),t("li",[s._v("æœ‰æŒ‡å®šçš„è§¦å‘æ—¶é—´ï¼šBEFOREï¼ŒAFTER")])]),s._v(" "),t("h4",{attrs:{id:"_2ã€è§¦å‘å™¨çš„åˆ›å»º"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€è§¦å‘å™¨çš„åˆ›å»º"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_2%E3%80%81%E8%A7%A6%E5%8F%91%E5%99%A8%E7%9A%84%E5%88%9B%E5%BB%BA",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("2ã€è§¦å‘å™¨çš„åˆ›å»º")]),s._v(" "),t("ul",[t("li",[s._v("å•æ¡ä¸šåŠ¡é€»è¾‘çš„è§¦å‘å™¨åˆ›å»º")])]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("/*\nCREATE TRIGGER è§¦å‘å™¨åç§° BEFORE|AFTER INSERT|UPDATE|DELETE ON è¡¨å\nFOR EACH ROW ä¸šåŠ¡é€»è¾‘\n*/\n#å½“b_userè¡¨ä¸­æ’å…¥æ•°æ®åï¼Œb_logè¡¨ä¸­ä¹Ÿæ’å…¥ä¸€æ¡æ•°æ®\nCREATE TRIGGER trigger_insert AFTER INSERT ON b_user\nFOR EACH ROW INSERT INTO b_log(å­—æ®µ) VALUES('æ’å…¥æ•°æ®')\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("ul",[t("li",[s._v("å¤šæ¡ä¸šåŠ¡é€»è¾‘çš„è§¦å‘å™¨")])]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("/*\nDELIMITER $\nCREATE TRIGGER è§¦å‘å™¨åç§° BEFORE|AFTER INSERT|UPDATE|DELETE ON è¡¨å\nFOR EACH ROW\nBIGIN\nINSERT...;\nUPDATE...;\nEND;$\n*/\n#åœ¨b_userè¡¨ä¸­æ’å…¥æ•°æ®å‰ï¼Œb_logè¡¨ä¸­æ’å…¥2æ¡æ•°æ®\nDELIMITER $\nCREATE TRIGGER trigger_ insert_before BEFORE INSERT ON b_user\nFOR EACH ROW\nBEGIN\nINSERT INTO b_log(comments,name) values('insert1' ï¼ŒNEW.name);\nINSERT INTO b_log(comments,name) values('insert2' , NEW.name) ;\nEND;$\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("p",[t("strong",[s._v("æ€»ç»“")])]),s._v(" "),t("ul",[t("li",[s._v("BEFORE|AFTER INSERTç”¨äºè·å–å°†è¦æ’å…¥çš„æ•°æ®")]),s._v(" "),t("li",[s._v("BEFORE|AFTER UPDATE|DELETEç”¨äºè·å–å·²ç»ä¿®æ”¹æˆ–åˆ é™¤çš„æ•°æ®")])]),s._v(" "),t("h4",{attrs:{id:"_3ã€åˆ é™¤è§¦å‘å™¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3ã€åˆ é™¤è§¦å‘å™¨"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_3%E3%80%81%E5%88%A0%E9%99%A4%E8%A7%A6%E5%8F%91%E5%99%A8",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("3ã€åˆ é™¤è§¦å‘å™¨")]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("DROP TRIGGER è§¦å‘å™¨åç§°\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"äºŒã€å­˜å‚¨è¿‡ç¨‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€å­˜å‚¨è¿‡ç¨‹"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#%E4%BA%8C%E3%80%81%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("äºŒã€å­˜å‚¨è¿‡ç¨‹")]),s._v(" "),t("h4",{attrs:{id:"_1ã€-å˜é‡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€-å˜é‡"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_1%E3%80%81-%E5%8F%98%E9%87%8F",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("1ã€ å˜é‡")]),s._v(" "),t("h5",{attrs:{id:"_1-1-ç³»ç»Ÿå˜é‡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-ç³»ç»Ÿå˜é‡"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_1-1-%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("1.1 ç³»ç»Ÿå˜é‡")]),s._v(" "),t("p",[s._v("ç”±mysqlæ•°æ®åº“ç®¡ç†ç³»ç»Ÿæä¾›çš„ï¼Œå˜é‡åç§°å›ºå®šï¼Œå¯ä»¥ä¿®æ”¹å’ŒæŸ¥çœ‹å€¼ï¼Œåˆ†ä¸º"),t("strong",[s._v("å…¨å±€å˜é‡")]),s._v("å’Œ"),t("strong",[s._v("ä¼šè¯å˜é‡")])]),s._v(" "),t("p",[t("strong",[s._v("å…¨å±€å˜é‡")]),s._v("ï¼šå½“mysqlæœåŠ¡æ²¡æœ‰é‡å¯æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹å’Œä¿®æ”¹çš„å˜é‡")]),s._v(" "),t("p",[t("strong",[s._v("ä¼šè¯å˜é‡")]),s._v("ï¼šå’ŒMySQLè¿æ¥å½¢æˆçš„ä¼šè¯ï¼Œç”Ÿå‘½å‘¨æœŸåœ¨æ•´ä¸ªä¼šè¯è¿‡ç¨‹ä¸­")]),s._v(" "),t("p",[s._v("å…¨å±€å˜é‡ç”¨globalä¿®é¥°ï¼Œä¼šè¯å˜é‡ç”¨sessionä¿®é¥°ï¼Œé€šå¸¸sessionå¯ä»¥çœç•¥")]),s._v(" "),t("ul",[t("li",[s._v("æŸ¥çœ‹ç³»ç»Ÿå˜é‡")])]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SHOW GLOBAL variables; -- æŸ¥çœ‹å…¨å±€å˜é‡\nSHOW SESSION variables; -- æŸ¥çœ‹ä¼šè¯å˜é‡\nSHOW variables; -- æŸ¥çœ‹ä¼šè¯å˜é‡\nSHOW GLOBAL variables like '%dir%'; -- æ¨¡ç³ŠæŸ¥è¯¢ç¯å¢ƒå˜é‡\nSELECT @@datadir; -- æŸ¥çœ‹å…¨å±€ç³»ç»Ÿå˜é‡\nSELECT @@session_track_transaction_info;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("ul",[t("li",[s._v("ä¿®æ”¹ç³»ç»Ÿå˜é‡")])]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SHOW GLOBAL variables like 'autocommit'; -- å…¨å±€ç³»ç»Ÿå˜é‡ä¸­ä¸ºè‡ªåŠ¨æäº¤äº‹åŠ¡\nSET GLOBAL autocommit=0; -- å°†å…¨å±€çš„è‡ªåŠ¨æäº¤çš„äº‹åŠ¡æ”¹ä¸ºæ‰‹åŠ¨æäº¤\nSHOW SESSION variables link 'autocommit'; -- æŸ¥çœ‹ä¼šè¯å˜é‡ä¸­è‡ªåŠ¨æäº¤äº‹åŠ¡\nSET SESSION autocommit=0; -- å°†ä¼šè¯å˜é‡ä¸­è‡ªåŠ¨æäº¤çš„äº‹åŠ¡æ”¹ä¸ºæ‰‹åŠ¨æäº¤\nSET @@session.autocommit=1;\nSET @@global.autocommit=1;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[t("strong",[s._v("å…¨å±€å˜é‡")]),s._v("åœ¨ä¿®æ”¹åï¼Œåœ¨ä¸åŒçš„ä¼šè¯ä¸­éƒ½ä¼šç«‹å³ç”Ÿæ•ˆï¼Œä½†æ˜¯åœ¨é‡æ–°å¯åŠ¨mysqlæœåŠ¡åï¼Œå…¨å±€å˜é‡ä¼šæ¢å¤ä¸ºé»˜è®¤å€¼ï¼Œå¦‚æœæƒ³è®©å…¨å±€å˜é‡ä¾æ—§æœ‰æ•ˆï¼Œéœ€è¦å»ä¿®æ”¹.iniæ–‡ä»¶ï¼ˆMySQLé…ç½®æ–‡ä»¶ï¼‰")]),s._v(" "),t("p",[t("strong",[s._v("ä¼šè¯å˜é‡")]),s._v("åœ¨ä¿®æ”¹ååªå¯¹å½“å‰ä¼šè¯æœ‰æ•ˆã€‚ä¸€èˆ¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¿®æ”¹ä¼šè¯å˜é‡ã€‚å¦‚ï¼šå­—ç¬¦ç¼–ç æ ¼å¼ç­‰å¯ä»¥åœ¨iniæ–‡ä»¶ä¸­è¿›è¡Œè®¾ç½®")]),s._v(" "),t("h5",{attrs:{id:"_1-2-ç”¨æˆ·å˜é‡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-ç”¨æˆ·å˜é‡"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_1-2-%E7%94%A8%E6%88%B7%E5%8F%98%E9%87%8F",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("1.2 ç”¨æˆ·å˜é‡")]),s._v(" "),t("p",[s._v("MySQLå…è®¸ç”¨æˆ·è‡ªå®šä¹‰å˜é‡ï¼Œåˆ†ä¸ºç”¨æˆ·å˜é‡å’Œå±€éƒ¨å˜é‡")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("ç”¨æˆ·å˜é‡")]),s._v(" "),t("p",[s._v("ä½œç”¨åŸŸï¼šå½“å‰ä¼šè¯æœ‰æ•ˆ")]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("#è®¾ç½®æ–¹å¼1ï¼Œå…ˆå»å£°æ˜å¹¶åˆå§‹åŒ–ç”¨æˆ·å˜é‡ï¼Œèµ‹å€¼æ“ä½œæ—¢å¯ä»¥ä½¿ç”¨=è¿›è¡Œèµ‹å€¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨:=è¿›è¡Œèµ‹å€¼\nSET @å˜é‡å=å€¼;\nSET @å˜é‡å:=å€¼;\nSELECT @å˜é‡å:=å€¼;\n#è®¾ç½®æ–¹å¼2\nSELECT å­—æ®µ into @å˜é‡å FROM è¡¨å;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("å±€éƒ¨å˜é‡")]),s._v(" "),t("p",[s._v("ä½œç”¨åŸŸï¼šåœ¨begin endçš„ç»“æ„ä½“ä¸­ï¼Œå£°æ˜å¿…é¡»æ˜¯begin endç»“æ„ä½“çš„ç¬¬ä¸€å¥")]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("#å£°æ˜æ–¹å¼ï¼Œå¿…é¡»åœ¨beginåé¢ä»ç¬¬ä¸€è¡Œå¼€å§‹\nDECLARE å˜é‡å ç±»å‹;\nDECLARE å˜é‡å ç±»å‹ DEFAULT å€¼;\n\n#å±€éƒ¨å˜é‡çš„èµ‹å€¼\nSET å˜é‡å:=å€¼;\nSELECT @å˜é‡å:=å€¼;\nSELECT å­—æ®µ into å˜é‡å FROM è¡¨å;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])])])]),s._v(" "),t("h4",{attrs:{id:"_2ã€å­˜å‚¨è¿‡ç¨‹çš„åˆ›å»º"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€å­˜å‚¨è¿‡ç¨‹çš„åˆ›å»º"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_2%E3%80%81%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E7%9A%84%E5%88%9B%E5%BB%BA",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("2ã€å­˜å‚¨è¿‡ç¨‹çš„åˆ›å»º")]),s._v(" "),t("p",[s._v("å­˜å‚¨è¿‡ç¨‹æ˜¯ä¸€ç»„å·²ç»é¢„å…ˆç¼–è¯‘å¥½çš„sqlè¯­å¥çš„é›†åˆï¼Œç†è§£ä¸ºæ‰¹å¤„ç†è¯­å¥ï¼ˆå¢åŠ æµç¨‹æ§åˆ¶è¯­å¥ï¼‰ï¼Œä¸€èˆ¬åœ¨å¤æ‚é€»è¾‘ä¸­æ‰ä¼šä½¿ç”¨å­˜å‚¨è¿‡ç¨‹")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("å­˜å‚¨è¿‡ç¨‹çš„ä¼˜ç‚¹")]),s._v(" "),t("ul",[t("li",[s._v("æä¾›äº†ä»£ç çš„å¯ç”¨æ€§")]),s._v(" "),t("li",[s._v("ç®€åŒ–äº†æ•°æ®åº“æ“ä½œï¼Œå°†ä¸šåŠ¡é€»è¾‘çš„ç»†èŠ‚éšè—åœ¨å­˜å‚¨è¿‡ç¨‹ä¸­")]),s._v(" "),t("li",[s._v("å‡å°‘äº†ç¼–è¯‘æ¬¡æ•°ï¼Œå‡å°‘äº†ç½‘ç»œIOçš„æ¬¡æ•°ï¼Œä»è€Œæé«˜æ“ä½œæ•ˆç‡")])])]),s._v(" "),t("li",[t("p",[s._v("å­˜å‚¨è¿‡ç¨‹çš„åˆ›å»º")]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("/*\nDELIMITER $\nCREATE PROCEDURE å­˜å‚¨è¿‡ç¨‹çš„åç§°(å‚æ•°åˆ—è¡¨)\nBEGIN\nå±€éƒ¨å˜é‡çš„å®šä¹‰\nå¤šæ¡sqlè¯­å¥\næµç¨‹æ§åˆ¶è¯­å¥\nEND;$\n*/\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[s._v("å¦‚æœå­˜å‚¨è¿‡ç¨‹ä¸­åªæœ‰ä¸€æ¡SQLè¯­å¥å¯ä»¥çœç•¥BEGIN END")]),s._v(" "),t("p",[s._v("å‚æ•°åˆ—è¡¨")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("å‚æ•°æ¨¡å¼")]),s._v(" "),t("th",[s._v("å½¢å‚åç§°")]),s._v(" "),t("th",[s._v("å‚æ•°ç±»å‹")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("IN")]),s._v(" "),t("td",[s._v("username")]),s._v(" "),t("td",[s._v("mysqlæ•°æ®åº“ä¸­çš„æ•°æ®ç±»å‹ï¼ˆæ•°å€¼å‹ï¼Œå­—ç¬¦å‹ï¼Œæ—¥æœŸå‹ï¼‰")])]),s._v(" "),t("tr",[t("td",[s._v("OUT")]),s._v(" "),t("td",[s._v("pwd")]),s._v(" "),t("td",[s._v("mysqlæ•°æ®åº“ä¸­çš„æ•°æ®ç±»å‹ï¼ˆæ•°å€¼å‹ï¼Œå­—ç¬¦å‹ï¼Œæ—¥æœŸå‹ï¼‰")])]),s._v(" "),t("tr",[t("td",[s._v("INOUT")]),s._v(" "),t("td",[s._v("xxx")]),s._v(" "),t("td",[s._v("mysqlæ•°æ®åº“ä¸­çš„æ•°æ®ç±»å‹ï¼ˆæ•°å€¼å‹ï¼Œå­—ç¬¦å‹ï¼Œæ—¥æœŸå‹ï¼‰")])])])]),s._v(" "),t("p",[s._v("INï¼šå£°æ˜è¯¥å‚æ•°æ˜¯ä¸€ä¸ªè¾“å…¥å§“å‚æ•°ï¼ˆç±»ä¼¼äºjavaä¸­çš„å½¢å‚ï¼‰")]),s._v(" "),t("p",[s._v("OUTï¼šå£°æ˜è¯¥å‚æ•°ä¸ºä¸€ä¸ªè¾“å‡ºå‹å‚æ•°ï¼ˆç±»ä¼¼äºjavaä¸­çš„è¿”å›å€¼ï¼‰ï¼Œåœ¨ä¸€ä¸ªå­˜å‚¨è¿‡ç¨‹ä¸­å¯ä»¥å®šä¹‰å¤šä¸ªoutç±»å‹çš„å‚æ•°")]),s._v(" "),t("p",[s._v("INOUTï¼šå£°æ˜è¯¥å‚æ•°å¯ä»¥ä¸ºè¾“å…¥å‹å‚æ•°ï¼Œä¹Ÿå¯ä»¥ä¸ºè¾“å‡ºå‹å‚æ•°")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("å­˜å‚¨è¿‡ç¨‹è°ƒç”¨")]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("CALL å­˜å‚¨è¿‡ç¨‹çš„åç§°(å®å‚åˆ—è¡¨) \n-- å®å‚åˆ—è¡¨ä¸­åŒ…å«ç”±è¾“å‡ºç±»å‹çš„å‚æ•°\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("å­˜å‚¨è¿‡ç¨‹æ¼”ç¤º")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("æ— å‚çš„å­˜å‚¨è¿‡ç¨‹")]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("#ç”¨äºå‘b_userè¡¨ä¸­æ’å…¥2æ¡æ•°æ®\nDELIMITER $\nCREATE PROCEDURE pro_insert()\nBEGIN\nINSERT INTO b_user(name,sex) VALUES('1','1');\nINSERT INTO b_user(name,sex) VALUES('2','2');\nEND;$\n\nCALL pro_insert();\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("å¸¦æœ‰INæ¨¡å¼å‚æ•°çš„å­˜å‚¨è¿‡ç¨‹")]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("#ç”¨äºå‘b_useræ’å…¥2æ¡æ•°æ®ï¼Œæ€§åˆ«ç”±å®¢æˆ·è¾“å…¥\nDELIMITER $\nCREATE PROCEDURE pro_insert2(IN sex CHAR(1))\nBEGIN\nINSERT INTO b_user(name,sex) VALUES('1',sex);\nINSERT INTO b_user(name,sex) VALUES('2',sex);\nEND;$\n\nCALl pro_insert2('ç”·');\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("å¤šä¸ªå¸¦æœ‰INå‚æ•°çš„å­˜å‚¨è¿‡ç¨‹")]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("#ç”¨äºå‘b_useræ’å…¥2æ¡æ•°æ®ï¼Œç”¨æˆ·åå’Œå¯†ç ç”±å®¢æˆ·è¾“å…¥\nDELIMITER $\nCREATE PROCEDURE pro_insert3(IN name VARCHAR(10),IN sex VARCHAR(20))\nBEGIN\nINSERT INTO b_user(name,sex) VALUES(name,sex);\nINSERT INTO b_user(name,sex) VALUES(name,sex);\nEND;$\n\nCALL pro_insert2('uname','ç”·');\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("å¸¦INï¼ŒOUTå‚æ•°çš„å­˜å‚¨è¿‡ç¨‹")]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("#åˆ¤æ–­ç”¨æˆ·ç™»å½•ï¼Œå¦‚æœç”¨æˆ·åå’Œå¯†ç è¾“å…¥æ­£ç¡®ç™»å½•æˆåŠŸï¼Œå¦åˆ™ç™»å½•å¤±è´¥\n#æ ¹æ®è¾“å…¥çš„ç”¨æˆ·åå’Œå¯†ç ä½œä¸ºæ¡ä»¶å»b_userè¡¨ä¸­æŸ¥è¯¢ï¼Œå¦‚æœæŸ¥è¯¢æ€»è¡Œæ•°==1ï¼Œåˆ™è®¤ä¸ºç™»å½•æˆåŠŸï¼Œè®©resultè¿”å›ç™»å½•æˆåŠŸï¼Œå¦åˆ™ç™»å½•å¤±è´¥\nDELIMITER $\nCREATE PROCEDURE pro_login(IN name VARCHAR(20),IN pwd VARCHAR(20),OUT result VARCHAR(20))\nBEGIN\nDECLARE total INT DEFAULT 0;-- ç”¨äºå­˜æ”¾æŸ¥è¯¢æ€»è¡Œæ•°\nselect count(*) from b_user u where u.name=name and u.pwd=pwd;-- å°†æŸ¥è¯¢ç»“æœèµ‹å€¼ç»™totalå±€éƒ¨å˜é‡\nSET result:=IF(total=1,'ç™»å½•æˆåŠŸ','ç™»å½•å¤±è´¥');\nEND;$\n#å­˜å‚¨è¿‡ç¨‹å¦‚ä½•æ‰§è¡Œ\n-- è§£å†³åˆ¤æ–­ï¼Œä½¿ç”¨è‡ªå®šä¹‰å˜é‡\nSET @result:='';\nCAll pro_login('æå››','123',@result);\nselect @result;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("åˆ é™¤å­˜å‚¨è¿‡ç¨‹")]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("DROP PROCEDURE å­˜å‚¨è¿‡ç¨‹åç§°\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("æŸ¥çœ‹å­˜å‚¨è¿‡ç¨‹")]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SHOW CREATE PROCEDURE å­˜å‚¨è¿‡ç¨‹åç§°;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("ä¿®æ”¹å­˜å‚¨è¿‡ç¨‹")]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("DROP\nCREATE\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])])])])])])]),s._v(" "),t("h5",{attrs:{id:"_2-1-æµç¨‹æ§åˆ¶è¯­å¥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-æµç¨‹æ§åˆ¶è¯­å¥"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_2-1-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("2.1 æµç¨‹æ§åˆ¶è¯­å¥")]),s._v(" "),t("blockquote",[t("p",[s._v("é€‰æ‹©ç»“æ„")])]),s._v(" "),t("ul",[t("li",[t("p",[s._v("IFå‡½æ•°")]),s._v(" "),t("ul",[t("li",[s._v("åŠŸèƒ½ï¼šä¸‰ç›®è¿ç®—")]),s._v(" "),t("li",[s._v("è¯­æ³•ï¼šIF(é€»è¾‘è¡¨è¾¾å¼ï¼Œè¡¨è¾¾å¼1ï¼Œè¡¨è¾¾å¼2)")])])]),s._v(" "),t("li",[t("p",[s._v("IFç»“æ„")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("åŠŸèƒ½ï¼šå®ç°å¤šè·¯é€‰æ‹©")])]),s._v(" "),t("li",[t("p",[s._v("æ³¨æ„ï¼šåªèƒ½ç”¨åœ¨BEGIN ENDç»“æ„ä½“ä¸­")]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("/*\nIF é€»è¾‘è¡¨è¾¾å¼ THEN è¯­å¥1;\nELSEIF é€»è¾‘è¡¨è¾¾å¼2 THEN è¯­å¥2;\n...\nELSE è¯­å¥n;\nEND IF;\n*/\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])])])])]),s._v(" "),t("li",[t("p",[s._v("CASEç»“æ„")]),s._v(" "),t("ul",[t("li",[s._v("ç­‰å€¼é€‰æ‹©")])]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("CASE å­—æ®µ|å˜é‡|è¡¨è¾¾å¼\nWHEN å€¼ THEN å€¼|è¯­å¥\nWHEN å€¼ THEN å€¼\n...\nELSE å€¼\nEND\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("ul",[t("li",[s._v("ä¸ç­‰å€¼é€‰æ‹©")])]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("CASE\nWHEN é€»è¾‘è¡¨è¾¾å¼ THEN è¯­å¥1\n...\nELSE è¯­å¥n\nEND\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])])])]),s._v(" "),t("blockquote",[t("p",[s._v("å¾ªç¯ç»“æ„")])]),s._v(" "),t("ul",[t("li",[t("p",[s._v("WHILE")]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("/*\nWHILE é€»è¾‘è¡¨è¾¾å¼ DO\nå¾ªç¯ä½“\nEND WHILE;\n*/\n#éœ€æ±‚ï¼šåˆ›å»ºå­˜å‚¨è¿‡ç¨‹ï¼Œè¾“å…¥ä¸€ä¸ªå€¼ï¼Œè¿”å›1åˆ°è¯¥å€¼çš„å’Œ\n#åˆ†æï¼šä¸€ä¸ªè¾“å…¥å‚æ•°ï¼Œä¸€ä¸ªè¿”å›å€¼ï¼Œåœ¨ç»“æ„ä½“ä¸­ï¼Œä»1å¾ªç¯åˆ°è¾“å…¥çš„å€¼ï¼Œæ±‚å’Œ\nDELIMITER //\nCREATE PROCEDURE pro_sum(IN input INT,OUT total INT)\nBEGIN\nDECLARE i INT DEFAULT 1;\nDECLARE sum_ INT DEFAULT 0;\nWHILE i<=input do\nSET sum_=sum_+i;\nSET i=i+1;\nEND WHILE;\nSET totle:=sum_;\nEND;//\n\nSET @result=0;\nCALL por_sun(10,@result);\nSELECT @result;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("LOOP")]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("#Loopnaemæ˜¯å®šä¹‰çš„å¾ªç¯åç§°ï¼Œä¸ºäº†è·³å‡ºå¾ªç¯æ—¶æŒ‡å®šè·³å‡ºçš„å¾ªç¯\nloopname:LOOP;\n\tIF é€»è¾‘è¡¨è¾¾å¼ THEN\n\tLEAVE loopname; -- è·³å‡ºå½“å‰æŒ‡å®šçš„å¾ªç¯ï¼Œç±»ä¼¼äºjavaä¸­çš„break\n\tEND IF;\nEND LOOP;\n\nDElIMITER //\nCREATE PROCEDURE pro_sum_loop(IN input INT,OUT total INT)\nBEGIN \nDECLARE i INT DEFAULT 1;\nDECLARE sum_ INT DEFAULT 0;\na:LOOP;\nSET sum_:=sum_+i;\nSET i:=i+1;\nIF i>input THEN\nLEAVE a;\nEND IF;\nEND LOOP;\nSET total:=sum_;\nEND;//\n\nSET @result=0;\nCALL por_sum_loop(10,@result);\nSELECT @result;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("REPEAT")]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("REPEAT\nå¾ªç¯ä½“\nUNTIL é€»è¾‘è¡¨è¾¾å¼ -- å½“æ»¡è¶³é€»è¾‘è¡¨è¾¾å¼ï¼Œè·³å‡ºå¾ªç¯\nEND REPEAT;\n\nDELIMITER //\nCREATE PROCEDURE pro_sum_loop(IN input INT,OUT total INT)\nBEGIN \nDECLARE i INT DEFAULT 1;\nDECLARE sum_ INT DEFAULT 0;\nREPEAT\nSET sum_:=sum_+i;\nSET i:=i+1\nUNTIL i>input\nEND REPEAT;\nSET total:=sum_;\nEND;//\n\nSET @result=0;\nCALL por_sum_loop(10,@result);\nSELECT @result;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br")])])])]),s._v(" "),t("h3",{attrs:{id:"ä¸‰ã€å­˜å‚¨å‡½æ•°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰ã€å­˜å‚¨å‡½æ•°"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#%E4%B8%89%E3%80%81%E5%AD%98%E5%82%A8%E5%87%BD%E6%95%B0",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("ä¸‰ã€å­˜å‚¨å‡½æ•°")]),s._v(" "),t("p",[s._v("å‡½æ•°ä¹Ÿæ˜¯ä¸€ç»„é¢„å…ˆç¼–è¯‘å¥½çš„sqlçš„é›†åˆï¼ŒåŸºæœ¬å’Œå­˜å‚¨è¿‡ç¨‹ç›¸ä¼¼")]),s._v(" "),t("p",[t("strong",[s._v("å‡½æ•°å’Œå­˜å‚¨è¿‡ç¨‹çš„åŒºåˆ«")])]),s._v(" "),t("ol",[t("li",[s._v("å­˜å‚¨è¿‡ç¨‹å¯ä»¥æœ‰0ä¸ªï¼Œ1ä¸ªæˆ–å¤šä¸ªè¿”å›å€¼ï¼Œé€‚ç”¨äºinsertã€updateã€deleteæ“ä½œ")]),s._v(" "),t("li",[s._v("å‡½æ•°åªèƒ½æœ‰ä¸€ä¸ªè¿”å›å€¼ï¼Œé€‚ç”¨äºåœ¨å¤„ç†æ•°æ®ä»¥åï¼Œè¿”å›ä¸€ä¸ªå·²çŸ¥çš„ç»“æœ")])]),s._v(" "),t("h4",{attrs:{id:"_1ã€åˆ›å»ºå‡½æ•°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€åˆ›å»ºå‡½æ•°"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_1%E3%80%81%E5%88%9B%E5%BB%BA%E5%87%BD%E6%95%B0",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("1ã€åˆ›å»ºå‡½æ•°")]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("CREATE FUNCTION å‡½æ•°åç§°(å‚æ•°åˆ—è¡¨) RETURNS è¿”å›ç±»å‹ BINLOGå‚æ•°\nBEGIN\nå‡½æ•°ä½“\nEND\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[t("strong",[s._v("å‚æ•°åˆ—è¡¨")]),s._v("ï¼šå‚æ•°åç§° å‚æ•°ç±»å‹")]),s._v(" "),t("p",[t("strong",[s._v("BINLOGå‚æ•°")])]),s._v(" "),t("ul",[t("li",[s._v("NO SQLï¼šå‡½æ•°ä½“ä¸­æ²¡æœ‰sqlè¯­å¥ï¼Œ ä¹Ÿä¸ä¼šæ”¹å‚æ•°")]),s._v(" "),t("li",[s._v("READS SQL DATEï¼šå‡½æ•°ä½“ä¸­å­˜åœ¨sqlè¯­å¥ï¼Œä½†æ˜¯æ•´ä¸ªæ•°æ®æ˜¯åªè¯»çš„ï¼Œä¸ä¼šä¿®æ”¹æ•°æ®")]),s._v(" "),t("li",[s._v("MODIFIES SQL DATE ï¼šå‡½æ•°ä½“ä¸­å­˜åœ¨SQLè¯­å¥ï¼Œå¹¶ä¸”ä¼šä¿®æ”¹æ•°æ®")]),s._v(" "),t("li",[s._v("CONTAINS SQLï¼šå‡½æ•°ä½“ä¸­åŒ…å«æœ‰SQLè¯­å¥")])]),s._v(" "),t("p",[t("strong",[s._v("å‡½æ•°ä½“")]),s._v("ï¼šåœ¨å‡½æ•°ä½“æ±‡æ€»å¿…é¡»åŒ…å«returnè¯­å¥ï¼Œå°†returnæ”¾åœ¨å‡½æ•°ä½“æœ€åä¸€è¡Œæ‰§è¡Œ")]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("#å†™ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºæ±‚ä¸¤æ•°ä¹‹å’Œ\nDELIMITER //\nCREATE FUNCTION sum_(input1 INT,input2 INT) RETURNS INT NO SQL\nBEGIN\nreturn input1+input2;\nEND;//\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h4",{attrs:{id:"_2ã€ä½¿ç”¨å‡½æ•°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€ä½¿ç”¨å‡½æ•°"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_2%E3%80%81%E4%BD%BF%E7%94%A8%E5%87%BD%E6%95%B0",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("2ã€ä½¿ç”¨å‡½æ•°")]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SELECT å‡½æ•°å(å‚æ•°åˆ—è¡¨);\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"_3ã€æŸ¥çœ‹å‡½æ•°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3ã€æŸ¥çœ‹å‡½æ•°"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_3%E3%80%81%E6%9F%A5%E7%9C%8B%E5%87%BD%E6%95%B0",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("3ã€æŸ¥çœ‹å‡½æ•°")]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SHOW CREATE FUNCTION å‡½æ•°å;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"_4ã€åˆ é™¤å‡½æ•°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4ã€åˆ é™¤å‡½æ•°"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_4%E3%80%81%E5%88%A0%E9%99%A4%E5%87%BD%E6%95%B0",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("4ã€åˆ é™¤å‡½æ•°")]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("DROP FUNCTION å‡½æ•°å;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"å››ã€å®šæ—¶ä»»åŠ¡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å››ã€å®šæ—¶ä»»åŠ¡"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#%E5%9B%9B%E3%80%81%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("å››ã€å®šæ—¶ä»»åŠ¡")]),s._v(" "),t("h4",{attrs:{id:"_1ã€æŸ¥çœ‹å®šæ—¶ç­–ç•¥æ˜¯å¦å¼€å¯"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€æŸ¥çœ‹å®šæ—¶ç­–ç•¥æ˜¯å¦å¼€å¯"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_1%E3%80%81%E6%9F%A5%E7%9C%8B%E5%AE%9A%E6%97%B6%E7%AD%96%E7%95%A5%E6%98%AF%E5%90%A6%E5%BC%80%E5%90%AF",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("1ã€æŸ¥çœ‹å®šæ—¶ç­–ç•¥æ˜¯å¦å¼€å¯")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" variables "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("like")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%event_sche%'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("å¼€å¯å®šæ—¶ç­–ç•¥ï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("global")]),s._v(" event_scheduler"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"_2ã€åˆ›å»ºå®šæ—¶ä»»åŠ¡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€åˆ›å»ºå®šæ—¶ä»»åŠ¡"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_2%E3%80%81%E5%88%9B%E5%BB%BA%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("2ã€åˆ›å»ºå®šæ—¶ä»»åŠ¡")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" event run_event\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" schedule every "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("minute")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" completion preserve "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("disable")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("call")]),s._v(" test_procedure "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("1ã€create event day_eventï¼šæ˜¯åˆ›å»ºåä¸ºrun_eventçš„äº‹ä»¶ 2ã€åˆ›å»ºå‘¨æœŸå®šæ—¶çš„è§„åˆ™ï¼Œæ„æ€æ˜¯æ¯åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ 3ã€on completion preserve disableæ˜¯è¡¨ç¤ºåˆ›å»ºåå¹¶ä¸å¼€å§‹ç”Ÿæ•ˆã€‚ 4ã€do call test_procedure ()æ˜¯è¯¥event(äº‹ä»¶)çš„æ“ä½œå†…å®¹")]),s._v(" "),t("h4",{attrs:{id:"_3ã€å®šæ—¶ä»»åŠ¡æ“ä½œ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3ã€å®šæ—¶ä»»åŠ¡æ“ä½œ"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_3%E3%80%81%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E6%93%8D%E4%BD%9C",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("3ã€å®šæ—¶ä»»åŠ¡æ“ä½œ")]),s._v(" "),t("p",[s._v("1ã€æŸ¥çœ‹å®šæœŸä»»åŠ¡")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" event_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("event_definition"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("interval_value"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("interval_field"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("status")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" information_schema"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("EVENTS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("2ã€å¼€å¯æˆ–å…³é—­å®šæ—¶ä»»åŠ¡")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("alter")]),s._v(" event run_event "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" completion preserve "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("enable")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//å¼€å¯å®šæ—¶ä»»åŠ¡")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("alter")]),s._v(" event run_event "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" completion preserve "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("disable")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//å…³é—­å®šæ—¶ä»»åŠ¡")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h4",{attrs:{id:"_4ã€å®šæ—¶è§„åˆ™"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4ã€å®šæ—¶è§„åˆ™"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#_4%E3%80%81%E5%AE%9A%E6%97%B6%E8%A7%84%E5%88%99",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("4ã€å®šæ—¶è§„åˆ™")]),s._v(" "),t("p",[s._v("1ã€å‘¨æœŸæ‰§è¡Œâ€“å…³é”®å­— EVERY å•ä½æœ‰ï¼šsecondã€minuteã€hourã€dayã€week(å‘¨)ã€quarter(å­£åº¦)ã€monthã€year")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" schedule every "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" week "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//æ¯å‘¨æ‰§è¡Œ1æ¬¡")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("2ã€åœ¨å…·ä½“æŸä¸ªæ—¶é—´æ‰§è¡Œâ€“å…³é”®å­— AT")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" schedule at "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("current_timestamp")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interval")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("day")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//5å¤©åæ‰§è¡Œ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" schedule at "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2019-01-01 00:00:00'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//åœ¨2019å¹´1æœˆ1æ—¥ï¼Œ0ç‚¹æ•´æ‰§è¡Œ")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("3ã€åœ¨æŸä¸ªæ—¶é—´æ®µæ‰§è¡Œâ€“å…³é”®å­—STARTS ENDS")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" schedule every "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("day")]),s._v(" starts "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("current_timestamp")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interval")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("day")]),s._v(" ends "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("current_timestamp")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interval")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("month")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//5å¤©åå¼€å§‹æ¯å¤©éƒ½æ‰§è¡Œæ‰§è¡Œåˆ°ä¸‹ä¸ªæœˆåº•")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" schedule every "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("day")]),s._v(" ends "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("current_timestamp")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interval")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("day")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//ä»ç°åœ¨èµ·æ¯å¤©æ‰§è¡Œï¼Œæ‰§è¡Œ5å¤©")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"é™„å½•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é™„å½•"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.ydlclass.com/doc21xnv/database/mysqladvance/mysqlAdvance2.html#%E9%99%84%E5%BD%95",target:"_blank",rel:"noopener noreferrer"}},[s._v("#"),t("OutboundLink")],1),s._v("é™„å½•ï¼š")]),s._v(" "),t("p",[s._v("1ã€é…ç½®æ–‡ä»¶çš„ä¸¾ä¾‹")]),s._v(" "),t("div",{staticClass:"language-ini line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ini"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#[client]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#MySQLé»˜è®¤å¯†ç ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#password=88888888")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token section"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token section-name selector"}},[s._v("mysqld")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#MySQLä»¥ä»€ä¹ˆç”¨æˆ·è¿è¡Œ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#user=mysql")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#MySQLè¿è¡Œåœ¨å“ªä¸ªç«¯å£")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#port=3306")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ”¹å‚æ•°æŒ‡å®šäº†å®‰è£…MySQLçš„å®‰è£…è·¯å¾„ï¼Œå¡«å†™å…¨è·¯å¾„å¯ä»¥è§£å†³ç›¸å¯¹è·¯å¾„æ‰€é€ æˆçš„é—®é¢˜")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#basedir")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æŒ‡å®šMySQLçš„æ•°æ®åº“æ–‡ä»¶æ”¾åœ¨ä»€ä¹ˆè·¯å¾„ä¸‹")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("datadir")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("/usr/local/mysql/data")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#mysqlä»¥socketæ–¹å¼è¿è¡Œçš„sockæ–‡ä»¶ä½ç½®")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("socket")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("/usr/local/mysql/mysql.sock")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ˜¯å¦æ”¯æŒç¬¦å·é“¾æ¥ï¼Œå³æ•°æ®åº“æˆ–è¡¨å¯ä»¥å­˜å‚¨åœ¨my.cnfä¸­æŒ‡å®šdatadirä¹‹å¤–çš„åˆ†åŒºæˆ–è€…ç›®å½•ï¼Œä¸º0ä¸å¼€å¯")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("symbolic-links")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æœåŠ¡å™¨ä½¿ç”¨çš„å­—ç¬¦é›†")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("character-set-server")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("utf8")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#é»˜è®¤å­˜å‚¨å¼•æ“")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("default-storage-engine")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("INNODB")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#è¡¨ç¤ºé»˜è®¤å°†æ—¥å¿—æ–‡ä»¶å­˜å…¥æ–‡ä»¶ï¼Œé»˜è®¤å€¼æ˜¯'FILE' ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å¦‚æœæ—¶å€™log-output=TABLEè¡¨ç¤ºå°†æ—¥å¿—å­˜å…¥æ•°æ®åº“ï¼Œè¿™æ ·æ—¥å¿—ä¿¡æ¯å°±ä¼šè¢«å†™å…¥åˆ°mysql.slow_logè¡¨ä¸­")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("log-output")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("FILE")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1å¼€å¯ï¼Œ0å…³é—­ å°†æ‰€æœ‰åˆ°è¾¾MySQL Serverçš„SQLè¯­å¥è®°å½•ä¸‹æ¥")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("general-log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#è®¾ç½®æ—¥å¿—æ–‡ä»¶ä¿å­˜ä½ç½®")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("general_log_file")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token inner-value"}},[s._v("JOYWANG.log")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ…¢æŸ¥è¯¢æ—¥å¿—æ˜¯å¦å¼€å¯1,0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("slow-query-log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ…¢æŸ¥è¯¢æ—¥å¿—æ–‡ä»¶ä¿å­˜")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("slow_query_log_file")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token inner-value"}},[s._v("JOYWANG-slow.log")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ…¢æŸ¥è¯¢æ—¥å¿—è®¾ç½®æ—¶é—´å•ä½ç§’ S")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("long_query_time")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("10")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ˜¯å¦å¯ç”¨é”™è¯¯æ—¥å¿—çš„åŠŸèƒ½å’Œé”™è¯¯æ—¥å¿—çš„å­˜å‚¨ä½ç½®")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("log-error")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token inner-value"}},[s._v("JOYWANG.err")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å¦‚æœä¸è®¾ç½®åˆ™server-idæ˜¯æ ¹æ®æœåŠ¡å™¨ipåœ°å€å2ä½ç”Ÿæˆçš„ï¼Œé»˜è®¤0æˆ–1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å½“é…ç½®MySQLå¤åˆ¶æ—¶ï¼Œæ˜¯å¿…å¡«é¡¹ï¼Œç”¨æ¥åŒºåˆ†å¤åˆ¶æ‹“æ‰‘ä¸­çš„å„ä¸ªå®ä¾‹")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("server-id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#é™åˆ¶å¯¼å…¥å’Œå¯¼å‡ºçš„ç›®å½•æƒé™NULLè¡¨ç¤ºç¦æ­¢ã€å¦‚æœæ˜¯æ–‡ä»¶ç›®å½•ï¼Œå…è®¸è¯¥ç›®å½•ä¸‹æ–‡ä»¶ï¼ˆæµ‹è¯•å­ç›®å½•ä¸è¡Œï¼‰ã€å¦‚æœä¸ºç©ºåˆ™è¡¨ç¤ºä¸é™åˆ¶ç›®å½•ï¼Œä¸€å®šè¦æœ‰ç­‰å·ï¼Œå¦åˆ™mysqlæ— æ³•å¯åŠ¨")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("secure-file-priv")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æœ€å¤§å¹¶å‘è¿æ¥æ•°ï¼Œmysqlä¼šä¸ºæ¯ä¸ªè¿æ¥æä¾›ç¼“å†²åŒºï¼Œä¼šå¼€é”€è¶Šå¤šçš„å†…å­˜ï¼Œæ‰€ä»¥è¦é€‚å½“çš„è°ƒæ•´è¯¥å€¼ï¼Œä¸èƒ½ç›²ç›®çš„æé«˜è®¾ç½®å€¼")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("max_connections")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("151")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æŒ‡å®šé«˜é€Ÿç¼“å­˜çš„å¤§å°ï¼Œæ¯å½“MySQLè®¿é—®ä¸€ä¸ªè¡¨æ—¶ï¼Œå¦‚æœåœ¨è¡¨ç¼“å†²åŒºä¸­è¿˜æœ‰ç©ºé—´ï¼Œè¯¥è¡¨å°±è¢«æ‰“å¼€å¹¶æ”¾å…¥å…¶ä¸­ï¼Œè¿™æ ·å¯ä»¥æ›´å¿«åœ°è®¿é—®è¡¨å†…å®¹å•ä½M")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("table_open_cache")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("2000")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å¢åŠ ä¸€å¼ ä¸´æ—¶è¡¨å¤§å°ï¼Œæé«˜æŸ¥è¯¢é€Ÿåº¦")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("tmp_table_size")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("16M")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#çº¿ç¨‹æ± ç¼“å­˜å¤§å°ï¼Œå½“å®¢æˆ·ç«¯æ–­å¼€è¿æ¥åï¼Œå°†å½“å‰çº¿ç¨‹ç¼“å­˜èµ·æ¥ï¼Œå½“åœ¨æ¥åˆ°æ–°çš„è¿æ¥è¯·æ±‚æ—¶å¿«é€Ÿå“åº”ï¼Œæ— éœ€åˆ›å»ºæ–°çš„çº¿ç¨‹")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("thread_cache_size")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("10")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#MySQLé‡å»ºç´¢å¼•æ—¶å…è®¸ä½¿ç”¨çš„ä¸´æ—¶æ–‡ä»¶æœ€å¤§å¤§å°")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("MyIsam_max_sort_file_size")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("100G")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#è®¾ç½®åœ¨REPAIR TABLEï¼Œæˆ–è€…ç”¨ CREATE INDEX åˆ›å»ºç´¢å¼•æˆ– ALTER TABLE çš„è¿‡ç¨‹ä¸­æ’åºç´¢å¼•æ‰€åˆ†é…çš„ç¼“å†²åŒºå¤§å°ã€‚å¯è®¾ç½®èŒƒå›´4Bytes è‡³ 4GBï¼Œé»˜è®¤ä¸º8MBã€‚")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("MyIsam_sort_buffer_size")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("8M")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æŒ‡å®šç´¢å¼•ç¼“å†²åŒºçš„å¤§å°ï¼Œå†³å®šäº†ç´¢å¼•å¤„ç†çš„é€Ÿåº¦ï¼Œå°¤å…¶æ˜¯ç´¢å¼•è¯»çš„é€Ÿåº¦ï¼Œå»ºè®®è®¾ç½®æˆç‰©ç†å†…å­˜çš„1/4ï¼Œç”šè‡³ç‰©ç†å†…å­˜çš„30%-40%ï¼Œå¦‚æœè®¾ç½®å¤ªå¤§ï¼Œç³»ç»Ÿå°±ä¼šé¢‘ç¹çš„æ¢é¡µï¼Œé™ä½ç³»ç»Ÿæ€§èƒ½")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("key_buffer_size")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("8M")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#MySQLè¯»å…¥ç¼“å†²åŒºå¤§å°ï¼Œå¯¹è¡¨è¿›è¡Œé¡ºåºæ‰«æçš„è¯·æ±‚å°†åˆ†é…ä¸€ä¸ªè¯»å…¥ç¼“å†²åŒºï¼ŒMySQLä¼šä¸ºå®ƒåˆ†é…ä¸€æ®µå†…å­˜ç¼“å†²åŒºã€‚read_buffer_sizeå˜é‡æ§åˆ¶è¿™ä¸€ç¼“å†²åŒºçš„å¤§å°ã€‚å¦‚æœå¯¹è¡¨çš„é¡ºåºæ‰«æè¯·æ±‚éå¸¸é¢‘ç¹ï¼Œå¹¶ä¸”ä½ è®¤ä¸ºé¢‘ç¹æ‰«æè¿›è¡Œå¾—å¤ªæ…¢ï¼Œå¯ä»¥é€šè¿‡å¢åŠ è¯¥å˜é‡å€¼ä»¥åŠå†…å­˜ç¼“å†²åŒºå¤§å°æé«˜å…¶æ€§èƒ½ã€‚")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("read_buffer_size")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å‚æ•°ç”¨åœ¨sortæŸ¥è¯¢ä¹‹å ï¼Œä»¥ä¿è¯è·å–ä»¥é¡ºåºçš„æ–¹å¼è·å–åˆ°æŸ¥è¯¢çš„æ•°æ®ã€‚å¦‚æœä½ æœ‰å¾ˆå¤šorder by æŸ¥è¯¢è¯­å¥ï¼Œå¢é•¿è¿™å€¼èƒ½å¤Ÿæå‡æ€§èƒ½")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("read_rnd_buffer_size")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#0ï¼šlog bufferå°†æ¯ç§’ä¸€æ¬¡åœ°å†™å…¥log fileä¸­ï¼Œå¹¶ä¸”log fileçš„flush(åˆ·åˆ°ç£ç›˜)æ“ä½œåŒæ—¶è¿›è¡Œã€‚è¯¥æ¨¡å¼ä¸‹åœ¨äº‹åŠ¡æäº¤çš„æ—¶å€™ï¼Œä¸ä¼šä¸»åŠ¨è§¦å‘å†™å…¥ç£ç›˜çš„æ“ä½œã€‚")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1ï¼šæ¯æ¬¡äº‹åŠ¡æäº¤æ—¶MySQLéƒ½ä¼šæŠŠlog bufferçš„æ•°æ®å†™å…¥log fileï¼Œå¹¶ä¸”flush(åˆ·åˆ°ç£ç›˜)ä¸­å»ï¼Œè¯¥æ¨¡å¼ä¸ºç³»ç»Ÿé»˜è®¤ã€‚")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2ï¼šæ¯æ¬¡äº‹åŠ¡æäº¤æ—¶MySQLéƒ½ä¼šæŠŠlog bufferçš„æ•°æ®å†™å…¥log fileï¼Œä½†æ˜¯flush(åˆ·åˆ°ç£ç›˜)æ“ä½œå¹¶ä¸ä¼šåŒæ—¶è¿›è¡Œã€‚è¯¥æ¨¡å¼ä¸‹ï¼ŒMySQLä¼šæ¯ç§’æ‰§è¡Œä¸€æ¬¡ flush(åˆ·åˆ°ç£ç›˜)æ“ä½œã€‚")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("innodb_flush_log_at_trx_commit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ç¡®ä¿æœ‰è¶³å¤Ÿå¤§çš„æ—¥å¿—ç¼“å†²åŒºæ¥ä¿å­˜è„æ•°æ®åœ¨è¢«å†™å…¥åˆ°æ—¥å¿—æ–‡ä»¶ä¹‹å‰")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("innodb_log_buffer_size")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("1M")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æŒ‡å®šè¡¨æ•°æ®å’Œç´¢å¼•å­˜å‚¨çš„ç©ºé—´ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ–‡ä»¶ã€‚æœ€åä¸€ä¸ªæ•°æ®æ–‡ä»¶å¿…é¡»æ˜¯è‡ªåŠ¨æ‰©å……çš„ï¼Œä¹Ÿåªæœ‰æœ€åä¸€ä¸ªæ–‡ä»¶å…è®¸è‡ªåŠ¨æ‰©å……ã€‚è¿™æ ·ï¼Œå½“ç©ºé—´ç”¨å®Œåï¼Œè‡ªåŠ¨æ‰©å……æ•°æ®æ–‡ä»¶å°±ä¼šè‡ªåŠ¨å¢é•¿ï¼ˆä»¥8MBä¸ºå•ä½ï¼‰ä»¥å®¹çº³é¢å¤–çš„æ•°æ®ã€‚ä¾‹å¦‚ï¼š innodb_data_file_path=/disk1/ibdata1:900M;/disk2/ibdata2:50M:autoextendä¸¤ä¸ªæ•°æ®æ–‡ä»¶æ”¾åœ¨ä¸åŒçš„ç£ç›˜ä¸Šã€‚æ•°æ®é¦–å…ˆæ”¾åœ¨ibdata1ä¸­ï¼Œå½“è¾¾åˆ°900Mä»¥åï¼Œæ•°æ®å°±æ”¾åœ¨ibdata2ä¸­ã€‚ä¸€æ—¦è¾¾åˆ°50MBï¼Œibdata2å°†ä»¥ 8MBä¸ºå•ä½è‡ªåŠ¨å¢é•¿ã€‚å¦‚æœç£ç›˜æ»¡äº†ï¼Œéœ€è¦åœ¨å¦å¤–çš„ç£ç›˜ä¸Šé¢å¢åŠ ä¸€ä¸ªæ•°æ®æ–‡ä»¶ã€‚")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("innodb_data_file_path")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("/disk1/ibdata1:900M;/disk2/ibdata2:50M:autoextend")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#è¿™æ˜¯InnoDBæœ€é‡è¦çš„è®¾ç½®ï¼Œå¯¹InnoDBæ€§èƒ½æœ‰å†³å®šæ€§çš„å½±å“ã€‚é»˜è®¤çš„è®¾ç½®åªæœ‰8Mï¼Œæ‰€ä»¥é»˜è®¤çš„æ•°æ®åº“è®¾ç½®ä¸‹é¢InnoDBæ€§èƒ½å¾ˆå·®ã€‚åœ¨åªæœ‰InnoDBå­˜å‚¨å¼•æ“çš„æ•°æ®åº“æœåŠ¡å™¨ä¸Šé¢ï¼Œå¯ä»¥è®¾ç½®60-80%çš„å†…å­˜ã€‚æ›´ç²¾ç¡®ä¸€ç‚¹ï¼Œåœ¨å†…å­˜å®¹é‡å…è®¸çš„æƒ…å†µä¸‹é¢è®¾ç½®æ¯”InnoDB tablespaceså¤§10%çš„å†…å­˜å¤§å°ã€‚")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("innodb_buffer_pool_size")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("8M")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ”¾ç½®è¡¨ç©ºé—´æ•°æ®çš„ç›®å½•ï¼Œé»˜è®¤åœ¨mysqlçš„æ•°æ®ç›®å½•ï¼Œè®¾ç½®åˆ°å’ŒMySQLå®‰è£…æ–‡ä»¶ä¸åŒçš„åˆ†åŒºå¯ä»¥æé«˜æ€§èƒ½ã€‚")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("innodb_data_home_dir")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#è¯¥å‚æ•°å†³å®šäº†recovery speedã€‚å¤ªå¤§çš„è¯recoveryå°±ä¼šæ¯”è¾ƒæ…¢ï¼Œå¤ªå°äº†å½±å“æŸ¥è¯¢æ€§èƒ½ï¼Œä¸€èˆ¬å–256Må¯ä»¥å…¼é¡¾æ€§èƒ½å’Œrecoveryçš„é€Ÿåº¦")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("innodb_log_file_size")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("48M")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#è¯¥å‚æ•°è®¾å®šäº†äº‹åŠ¡æäº¤æ—¶å†…å­˜ä¸­logä¿¡æ¯çš„å¤„ç†ã€‚")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("1)")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("1æ—¶ï¼Œåœ¨æ¯ä¸ªäº‹åŠ¡æäº¤æ—¶ï¼Œæ—¥å¿—ç¼“å†²è¢«å†™åˆ°æ—¥å¿—æ–‡ä»¶ï¼Œå¯¹æ—¥å¿—æ–‡ä»¶åšåˆ°ç£ç›˜æ“ä½œçš„åˆ·æ–°ã€‚Truly ACIDã€‚é€Ÿåº¦æ…¢ã€‚")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("2)")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("2æ—¶ï¼Œåœ¨æ¯ä¸ªäº‹åŠ¡æäº¤æ—¶ï¼Œæ—¥å¿—ç¼“å†²è¢«å†™åˆ°æ–‡ä»¶ï¼Œ ä½†ä¸å¯¹æ—¥å¿—æ–‡ä»¶åšåˆ°ç£ç›˜æ“ä½œçš„åˆ·æ–°ã€‚åªæœ‰æ“ä½œç³»ç»Ÿå´©æºƒæˆ–æ‰ç”µæ‰ä¼šåˆ é™¤æœ€åä¸€ç§’çš„äº‹åŠ¡ï¼Œä¸ç„¶ä¸ä¼šä¸¢å¤±äº‹åŠ¡ã€‚")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("3)")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("0æ—¶ï¼Œ æ—¥å¿—ç¼“å†²æ¯ç§’ä¸€æ¬¡åœ°è¢«å†™åˆ°æ—¥å¿—æ–‡ä»¶ï¼Œå¹¶ä¸”å¯¹æ—¥å¿—æ–‡ä»¶åšåˆ°ç£ç›˜æ“ä½œçš„åˆ·æ–°ã€‚ä»»ä½•mysqldè¿›ç¨‹çš„å´©æºƒä¼šåˆ é™¤å´©æºƒå‰æœ€åä¸€ç§’çš„äº‹åŠ¡")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("innodb_flush_logs_at_trx_commit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#è®¾ç½®InnoDBåŒæ­¥IOçš„æ–¹å¼ï¼š")]),s._v("\n) Default â€“ ä½¿ç”¨fsyncï¼ˆï¼‰ã€‚\n2) O_SYNC ä»¥syncæ¨¡å¼æ‰“å¼€æ–‡ä»¶ï¼Œé€šå¸¸æ¯”è¾ƒæ…¢ã€‚\n3) O_DIRECTï¼Œåœ¨Linuxä¸Šä½¿ç”¨Direct IOã€‚å¯ä»¥æ˜¾è‘—æé«˜é€Ÿåº¦ï¼Œç‰¹åˆ«æ˜¯åœ¨RAIDç³»ç»Ÿä¸Šã€‚é¿å…é¢å¤–çš„æ•°æ®å¤åˆ¶å’Œdouble bufferingï¼ˆmysql buffering å’ŒOS bufferingï¼‰ã€‚\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("innodb_flush_method")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("Default")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#InnoDB kernelæœ€å¤§çš„çº¿ç¨‹æ•°ã€‚")]),s._v("\n1) æœ€å°‘è®¾ç½®ä¸º(num_disks+num_cpus)*2ã€‚\n2) å¯ä»¥é€šè¿‡è®¾ç½®æˆ1000æ¥ç¦æ­¢è¿™ä¸ªé™åˆ¶\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("innodb_thread_concurrency")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("25")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ­¤é…ç½®é¡¹ä½œç”¨ä¸»è¦æ˜¯å½“tablespace ç©ºé—´å·²ç»æ»¡äº†åï¼Œéœ€è¦MySQLç³»ç»Ÿéœ€è¦è‡ªåŠ¨æ‰©å±•å¤šå°‘ç©ºé—´ï¼Œæ¯æ¬¡tablespace æ‰©å±•éƒ½ä¼šè®©å„ä¸ªSQL å¤„äºç­‰å¾…çŠ¶æ€ã€‚å¢åŠ è‡ªåŠ¨æ‰©å±•Sizeå¯ä»¥å‡å°‘tablespaceè‡ªåŠ¨æ‰©å±•æ¬¡æ•°ã€‚")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("innodb_autoextend_increment")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("64")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å¯ä»¥å¼€å¯å¤šä¸ªå†…å­˜ç¼“å†²æ± ï¼ŒæŠŠéœ€è¦ç¼“å†²çš„æ•°æ®hashåˆ°ä¸åŒçš„ç¼“å†²æ± ä¸­ï¼Œè¿™æ ·å¯ä»¥å¹¶è¡Œçš„å†…å­˜è¯»å†™ã€‚")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("innodb_buffer_pool_instances")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("8")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#è¿™ä¸ªå‚æ•°è®¾ç½®ä¸ºä¸€ç§tickets,é»˜è®¤æ˜¯5000ï¼Œæˆ‘ä¹Ÿä¸æ¸…æ¥šåˆ°åº•å®ƒä»£è¡¨å¤šä¹…ï¼Œä»å®˜æ–¹æ–‡æ¡£æ¥çœ‹å®ƒå’Œäº‹ç‰©å¤„ç†çš„è¡Œæ•°æœ‰å…³ï¼Œå¤§äº‹ç‰©éœ€è¦å¤„ç†çš„è¡Œæ•°è‡ªç„¶æ›´å¤šï¼Œå°äº‹ç‰©å½“ç„¶ä¹Ÿå°±è¶Šå°‘è‡³å°‘æˆ‘ä»¬å¯ä»¥æƒ³æˆè·å¾—CPUçš„æ—¶é—´ï¼Œå¹²æ´»æœŸé—´ä»–ä¼šä¸æ–­å‡å°‘ï¼Œå¦‚æœå‡å°‘åˆ°0ï¼Œè¿™ä¸ªçº¿ç¨‹å°†è¢«æå‡ºinnodbå±‚æ¬¡ï¼Œè¿›å…¥å‰é¢è¯´çš„ç­‰å¾…é˜Ÿåˆ—ï¼Œå½“ç„¶ä¹Ÿå°±åœ¨é˜Ÿå°¾éƒ¨äº†ï¼Œè¿™é‡Œå‡è®¾æœ‰ä¸€ä¸ªå°çš„äº‹ç‰©æ­£åœ¨æ’é˜Ÿè¿›å…¥innodbå±‚ï¼Œåˆæˆ–è€…å®ƒå·²ç»è¿›å…¥äº†innodbå±‚æ²¡æœ‰è·å¾—CPUæ—¶é—´è½®ç‰‡ï¼Œçªç„¶ä¸€ä¸ªå¤§çš„äº‹ç‰©ticketsè€—å°½è¢«æå‡ºäº†innodbå±‚ï¼Œé‚£ä¹ˆè¿™ä¸ªå°äº‹ç‰©å°±è‡ªç„¶è€Œç„¶èƒ½å¤Ÿè·å¾—CPUè½®ç‰‡å¹²æ´»ï¼Œè€Œå°äº‹ç‰©æ‰§è¡Œéå¸¸å¿«ï¼Œæ‰§è¡Œå®Œæˆåï¼Œå¦å¤–çš„äº‹ç‰©åˆèƒ½å°½å¿«çš„è·å¾—CPUå¹²æ´»ï¼Œä¸ä¼šç”±äºOSçº¿ç¨‹è°ƒåº¦ä¸å‡åŒ€çš„é—®é¢˜è€Œé€ æˆçš„å°äº‹ç‰©é¥¥é¥¿é—®é¢˜ï¼Œè¿™å¾ˆå¥½ç†è§£ã€‚ä¹Ÿå°±æ˜¯å‰é¢æˆ‘è¯´çš„ä¸å…¶ä¾èµ–OSçš„è°ƒåº¦ç­–ç•¥ä¸å¦‚è‡ªå·±è®¾ç½®ä¸€ç§è§„åˆ™ï¼Œè®©ç”¨åˆ°äº†ä¸€å®šæ—¶é—´è½®ç‰‡çš„çº¿ç¨‹å…ˆå¤„äºç¡çœ æ€æ”¾å¼ƒCPUçš„ä½¿ç”¨")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("innodb_concurrency_tickets")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("5000")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("innodb_old_blocks_time")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("1000")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("innodb_open_files")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("300")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("innodb_stats_on_metadata")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å¯ä»¥å­˜å‚¨æ¯ä¸ªInnoDBè¡¨å’Œå®ƒçš„ç´¢å¼•åœ¨å®ƒè‡ªå·±çš„æ–‡ä»¶ä¸­ã€‚")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("innodb_file_per_table")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å¦‚æœåº”ç”¨ç¨‹åºå¯ä»¥è¿è¡Œåœ¨READ-COMMITEDéš”ç¦»çº§åˆ«ï¼Œåšæ­¤è®¾å®šä¼šæœ‰ä¸€å®šçš„æ€§èƒ½æå‡ã€‚")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("transaction-isolation")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("READ-COMITTED")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#è¿™ä¸ªå‚æ•°ç”¨æ¥è¡¨ç¤º é¡µè¯»å–åˆ°midä½ç½®åï¼Œéœ€è¦ç­‰å¾…å¤šä¹…æ‰ä¼šè¢«åŠ å…¥åˆ°LRUåˆ—è¡¨çš„çƒ­ç«¯ã€‚ä½¿LRUåˆ—è¡¨ä¸­çš„çƒ­ç‚¹æ•°æ®ä¸è¢«åˆ·å‡º")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("innodb_checksum_algorithm")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#MySQLæš‚æ—¶åœæ­¢å›ç­”æ–°è¯·æ±‚ä¹‹å‰çš„çŸ­æ—¶é—´å†…å¤šå°‘ä¸ªè¯·æ±‚å¯ä»¥è¢«å­˜åœ¨å †æ ˆä¸­")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("back_log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("80")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("flush_time")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å¦‚æœæŒ‰ç…§æ£€ç´¢çš„æ€§èƒ½æ–¹å¼æ¥ç»†åˆ†ï¼Œé‚£ä¹ˆæ— è®ºæ˜¯ä¸¤è¡¨ INNER JOIN è¿˜æ˜¯å¤šè¡¨ INNER JOINï¼Œéƒ½å¤§è‡´å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š1.JOIN KEY æœ‰ç´¢å¼•ï¼Œä¸»é”®2.JOIN KEY æœ‰ç´¢å¼•ï¼Œ äºŒçº§ç´¢å¼•3.JOIN KEY æ— ç´¢å¼•ï¼›JOIN BUFFER æ˜¯ MySQL ç”¨æ¥ç¼“å­˜ä»¥ä¸Šç¬¬äºŒã€ç¬¬ä¸‰è¿™ä¸¤ç±» JOIN æ£€ç´¢çš„ä¸€ä¸ª BUFFER å†…å­˜åŒºåŸŸå—ã€‚")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("join_buffer_size")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("256K")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å¯ä»¥å¢å¤§æ­¤å€¼ä»¥ä¾¿äºserverç«¯æ¥æ”¶æ›´å¤§çš„SQL")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("max_allowed_packet")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("4M")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#åŒä¸€ä¸»æœºæœ€å¤§è¿ç»­è¯·æ±‚é”™è¯¯æ¬¡æ•°ï¼Œå¦‚æœè¿˜æ²¡æˆåŠŸå»ºç«‹è¿æ¥ï¼ŒmysqlæœåŠ¡å™¨ä¼šç»„ç»‡è¿™å°ä¸»æœºåç»­çš„æ‰€æœ‰è¯·æ±‚")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("max_connect_errors")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("100")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#é™åˆ¶mysqldèƒ½æ‰“å¼€æ–‡ä»¶çš„æœ€å¤§æ•°")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("open_files_limit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("4161")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ä¸€ä¸ªconnectionçº§å‚æ•°ï¼Œåœ¨æ¯ä¸ªconnectionç¬¬ä¸€æ¬¡éœ€è¦ä½¿ç”¨è¿™ä¸ªbufferçš„æ—¶å€™ï¼Œä¸€æ¬¡æ€§åˆ†é…è®¾ç½®çš„å†…å­˜")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("sort_buffer_size")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("256K")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å°±æ˜¯æ§åˆ¶æ€»frmæ–‡ä»¶çš„æ•°é‡ï¼Œè¿˜æ˜¯ä¸ªhashè¡¨ï¼Œå†…éƒ¨ç»´æŠ¤ã€‚å¦‚æœæ‰“å¼€çš„è¡¨å®ä¾‹çš„æ•°é‡è¶…è¿‡äº†table_definition_cacheè®¾ç½®ï¼ŒLRUæœºåˆ¶å°†å¼€å§‹æ ‡è®°è¡¨å®ä¾‹ä»¥è¿›è¡Œæ¸…é™¤ï¼Œå¹¶æœ€ç»ˆå°†å®ƒä»¬ä»æ•°æ®å­—å…¸ç¼“å­˜ä¸­åˆ é™¤ã€‚ç®€å•é€šä¿—ç‚¹frmæ–‡ä»¶æœ‰å¤šå°‘ï¼Œå°±è®¾ç½®å¤šå°‘äº†")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("table_definition_cache")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("1400")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æŒ‡å®šåŸºäºè¡Œçš„äºŒè¿›åˆ¶æ—¥å¿—äº‹ä»¶çš„æœ€å¤§å¤§å°")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("binlog_row_event_max_size")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("8K")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æœ¬å‚æ•°ç”¨äºä¸»ä»åº“ä¸­é…ç½®ä»åº“å¤§äº0ä½œç”¨ä¸ºæ¯ä¸ªå‘½ä»¤ä¹‹ååˆ·ç›˜ï¼Œå°ä¸0ä½œä¸ºä¸ºæ°¸ä¸åˆ·ç›˜ï¼Œé»˜è®¤å‡ä¸º1000")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("sync_master_info")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("10000")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#è¿™ä¸ªå‚æ•°å’Œsync_binlogæ˜¯ä¸€æ ·çš„ï¼Œå½“è®¾ç½®ä¸º1æ—¶ï¼Œslaveçš„I/Oçº¿ç¨‹æ¯æ¬¡æ¥æ”¶åˆ°masterå‘é€è¿‡æ¥çš„binlogæ—¥å¿—éƒ½è¦å†™å…¥ç³»ç»Ÿç¼“å†²åŒºï¼Œç„¶ååˆ·å…¥relay logä¸­ç»§æ—¥å¿—é‡Œï¼Œè¿™æ ·æ˜¯æœ€å®‰å…¨çš„ï¼Œå› ä¸ºåœ¨å´©æºƒçš„æ—¶å€™ï¼Œä½ æœ€å¤šä¼šä¸¢å¤±ä¸€ä¸ªäº‹åŠ¡ï¼Œä½†ä¼šé€ æˆç£ç›˜çš„å¤§é‡I/Oã€‚å½“è®¾ç½®ä¸º0æ—¶ï¼Œå¹¶ä¸æ˜¯é©¬ä¸Šå°±åˆ·å…¥ä¸­ç»§æ—¥å¿—é‡Œï¼Œè€Œæ˜¯ç”±æ“ä½œç³»ç»Ÿå†³å®šä½•æ—¶æ¥å†™å…¥ï¼Œè™½ç„¶å®‰å…¨æ€§é™ä½äº†ï¼Œä½†å‡å°‘äº†å¤§é‡çš„ç£ç›˜I/Oæ“ä½œã€‚è¿™ä¸ªå€¼é»˜è®¤æ˜¯0ï¼Œå¯åŠ¨æ€ä¿®æ”¹ï¼Œå»ºè®®é‡‡ç”¨é»˜è®¤å€¼ã€‚")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("sync_relay_log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("10000")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#è¿™ä¸ªå‚æ•°å’Œsync_relay_logå‚æ•°ä¸€æ ·ï¼Œå½“è®¾ç½®ä¸º1æ—¶ï¼Œslaveçš„I/Oçº¿ç¨‹æ¯æ¬¡æ¥æ”¶åˆ°masterå‘é€è¿‡æ¥çš„binlogæ—¥å¿—éƒ½è¦å†™å…¥ç³»ç»Ÿç¼“å†²åŒºï¼Œç„¶ååˆ·å…¥relay-log.infoé‡Œï¼Œè¿™æ ·æ˜¯æœ€å®‰å…¨çš„ï¼Œå› ä¸ºåœ¨å´©æºƒçš„æ—¶å€™ï¼Œä½ æœ€å¤šä¼šä¸¢å¤±ä¸€ä¸ªäº‹åŠ¡ï¼Œä½†ä¼šé€ æˆç£ç›˜çš„å¤§é‡I/Oã€‚å½“è®¾ç½®ä¸º0æ—¶ï¼Œå¹¶ä¸æ˜¯é©¬ä¸Šå°±åˆ·å…¥relay-log.infoé‡Œï¼Œè€Œæ˜¯ç”±æ“ä½œç³»ç»Ÿå†³å®šä½•æ—¶æ¥å†™å…¥ï¼Œè™½ç„¶å®‰å…¨æ€§é™ä½äº†ï¼Œä½†å‡å°‘äº†å¤§é‡çš„ç£ç›˜I/Oæ“ä½œã€‚è¿™ä¸ªå€¼é»˜è®¤æ˜¯0ï¼Œå¯åŠ¨æ€ä¿®æ”¹ï¼Œå»ºè®®é‡‡ç”¨é»˜è®¤å€¼")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("sync_relay_log_info")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("10000")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å‚æ•°ä¸å¯åŠ¨æ€ä¿®æ”¹ï¼Œå¿…é¡»é‡å¯æ•°æ®åº“")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1:å­˜å‚¨åœ¨ç£ç›˜æ˜¯å°å†™ï¼Œæ¯”è¾ƒæ—¶ä¸åŒºåˆ†å¤§å°å†™")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2:å­˜å‚¨ä¸ºç»™å®šçš„å¤§å°å†™ä½†æ˜¯æ¯”è¾ƒæ—¶æ˜¯å°å†™")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#0:å­˜å‚¨ä¸ºç»™å®šçš„å¤§å°å†™å’Œæ¯”è¾ƒæ—¶åŒºåˆ†å¤§å°å†™çš„")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("lower_case_table_names")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ONLY_FULL_GROUP_BYï¼šå½’äºGROUP BYèšåˆæ“ä½œï¼Œå¦‚æœåœ¨SELECTä¸­çš„åˆ—ï¼Œæ²¡æœ‰åœ¨GROUP BYä¸­å‡ºç°ï¼Œé‚£ä¹ˆè¿™ä¸ªSQLæ˜¯ä¸åˆæ³•çš„ï¼Œå› ä¸ºåˆ—ä¸åœ¨GROUP BYä»å¥ä¸­")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#NO_AUTO_VALUE_ON_ZEROï¼šè¯¥å€¼å½±å“è‡ªå¢å¸¸çƒˆçš„æ’å…¥ã€‚é»˜è®¤è®¾ç½®ä¸‹ï¼Œæ’å…¥0æˆ–è€…NULLä»£è¡¨ç”Ÿæˆä¸‹ä¸€ä¸ªè‡ªå¢é•¿å€¼ã€‚å¦‚æœç”¨æˆ·å¸Œæœ›æ’å…¥çš„å€¼ä¸º0ï¼Œè€Œè¯¥åˆ—åˆæ˜¯è‡ªå¢é•¿çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªé€‰é¡¹å°±æœ‰ç”¨äº†")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#STRICT_TRANS_TABLESï¼šå¦‚æœä¸€ä¸ªå€¼ä¸èƒ½æ’å…¥åˆ°ä¸€ä¸ªäº‹ç‰©ä¸­ï¼Œåˆ™ä¸­æ–­å½“å‰æ“ä½œï¼Œå¯¹éäº‹ç‰©ä¸åšé™åˆ¶")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#NO_ZERO_IN_DATEï¼šåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œä¸å…è®¸æ—¥æœŸå’Œæœˆä»½ä¸ºé›¶")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#NO_ZERO_DATEï¼šmysqlä¸å…è®¸æ’å…¥é›¶æ—¥æœŸï¼Œæ’å…¥é›¶æ—¥æœŸä¼šæŠ›å‡ºé”™è¯¯è€Œä¸æ˜¯è­¦å‘Š")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ERROR_FOR_DIVISION_BY_ZEROï¼šåœ¨insertæˆ–updateè¿‡ç¨‹ä¸­ï¼Œå¦‚æœæ•°æ®è¢«æ¸…é™¤ï¼Œåˆ™äº§ç”Ÿé”™è¯¯è€Œéè­¦å‘Šã€‚å¦‚æœæœªç»™å‡ºè¯¥æ¨¡å¼ï¼Œé‚£ä¹ˆæ•°æ®è¢«æ¸…é™¤æ—¶Mysqlè¿”å›NULL")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#NO_AUTO_CREATE_USERï¼šç¦æ­¢GRANTåˆ›å»ºå¯†ç ä¸ºç©ºçš„ç”¨æˆ·")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#NO_ENGINE_SUBSTITUTIONï¼šå¦‚æœéœ€è¦çš„å­˜å‚¨å¼•æ“è¢«ç¦ç”¨æˆ–æœªç¼–è¯‘ï¼Œé‚£ä¹ˆæŠ›å‡ºé”™è¯¯ã€‚ä¸è®¾ç½®æ­¤å€¼æ—¶ï¼Œç”¨é»˜è®¤çš„å­˜å‚¨å¼•æ“æ›¿ä»£ï¼Œå¹¶æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#PIPES_AS_CONCATï¼šå°†â€œ||â€æ˜¯ä¸ºå­—ç¬¦ä¸²çš„é“¾æ¥æ“ä½œç¬¦è€Œéè¿ç®—ç¬¦ï¼Œè¿™å’ŒOracleæ•°æ®åº“æ˜¯ä¸€æ ·æ˜¯ï¼Œä¹Ÿå’Œå­—ç¬¦ä¸²çš„æ‹¼æ¥å‡½æ•°Concatç›¸ç±»ä¼¼")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ANSI_QUOTESï¼šä¸èƒ½ç”¨åŒå¼•å·æ¥å¼•ç”¨å­—ç¬¦ä¸²ï¼Œå› ä¸ºå®ƒè¢«è§£é‡Šä¸ºè¯†åˆ«ç¬¦")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("sql_mode")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br"),t("span",{staticClass:"line-number"},[s._v("60")]),t("br"),t("span",{staticClass:"line-number"},[s._v("61")]),t("br"),t("span",{staticClass:"line-number"},[s._v("62")]),t("br"),t("span",{staticClass:"line-number"},[s._v("63")]),t("br"),t("span",{staticClass:"line-number"},[s._v("64")]),t("br"),t("span",{staticClass:"line-number"},[s._v("65")]),t("br"),t("span",{staticClass:"line-number"},[s._v("66")]),t("br"),t("span",{staticClass:"line-number"},[s._v("67")]),t("br"),t("span",{staticClass:"line-number"},[s._v("68")]),t("br"),t("span",{staticClass:"line-number"},[s._v("69")]),t("br"),t("span",{staticClass:"line-number"},[s._v("70")]),t("br"),t("span",{staticClass:"line-number"},[s._v("71")]),t("br"),t("span",{staticClass:"line-number"},[s._v("72")]),t("br"),t("span",{staticClass:"line-number"},[s._v("73")]),t("br"),t("span",{staticClass:"line-number"},[s._v("74")]),t("br"),t("span",{staticClass:"line-number"},[s._v("75")]),t("br"),t("span",{staticClass:"line-number"},[s._v("76")]),t("br"),t("span",{staticClass:"line-number"},[s._v("77")]),t("br"),t("span",{staticClass:"line-number"},[s._v("78")]),t("br"),t("span",{staticClass:"line-number"},[s._v("79")]),t("br"),t("span",{staticClass:"line-number"},[s._v("80")]),t("br"),t("span",{staticClass:"line-number"},[s._v("81")]),t("br"),t("span",{staticClass:"line-number"},[s._v("82")]),t("br"),t("span",{staticClass:"line-number"},[s._v("83")]),t("br"),t("span",{staticClass:"line-number"},[s._v("84")]),t("br"),t("span",{staticClass:"line-number"},[s._v("85")]),t("br"),t("span",{staticClass:"line-number"},[s._v("86")]),t("br"),t("span",{staticClass:"line-number"},[s._v("87")]),t("br"),t("span",{staticClass:"line-number"},[s._v("88")]),t("br"),t("span",{staticClass:"line-number"},[s._v("89")]),t("br"),t("span",{staticClass:"line-number"},[s._v("90")]),t("br"),t("span",{staticClass:"line-number"},[s._v("91")]),t("br"),t("span",{staticClass:"line-number"},[s._v("92")]),t("br"),t("span",{staticClass:"line-number"},[s._v("93")]),t("br"),t("span",{staticClass:"line-number"},[s._v("94")]),t("br"),t("span",{staticClass:"line-number"},[s._v("95")]),t("br"),t("span",{staticClass:"line-number"},[s._v("96")]),t("br"),t("span",{staticClass:"line-number"},[s._v("97")]),t("br"),t("span",{staticClass:"line-number"},[s._v("98")]),t("br"),t("span",{staticClass:"line-number"},[s._v("99")]),t("br"),t("span",{staticClass:"line-number"},[s._v("100")]),t("br"),t("span",{staticClass:"line-number"},[s._v("101")]),t("br"),t("span",{staticClass:"line-number"},[s._v("102")]),t("br"),t("span",{staticClass:"line-number"},[s._v("103")]),t("br"),t("span",{staticClass:"line-number"},[s._v("104")]),t("br"),t("span",{staticClass:"line-number"},[s._v("105")]),t("br"),t("span",{staticClass:"line-number"},[s._v("106")]),t("br"),t("span",{staticClass:"line-number"},[s._v("107")]),t("br"),t("span",{staticClass:"line-number"},[s._v("108")]),t("br"),t("span",{staticClass:"line-number"},[s._v("109")]),t("br"),t("span",{staticClass:"line-number"},[s._v("110")]),t("br"),t("span",{staticClass:"line-number"},[s._v("111")]),t("br"),t("span",{staticClass:"line-number"},[s._v("112")]),t("br"),t("span",{staticClass:"line-number"},[s._v("113")]),t("br"),t("span",{staticClass:"line-number"},[s._v("114")]),t("br"),t("span",{staticClass:"line-number"},[s._v("115")]),t("br"),t("span",{staticClass:"line-number"},[s._v("116")]),t("br"),t("span",{staticClass:"line-number"},[s._v("117")]),t("br"),t("span",{staticClass:"line-number"},[s._v("118")]),t("br"),t("span",{staticClass:"line-number"},[s._v("119")]),t("br"),t("span",{staticClass:"line-number"},[s._v("120")]),t("br"),t("span",{staticClass:"line-number"},[s._v("121")]),t("br"),t("span",{staticClass:"line-number"},[s._v("122")]),t("br"),t("span",{staticClass:"line-number"},[s._v("123")]),t("br"),t("span",{staticClass:"line-number"},[s._v("124")]),t("br"),t("span",{staticClass:"line-number"},[s._v("125")]),t("br"),t("span",{staticClass:"line-number"},[s._v("126")]),t("br"),t("span",{staticClass:"line-number"},[s._v("127")]),t("br"),t("span",{staticClass:"line-number"},[s._v("128")]),t("br"),t("span",{staticClass:"line-number"},[s._v("129")]),t("br"),t("span",{staticClass:"line-number"},[s._v("130")]),t("br"),t("span",{staticClass:"line-number"},[s._v("131")]),t("br"),t("span",{staticClass:"line-number"},[s._v("132")]),t("br"),t("span",{staticClass:"line-number"},[s._v("133")]),t("br"),t("span",{staticClass:"line-number"},[s._v("134")]),t("br"),t("span",{staticClass:"line-number"},[s._v("135")]),t("br"),t("span",{staticClass:"line-number"},[s._v("136")]),t("br"),t("span",{staticClass:"line-number"},[s._v("137")]),t("br"),t("span",{staticClass:"line-number"},[s._v("138")]),t("br"),t("span",{staticClass:"line-number"},[s._v("139")]),t("br"),t("span",{staticClass:"line-number"},[s._v("140")]),t("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);